function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/private-route-wrapper-gkngzH0Q.js","assets/vendor-ZH71Hs13.js","assets/navigation-yBndQIhU.js","assets/use-permissions-state-DNuR5f40.js","assets/index-B6qgkr_a.js","assets/use-reapit-update-BDOupWKb.js","assets/index.esm-Ch-ie6LE.js","assets/yup-pf5yA_MY.js","assets/regexs-6gdYqTky.js","assets/index-DHTr8IbH.css","assets/index-D7Txa8pj.js","assets/index-CwlvE5Y3.js","assets/index-C-eCv2z-.js","assets/index-Co6JqKJd.js","assets/FileSaver.min-BZwjJ9VL.js","assets/create-subscriptions-DlhDi1Y-.js","assets/index-BnmXIwr-.js","assets/index-ByxUfMTY.js","assets/index-URb_F5BA.js","assets/developers-J_W8hVIR.js","assets/constants-aos_c5Ih.js","assets/index-DpImmTih.js","assets/index-DV5wFoXI.js","assets/index-CbuX5t19.css","assets/index-CdcNVm_R.js","assets/index-BIEZ_7h3.js","assets/index-DeN_O_WX.css","assets/index-Ds045RYB.js","assets/index-B5aMLmzw.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Et=Object.defineProperty;var Tt=(U,k,O)=>k in U?Et(U,k,{enumerable:!0,configurable:!0,writable:!0,value:O}):U[k]=O;var y=(U,k,O)=>(Tt(U,typeof k!="symbol"?k+"":k,O),O);import{r as u,v as je,U as _t,j as o,M as Dt,i as Ft,a as Ue,c as q,h as X,x as xt,O as jt,b as Ut,d as Z,I as Ot,P as Bt,e as Lt,f as Nt,g as ee,R as Kt,k as Oe,s as $t,l as Wt,m as Gt,q as Vt,n as qt,u as zt,o as Ht,p as Yt,t as Jt,w as Qt,y as Xt,z as Zt,A as te,B as es,C as ts,F as Be,D as Le,E as ss,G as rs,H as Ne,J as Ke,K as as,L as os,N as is,Q as P,S as ns,T as ps,V as v,W as cs,X as ls,Y as ds,Z as gs,_ as hs,$ as us,a0 as ms,a1 as fs,a2 as ys}from"./vendor-ZH71Hs13.js";let se,re,m,$e,ae,We,oe,ie,ne,Ge,z,pe,Ve,ce,le,ws=(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const U="react-image-crop-global-styles",k="image-cropper-outer",O="image-cropper-inner",qe="image-cropper-content",ze="image-cropper-crop-panel-wrapper",He="image-cropper-crop-panel",Ye="image-cropper-preview-wrapper",Je="image-cropper-preview",Qe=e=>({unit:"%",width:50,height:e?void 0:50,aspect:e}),Xe=(e,t)=>!t||!e?"":e.toDataURL("image/png"),Ze=({cropRatio:e,resizeDimensions:t,originWidth:a,originHeight:n})=>{const i=!t&&e>1,p=!t&&e<=1;return i?{outputWidth:a,outputHeight:a/e}:p?{outputHeight:n,outputWidth:n*e}:{outputWidth:t==null?void 0:t.width,outputHeight:t==null?void 0:t.height}},de=0,et=({completedCrop:e,previewCanvasRef:t,imgRef:a,resizeDimensions:n})=>()=>{if(!e||!t.current||!a.current)return;const i=a.current,p=t.current,c=i.naturalWidth,d=i.naturalHeight,l=c/i.width,h=d/i.height,g=e.width/e.height,{outputWidth:w,outputHeight:I}=Ze({cropRatio:g,resizeDimensions:n,originHeight:d,originWidth:c}),_=p.getContext("2d");_!==null&&(p.width=w,p.height=I,_.drawImage(i,e.x*l,e.y*h,e.width*l,e.height*h,de,de,w,I))},tt=e=>t=>{e.current=t},st=e=>t=>e(t),rt=e=>t=>e(t),at=({previewCanvasRef:e,completedCrop:t,onCropClick:a})=>()=>{a({previewCanvasRef:e,completedCrop:t})},ot=({setVisible:e,setFileName:t,setCroppedImage:a})=>()=>{t(""),a(""),e(!1)},it=({setCroppedImage:e,setVisible:t})=>({previewCanvasRef:a,completedCrop:n})=>{console.log(a,n);const i=Xe(a.current,n);e(i),t(!1)},nt=(e,t)=>a=>{if(a.target&&a.target.files&&a.target.files[0]){const n=a.target.files[0],i=new FileReader;i.readAsDataURL(n),i.onload=async()=>{const p=i.result;p&&typeof p=="string"&&(e(p),t(!0))},i.onerror=p=>{console.error(`file upload error: ${p}`)}}},pt=(e,t,a)=>()=>{(async()=>{const n=a&&t&&await a({imageData:t,name:je()});n&&n.Url&&e(n.Url)})().catch(n=>console.error(n))};u.forwardRef(({onFileView:e,onFileUpload:t,defaultValue:a,label:n,placeholderText:i,accept:p,id:c,aspect:d,resizeDimensions:l,...h},g)=>{const[w,I]=u.useState(a??""),[_,R]=u.useState(!1),[E,D]=u.useState(""),F=Qe(d),B=u.useRef(null),L=u.useRef(null),[T,K]=u.useState(F),[S,$]=u.useState(null),x=u.useMemo(()=>{var W,V;if(c)return c;const j=je();return((V=(W=window==null?void 0:window.process)==null?void 0:W.env)==null?void 0:V.NODE_ENV)==="test"?"test-static-id":j},[c]);u.useEffect(et({completedCrop:S,previewCanvasRef:L,imgRef:B,resizeDimensions:l}),[S]),u.useEffect(pt(I,E,t),[E]),u.useEffect(_t(x,[w]),[w]),u.useEffect(()=>{a&&I(a)},[a]);const G=!!(S!=null&&S.width&&S.height);return o.jsxs(o.Fragment,{children:[o.jsxs(Dt,{children:[n&&o.jsx(Ft,{children:n}),o.jsxs(Ue,{isFlexAlignCenter:!0,children:[o.jsx(q,{className:X,type:"button",intent:"default",children:w?"Change":"Upload"}),o.jsx(xt,{accept:p,type:"file",onChange:nt(I,R)}),o.jsx(jt,{id:x,...h,defaultValue:a,ref:g}),w?o.jsxs(Ut,{children:[e&&o.jsx(Z,{onClick:Ot(e,w),className:X,intent:"primary",icon:"view",fontSize:"1rem"}),o.jsx(Z,{onClick:Bt(I),className:X,intent:"primary",icon:"close",fontSize:"1rem"})]}):o.jsx(Lt,{hasGreyText:!0,hasNoMargin:!0,children:i??"Upload File"})]})]}),_&&o.jsx("div",{className:Nt(U,k),children:o.jsxs("div",{className:O,children:[o.jsxs("div",{className:qe,children:[o.jsxs("div",{className:ze,children:[o.jsx(ee,{children:"Crop Image"}),o.jsx(Kt,{ruleOfThirds:!0,className:He,src:w,onImageLoaded:tt(B),crop:T,onChange:st(K),onComplete:rt($)})]}),o.jsxs("div",{className:Ye,children:[o.jsx(ee,{children:"Preview"}),G&&o.jsx("canvas",{ref:L,className:Je})]})]}),o.jsxs(Oe,{alignment:"right",children:[o.jsx(q,{intent:"default",type:"button",onClick:ot({setVisible:R,setFileName:I,setCroppedImage:D}),children:"Cancel"}),o.jsx(q,{intent:"primary",type:"button",disabled:!G,onClick:at({previewCanvasRef:L,completedCrop:S,onCropClick:it({setCroppedImage:D,setVisible:R})}),children:"Crop"})]})]})})]})});let b,ge,he,ue,C,N,me,fe,ye,we,Ie,ve;b=(e,t=3,a=500)=>new Promise((n,i)=>{e().then(n).catch(p=>{console.info(p),setTimeout(()=>{if(t===1){window.location.reload();return}b(e,t-1,a).then(n,i)},a)})}),ge="okay-wrapper",he="okay-content",ue=()=>o.jsx("div",{className:ge,children:o.jsx("div",{className:he,children:o.jsx("h5",{id:"ok-content",children:"It's ok, everything's fine \u{1F44D}"})})}),pe=(e,t)=>{$t("Error",{message:e.message??"No error message caputured",page:window.location.href,identity:(t==null?void 0:t.loginIdentity)??"No Session Logged",permissionGroups:(t==null?void 0:t.loginIdentity.groups)??[],accessToken:(t==null?void 0:t.accessToken)??"No Access Token Logged",idToken:(t==null?void 0:t.idToken)??"No Id Token Logged"}),t&&Wt({email:(t==null?void 0:t.loginIdentity.email)??"No email logged",username:(t==null?void 0:t.loginIdentity.name)??"No name logged",id:(t==null?void 0:t.loginIdentity.clientId)??"No client id logged"}),Gt(e)},C="__REAPIT_MARKETPLACE_GLOBALS__",N="__REAPIT_MARKETPLACE_GLOBALS__",me=e=>{if(!(!window||!window[C]))return e===void 0?window[C]:window[C][e]},fe=(e={})=>{const t=JSON.parse(window.localStorage.getItem(N)),a=typeof t=="object"&&t!==null?{...t,...e}:{...e};return window.localStorage.setItem(N,JSON.stringify(a)),window[C]=a,window.location.reload(),a},ye=()=>(window.localStorage.removeItem(N),window[C]=void 0,window.location.reload(),!0),we=()=>{const e=JSON.parse(window.localStorage.getItem(N));if(typeof e=="object"&&e!==null){const t={...e};return window[C]=t,console.log(`window.${C} is set to`,JSON.parse(JSON.stringify(t))),t}return window.localStorage.removeItem(N),window[C]=void 0,!1},Ie=()=>{var e;Object.defineProperty(window,"desktopMode",{value:fe}),Object.defineProperty(window,"webMode",{value:ye}),((e=Object.getOwnPropertyDescriptor(window,C))==null?void 0:e.writable)!==!1&&we()},ne="Missing valid Reapit Connect Session, please try logging in again if the problem persists",re="ERR_NETWORK",ie=async(e,t)=>{var n;const a=(n=await e.connectSession())==null?void 0:n.accessToken;return a?{Authorization:`Bearer ${a}`,"api-version":"latest","Content-Type":"application/json",...t}:null},z=(e,t)=>{var g;const a=(g=e==null?void 0:e.response)==null?void 0:g.data,{description:n,title:i,message:p,errors:c}=a??{},d=n||i||p||(e!=null&&e.message?e.message:t||"An unknown error has occurred, please refresh the page and try again."),l=Array.isArray(c)?c==null?void 0:c.map(({field:w,message:I})=>`"${w}: ${I}"`):null,h=l?l.join(", "):"";return`${d} ${h}`},oe=(e,t,a)=>()=>{const{api:n,path:i}=e,p=a?Object.keys(a).reduce((d,l)=>d.replace(`{${l}}`,a[l]),i):i,c=Vt.stringify(t,{encode:!1});return`${n}${p}${c?`?${c}`:""}`},ve=(e,t)=>e.reduce((a,n,i)=>i?`${a}&${t}=${n}`:String(n),""),Ve=e=>Object.keys(e).reduce((t,a)=>{const n=e[a];return Array.isArray(n)?t[a]=ve(n,a):n&&(t[a]=String(n)),t},{}),le=({reapitConnectBrowserSession:e,action:t,queryParams:a,uriParams:n,headers:i,fetchWhenTrue:p,onSuccess:c,onError:d,refetchOnWindowFocus:l,retry:h,withCredentials:g})=>{const{success:w,error:I}=qt(),_=zt(),R=Ht(),{successMessage:E,errorMessage:D}=t,F=u.useMemo(oe(t,a,n),[a,n,t]),B=p!=null&&p.length?(p==null?void 0:p.filter(Boolean).length)===p.length:!0,{data:L,error:T,isLoading:K,isRefetching:S,refetch:$}=Yt([F],{queryFn:async()=>{const j=await ie(e,i);if(!j)throw new Error("Missing valid Reapit Connect Session, please try logging in again.");return(await Jt.get(F,{headers:j,withCredentials:g})).data},onSuccess:()=>{c&&E&&c(E),!c&&E&&w(E)},onError:async j=>{const W=await e.connectSession(),V=j.message===ne,Rt=j.code===re;if(V||Rt||!W)return R("/login");const Q=z(j,D);d&&d(Q),d||(I(Q),pe(new Error(Q),W))},retry:h||1,refetchOnWindowFocus:!!l,enabled:B}),x=L||null,G=T?z(T,D):null;return[x,B&&K,G,$,S,()=>{_.removeQueries({queryKey:[F]})}]};var be={appEnv:"development",sentryDsn:"",connectClientId:"76q6dqj28batdlespqc36urn8b",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerPortalUri:"https://developers.dev.paas.reapit.cloud",appMarketUri:"https://marketplace.dev.paas.reapit.cloud"};const ct=e=>e.region&&(e.region==="uk"||e.region==="anz"),lt=()=>{if(be.domainMappings){const e=JSON.parse(be.domainMappings)[window.location.hostname];if(ct(e))return e.region}return"uk"},dt=lt(),gt=()=>dt==="anz"?"https://platform.au.dev.rc.reapit.cloud":"https://platform.dev.paas.reapit.cloud",r={platform:gt(),pipeline:"https://deployments.dev.paas.reapit.cloud",apiKey:"https://api-key.dev.paas.reapit.cloud/api-key",iaas:".dev.paas.reapit.cloud",appMarketCms:"https://marketplace-cms.dev.paas.reapit.cloud",payments:"https://payments-service.dev.paas.reapit.cloud"};let s;s=(e=>(e.dwAccounts="/dataMarketplace/accounts",e.dwDataSets="/dataMarketplace/datasets",e.dwShares="/dataMarketplace/shares",e.dwSharesId="/dataMarketplace/shares/{shareId}",e.dwShareRefresh="/dataMarketplace/shares/{shareId}/refresh",e.dwRequests="/dataMarketplace/requests",e.dwAccountsId="/dataMarketplace/accounts/{accountId}",e.apps="/marketplace/apps",e.appsId="/marketplace/apps/{appId}",e.installations="/marketplace/installations",e.getPipeline="/pipeline/{appId}",e.products="/marketplace/products",e.sandboxes="/marketplace/sandboxes",e.createPipeline="/pipeline",e.updatePipeline="/pipeline/{pipelineId}",e.getPipelineDeployments="/pipeline/{pipelineId}/pipeline-runner",e.createPipelineDeployments="/pipeline/{pipelineId}/pipeline-runner",e.appPermissions="/marketplace/scopes",e.getApiKeyByUserId="/user/{email}",e.createApiKeyByMember="/user",e.getMember="/marketplace/developers/{developerId}/members",e.deleteApiKey="/{apiKeyId}",e.billingDataByMonth="/trafficevents/billing/{month}/",e.getBillingDataByPeriod="/trafficevents/billing/",e.developerById="/marketplace/developers/{developerId}",e.customersById="/marketplace/customers/{customerId}",e.developers="/marketplace/developers",e.appSecretById="/marketplace/apps/{appId}/secret",e.desktopIntegrationTypes="/marketplace/desktopIntegrationTypes",e.appCategories="/marketplace/categories",e.appRevision="/marketplace/apps/{appId}/revisions",e.officeGroupId="/organisations/organisations/{orgId}/officegroups/{groupId}",e.fileUpload="/fileUpload",e.terminateInstallation="/marketplace/installations/{installationId}/terminate",e.appRevisions="/marketplace/apps/{appId}/revisions",e.cancelRevision="/marketplace/apps/{appId}/revisions/{revisionId}/reject",e.paginatePipeline="/pipeline",e.trafficStatistics="/trafficevents/trafficStatistics",e.memberById="/marketplace/developers/{developerId}/members/{memberId}",e.subscriptions="/marketplace/subscriptions",e.subscriptionsById="/marketplace/subscriptions/{subscriptionId}",e.webhooksPing="/webhooks/subscriptions/{subscriptionId}/ping",e.webhookSubscriptions="/webhooks/subscriptions",e.webhookSubscriptionsId="/webhooks/subscriptions/{webhookId}",e.webhookTopics="/webhooks/topics",e.webhookLogs="/webhooks/logs",e.memberInviteAccept="/marketplace/developers/{developerId}/members/{memberId}/accept",e.memberInviteReject="/marketplace/developers/{developerId}/members/{memberId}/reject",e.getPipelineEnvironment="/pipeline/{pipelineId}/parameter",e.upsertPipelineEnvironment="/pipeline/{pipelineId}/parameter",e.deletePipelineEnvironment="/pipeline/{pipelineId}/parameter/{key}",e.publicWebhookKey="/webhooks/signing",e.appConsents="/marketplace/apps/{appId}/revisions/{revisionId}/consents",e.appConsentResend="/marketplace/apps/{appId}/revisions/{revisionId}/consents/{consentId}/resend",e.appConsentApprove="/marketplace/apps/{appId}/revisions/{revisionId}/consents/{consentId}/approve",e.cmsConfig="/cms/config",e.cmsConfigLive="/",e.cmsConfigPost="/cms/config/{id}",e.propertyById="/properties/{propertyId}",e.properties="/properties",e.payments="/payments",e.paymentById="/payments/{paymentId}",e.appConsentApproveEmail="/marketplace/apps/{id}/revisions/{revisionId}/consents/{consentId}/resend",e.userInfo="/organisations/users/info",e.userById="/organisations/users/{userId}",e.appByIdFeature="/marketplace/apps/{appId}/feature",e.customers="/marketplace/customers",e.approvals="/marketplace/approvals",e.revisionById="/marketplace/apps/{appId}/revisions/{revisionId}",e.revisionApprove="/marketplace/apps/{appId}/revisions/{revisionId}/approve",e.revisionReject="/marketplace/apps/{appId}/revisions/{revisionId}/reject",e.users="/organisations/users",e.userAuthenticators="/organisations/users/{userId}/authenticators",e.userAuthenticatorById="/organisations/users/{userId}/authenticators/{authenticatorId}",e.userAuthenticatorVerify="/organisations/users/{userId}/authenticators/{authenticatorId}/verify",e.referralTypes="/referrals/types",e.orgGroups="/organisations/organisations/{orgId}/officegroups",e.paymentsConfigPrivate="/config/private/{clientCode}",e.paymentReceiptPrivate="/receipt/private/{paymentId}",e.paymentsSession="/session",e.paymentRequest="/request/{paymentId}",e.opayoTransactions="/opayo/private/transactions",e.opayoMerchantKeys="/opayo/private/merchant-session-keys",e.authClient="/marketplace/apps/{appId}/authClient",e.userGroups="/organisations/groups",e.userByIdPassword="/organisations/users/{userId}/password",e.userEmailSuppressions="/organisations/emailSuppressions/{userId}",e.orgs="/organisations/organisations",e.groupIdMembers="/organisations/groups/{groupId}/members",e.groupIdMembersDelete="/organisations/groups/{groupId}/members/{userId}",e.getOrgConfig="/organisations/organisations/{orgId}/configuration/platform",e.installationsId="/marketplace/installations/{installationId}",e))(s||{}),se=(e=>(e.getApps="getApps",e.getPipeline="getPipeline",e.paginatePipeline="paginatePipeline",e.getPipelineDeployments="getPipelineDeployments",e.getProducts="getProducts",e.getSandboxes="getSandboxes",e.getAppPermissions="getAppPermissions",e.getApiKeysByUserId="getApiKeysByUserId",e.getMember="getMember",e.deleteApiKey="deleteApiKey",e.getBillingDataByMonth="getBillingDataByMonth",e.getBillingDataByPeriod="getBillingDataByPeriod",e.getInstallations="getInstallations",e.getDeveloperMembers="getDeveloperMembers",e.getCustomersById="getCustomersById",e.getAppById="getAppById",e.getAppSecret="getAppSecret",e.getDesktopIntegrationTypes="getDesktopIntegrationTypes",e.getAppCategories="getAppCategories",e.getAppRevisions="getAppRevisions",e.getDeveloper="getDeveloper",e.getTrafficStats="getTrafficStats",e.getSubscriptions="getSubscriptions",e.getWebhookSubscriptions="getWebhookSubscriptions",e.getWebhookTopics="getWebhookTopics",e.getWebhookLogs="getWebhookLogs",e.getPipelineEnvironment="getPipelineEnvironment",e.getPublicWebhookKey="getPublicWebhookKey",e.getRevisionConsents="getRevisionConsents",e.getAppMarketAdmin="getAppMarketAdmin",e.getAppMarketAdminLive="getAppMarketAdminLive",e.postAppMarketAdmin="postAppMarketAdmin",e.getPropertyById="getPropertyById",e.getProperties="getProperties",e.getPayments="getPayments",e.getPaymentById="getPaymentById",e.getPaymentWithPropertyById="getPaymentWithPropertyById",e.getUserInfo="getUserInfo",e.getUserById="getUserById",e.getCustomers="getCustomers",e.getDevelopers="getDevelopers",e.getApprovals="getApprovals",e.getRevisionById="getRevisionById",e.getDwAccounts="getDwAccounts",e.getDwAccountById="getDwAccountById",e.getDwDataSets="getDwDataSets",e.getDwShares="getDwShares",e.getUsers="getUsers",e.getUserAuthenticators="getUserAuthenticators",e.getReferralTypes="getReferralTypes",e.getGroupsByOrgId="getGroupsByOrgId",e.getPaymentsClientConfig="getPaymentsClientConfig",e.getUserGroups="getUserGroups",e.getUserSuppressionList="getUserSuppressionList",e.getOrgs="getOrgs",e.getOrgConfig="getOrgConfig",e))(se||{}),Ge={getApps:{api:r.platform,path:s.apps,errorMessage:"Something went wrong fetching apps - this error has been logged"},getDwAccounts:{api:r.platform,path:s.dwAccounts,errorMessage:"Something went wrong fetching accounts - this error has been logged"},getDwDataSets:{api:r.platform,path:s.dwDataSets,errorMessage:"Something went wrong fetching data sets - this error has been logged"},getDwShares:{api:r.platform,path:s.dwShares,errorMessage:"Something went wrong fetching shares - this error has been logged"},getDwAccountById:{api:r.platform,path:s.dwAccountsId,errorMessage:"Something went wrong fetching account - this error has been logged"},getAppMarketAdmin:{api:r.appMarketCms,path:s.cmsConfig,errorMessage:"Something went wrong fetching config - this error has been logged"},getAppMarketAdminLive:{api:r.appMarketCms,path:s.cmsConfigLive,errorMessage:"Something went wrong fetching config - this error has been logged"},postAppMarketAdmin:{api:r.appMarketCms,path:s.cmsConfigPost,errorMessage:"Something went wrong updating config - this error has been logged"},getAppById:{api:r.platform,path:s.appsId,errorMessage:"Something went wrong fetching app details"},getPipeline:{api:r.pipeline,path:s.getPipeline},getPipelineDeployments:{api:r.pipeline,path:s.getPipelineDeployments},getProducts:{api:r.platform,path:s.products,errorMessage:"Something went wrong fetching products"},getSandboxes:{api:r.platform,path:s.sandboxes,errorMessage:"Something went wrong fetching sandboxes"},getAppPermissions:{api:r.platform,path:s.appPermissions,errorMessage:"Something went wrong fetching app permissions"},getApiKeysByUserId:{api:r.apiKey,path:s.getApiKeyByUserId},getMember:{api:r.platform,path:s.getMember},deleteApiKey:{api:r.apiKey,path:s.deleteApiKey},getBillingDataByMonth:{api:r.platform,path:s.billingDataByMonth,errorMessage:"Something went wrong fetching billing data"},getBillingDataByPeriod:{api:r.platform,path:s.getBillingDataByPeriod,errorMessage:"Something went wrong fetching billing data"},getInstallations:{api:r.platform,path:s.installations,errorMessage:"Something went wrong fetching installations"},getDeveloperMembers:{api:r.platform,path:s.getMember,errorMessage:"Something went wrong fetching developer org members"},getDeveloper:{api:r.platform,path:s.developerById,errorMessage:"Something went wrong fetching developer org"},getCustomersById:{api:r.platform,path:s.customersById,errorMessage:"Something went wrong fetching your customer information"},getAppSecret:{api:r.platform,path:s.appSecretById,errorMessage:"Something went wrong fetching your client secret"},getDesktopIntegrationTypes:{api:r.platform,path:s.desktopIntegrationTypes,errorMessage:"Something went wrong fetching the desktop integration options"},getAppCategories:{api:r.platform,path:s.appCategories,errorMessage:"Something went wrong fetching the category options"},getAppRevisions:{api:r.platform,path:s.appRevisions,errorMessage:"Something went wrong fetching app revisions"},paginatePipeline:{api:r.pipeline,path:s.paginatePipeline,errorMessage:"Something went wrong fetching pipelines"},getTrafficStats:{api:r.platform,path:s.trafficStatistics,errorMessage:"Something went wrong fetching API calls data"},getSubscriptions:{api:r.platform,path:s.subscriptions,errorMessage:"Something went wrong fetching subscriptions"},getWebhookSubscriptions:{api:r.platform,path:s.webhookSubscriptions,errorMessage:"Something went wrong fetching webhook subscriptions"},getWebhookTopics:{api:r.platform,path:s.webhookTopics,errorMessage:"Something went wrong fetching webhook topics"},getWebhookLogs:{api:r.platform,path:s.webhookLogs,errorMessage:"Something went wrong fetching webhook logs"},getPipelineEnvironment:{api:r.pipeline,path:s.getPipelineEnvironment},getPublicWebhookKey:{api:r.platform,path:s.publicWebhookKey},getRevisionConsents:{api:r.platform,path:s.appConsents,errorMessage:"Failed to fetch app revision consents"},getPropertyById:{api:r.platform,path:s.propertyById,errorMessage:"Failed to fetch property, this has been logged. Please try refreshing the page."},getProperties:{api:r.platform,path:s.properties,errorMessage:"Failed to fetch properties, this has been logged. Please try refreshing the page."},getPayments:{api:r.platform,path:s.payments,errorMessage:"Failed to fetch payments, this has been logged. Please try refreshing the page."},getPaymentById:{api:r.platform,path:s.paymentById,errorMessage:"Failed to fetch payment, this has been logged. Please try refreshing the page."},getPaymentWithPropertyById:{api:r.payments,path:s.paymentById,errorMessage:"Failed to fetch payment, this has been logged. Please try refreshing the page."},getUserInfo:{api:r.platform,path:s.userInfo,errorMessage:"Failed to fetch user info, this has been logged."},getUserById:{api:r.platform,path:s.userById,errorMessage:"Failed to fetch user info, this has been logged."},getCustomers:{api:r.platform,path:s.customers,errorMessage:"Failed to fetch customers, this has been logged."},getDevelopers:{api:r.platform,path:s.developers,errorMessage:"Failed to fetch developers, this has been logged."},getApprovals:{api:r.platform,path:s.approvals,errorMessage:"Failed to fetch approvals, this has been logged."},getRevisionById:{api:r.platform,path:s.revisionById,errorMessage:"Failed to fetch revision, this has been logged."},getUsers:{api:r.platform,path:s.users,errorMessage:"Failed to fetch users, this has been logged."},getUserAuthenticators:{api:r.platform,path:s.userAuthenticators,errorMessage:"Failed to fetch authenticators, this has been logged."},getReferralTypes:{api:r.platform,path:s.referralTypes,errorMessage:"Failed to fetch referrals, this has been logged."},getGroupsByOrgId:{api:r.platform,path:s.orgGroups,errorMessage:"Failed to fetch groups, this has been logged."},getPaymentsClientConfig:{api:r.payments,path:s.paymentsConfigPrivate,errorMessage:"Failed to fetch client config this has been logged."},getUserGroups:{api:r.platform,path:s.userGroups,errorMessage:"Failed to fetch groups, this has been logged."},getUserSuppressionList:{api:r.platform,path:s.userEmailSuppressions,errorMessage:"Failed to fetch email suppression list, this has been logged."},getOrgs:{api:r.platform,path:s.orgs,errorMessage:"Failed to fetch orgs list, this has been logged."},getOrgConfig:{api:r.platform,path:s.getOrgConfig,errorMessage:"Failed to fetch org config, this has been logged."}},ae=(e=>(e.updatePipeline="updatePipeline",e.createPipelineDeployment="createPipelineDeployment",e.createPipeline="createPipeline",e.createApp="createApp",e.createApiKeyByMember="createApiKeyByMember",e.updateDeveloper="updateDeveloper",e.deleteDeveloper="deleteDeveloper",e.updateCustomer="updateCustomer",e.createDeveloper="createDeveloper",e.deleteApp="deleteApp",e.createAppRevsion="createAppRevsion",e.deleteOfficeGroup="deleteOfficeGroup",e.deletePipeline="deletePipeline",e.fileUpload="fileUpload",e.terminateInstallation="terminateInstallation",e.cancelRevision="cancelRevision",e.updateMember="updateMember",e.deleteMember="deleteMember",e.inviteMember="inviteMember",e.deleteSubscription="deleteSubscription",e.createSubscription="createSubscription",e.pingWebhook="pingWebhook",e.createWebhook="createWebhook",e.updateWebhook="updateWebhook",e.deleteWebhook="deleteWebhook",e.acceptInviteMember="acceptInviteMember",e.rejectInviteMember="rejectInviteMember",e.upsertPipelineEnvironment="upsertPipelineEnvironment",e.deletePipelineEnvironment="deletePipelineEnvironment",e.createConsentEmails="createConsentEmails",e.resendConsentEmail="resendConsentEmail",e.approveConsent="approveConsent",e.installApp="installApp",e.appConsentApproveEmail="appConsentApproveEmail",e.updateUser="updateUser",e.featureApp="featureApp",e.unFeatureApp="unFeatureApp",e.approveRevision="approveRevision",e.rejectRevision="rejectRevision",e.createDwAccount="createDwAccount",e.updateDwAccount="updateDwAccount",e.deleteDwAccount="deleteDwAccount",e.createDwRequest="createDwRequest",e.deleteDwShare="deleteDwShare",e.refreshDwShare="refreshDwShare",e.createUserAuthenticator="createUserAuthenticator",e.verifyUserAuthenticator="verifyUserAuthenticator",e.deleteUserAuthenticator="deleteUserAuthenticator",e.submitPrivatePaymentReceipt="submitPrivatePaymentReceipt",e.privatePaymentUpdate="privatePaymentUpdate",e.paymentsSessionCreate="paymentsSessionCreate",e.paymentRequestCreate="paymentRequestCreate",e.paymentsClientConfigCreate="paymentsClientConfigCreate",e.paymentsClientConfigUpdate="paymentsClientConfigUpdate",e.paymentsClientConfigDelete="paymentsClientConfigDelete",e.getOpayoMerchantKey="getOpayoMerchantKey",e.submitOpayoTransaction="submitOpayoTransaction",e.createAuthClient="createAuthClient",e.deleteAuthClient="deleteAuthClient",e.deleteUserPassword="deleteUserPassword",e.deleteUserSuppressionList="deleteUserSuppressionList",e.removeMemberFromGroup="removeMemberFromGroup",e.addMemberToGroup="addMemberToGroup",e.updatePlatformConfig="updatePlatformConfig",e.updateApp="updateApp",e.updateInstallation="updateInstallation",e))(ae||{});let Me,Se,Ae,Pe;We={updatePipeline:{api:r.pipeline,path:s.updatePipeline,errorMessage:"Something went wrong updating your pipleline, this has been logged. Please check for errors and resubmit.",successMessage:"Your pipeline has been successfully updated"},createPipeline:{api:r.pipeline,path:s.createPipeline,errorMessage:"Something went wrong creating your pipleline, this has been logged. Please check for errors and resubmit.",successMessage:"Your pipeline has been successfully created"},createPipelineDeployment:{api:r.pipeline,path:s.createPipelineDeployments},createApp:{api:r.platform,path:s.apps,errorMessage:"Something went wrong creating your app, please check for errors and resubmit.",successMessage:"Your app has been successfully created"},deleteApp:{api:r.platform,path:s.appsId,errorMessage:"Something went wrong deleting your app, please try again.",successMessage:"Your app has been successfully deleted"},createApiKeyByMember:{api:r.apiKey,path:s.createApiKeyByMember},updateDeveloper:{api:r.platform,path:s.developerById,errorMessage:"Developer update failed, please check for errors and try again.",successMessage:"Your developer record has been successfully updated"},deleteDeveloper:{api:r.platform,path:s.developerById,errorMessage:"Developer delete failed, please check for errors and try again.",successMessage:"Developer successfully deleted"},updateCustomer:{api:r.platform,path:s.customersById,errorMessage:"Update to terms failed, please try again"},createDeveloper:{api:r.platform,path:s.developers,errorMessage:"Failed to create developer organisation, please try again",successMessage:"Your developer account has been successfully created"},createAppRevsion:{api:r.platform,path:s.appRevision,errorMessage:"Failed to create an app revision, please check for errors and try again",successMessage:"App revision created successfully"},deleteOfficeGroup:{api:r.platform,path:s.officeGroupId,errorMessage:"Failed to delete this office group, please try again",successMessage:"Successfully deleted office group"},deletePipeline:{api:r.pipeline,path:s.getPipeline,errorMessage:"Failed to delete Pipeline",successMessage:"Pipeline deleting"},fileUpload:{api:r.platform,path:s.fileUpload,errorMessage:"Failed to upload one of your files"},terminateInstallation:{api:r.platform,path:s.terminateInstallation,errorMessage:"Failed to uninstall your app",successMessage:"App successfully uninstalled"},cancelRevision:{api:r.platform,path:s.cancelRevision,errorMessage:"Failed to cancel pending revision",successMessage:"Successfully cancelled pending revision"},updateMember:{api:r.platform,path:s.memberById,errorMessage:"Failed to update developer organisation member",successMessage:"Successfully updated developer organisation member"},deleteMember:{api:r.platform,path:s.memberById,errorMessage:"Failed to delete developer organisation member",successMessage:"Successfully developer developer organisation member"},inviteMember:{api:r.platform,path:s.getMember,errorMessage:"Failed to invite member, this has been logged. Please try again.",successMessage:"Successfully invited developer organisation member"},deleteSubscription:{api:r.platform,path:s.subscriptionsById,errorMessage:"Failed to cancel subscription, this has been logged. Please try again.",successMessage:"Successfully cancelled subscription"},createSubscription:{api:r.platform,path:s.subscriptions,errorMessage:"Failed to create subscription, this has been logged. Please try again.",successMessage:"Successfully created subscription"},pingWebhook:{api:r.platform,path:s.webhooksPing,errorMessage:"Failed to ping webhook, this has been logged. Please try again.",successMessage:"Successfully pinged webhook"},createWebhook:{api:r.platform,path:s.webhookSubscriptions,errorMessage:"Failed to create webhook, this has been logged. Please try again.",successMessage:"Successfully created webhook"},updateWebhook:{api:r.platform,path:s.webhookSubscriptionsId,errorMessage:"Failed to update webhook, this has been logged. Please try again.",successMessage:"Successfully updated webhook"},deleteWebhook:{api:r.platform,path:s.webhookSubscriptionsId,errorMessage:"Failed to delete webhook, this has been logged. Please try again.",successMessage:"Successfully deleted webhook"},acceptInviteMember:{api:r.platform,path:s.memberInviteAccept,errorMessage:"Failed to accept invite, this has been logged. Please try again.",successMessage:"Successfully accepted invite"},rejectInviteMember:{api:r.platform,path:s.memberInviteReject,errorMessage:"Failed to reject invite, this has been logged. Please try again.",successMessage:"Successfully rejected invite"},upsertPipelineEnvironment:{api:r.pipeline,path:s.upsertPipelineEnvironment,successMessage:"Added Environment variable",errorMessage:"Failed to add Environment variable"},deletePipelineEnvironment:{api:r.pipeline,path:s.deletePipelineEnvironment,successMessage:"Parameter was succesfully deleted",errorMessage:"Failed to delete parameter"},createConsentEmails:{api:r.platform,path:s.appConsents,successMessage:"Sent consent request emails",errorMessage:"Failed to send consent request emails"},resendConsentEmail:{api:r.platform,path:s.appConsentResend,successMessage:"Resent consent request email",errorMessage:"Failed to resense consent request email"},approveConsent:{api:r.platform,path:s.appConsentApprove,successMessage:"App permission change request accepted",errorMessage:"Failed to accept app permission change, this has been logged. Please try again."},installApp:{api:r.platform,path:s.installations,successMessage:"Successfully installed app",errorMessage:"Failed to install app, this has been logged. Please try again."},appConsentApproveEmail:{api:r.platform,path:s.appConsentApproveEmail,successMessage:"Successfully sent email",errorMessage:"Failed to send to new email address. Please try again"},updateUser:{api:r.platform,path:s.userById,successMessage:"Successfully updated user info.",errorMessage:"Failed to update user info."},featureApp:{api:r.platform,path:s.appByIdFeature,successMessage:"Successfully updated app.",errorMessage:"Failed to update app."},unFeatureApp:{api:r.platform,path:s.appByIdFeature,successMessage:"Successfully updated app.",errorMessage:"Failed to update app."},approveRevision:{api:r.platform,path:s.revisionApprove,successMessage:"Successfully approved revision.",errorMessage:"Failed to approve revision."},rejectRevision:{api:r.platform,path:s.revisionReject,successMessage:"Successfully rejected revision.",errorMessage:"Failed to reject revision."},createDwAccount:{api:r.platform,path:s.dwAccounts,successMessage:"Successfully created account.",errorMessage:"Failed to create account."},updateDwAccount:{api:r.platform,path:s.dwAccountsId,successMessage:"Successfully updated account.",errorMessage:"Failed to update account."},deleteDwAccount:{api:r.platform,path:s.dwAccountsId,successMessage:"Successfully deleted account.",errorMessage:"Failed to delete account."},createDwRequest:{api:r.platform,path:s.dwRequests,successMessage:"Successfully created data share.",errorMessage:"Failed to create data share."},deleteDwShare:{api:r.platform,path:s.dwSharesId,successMessage:"Successfully deleted data share.",errorMessage:"Failed to delete data share."},refreshDwShare:{api:r.platform,path:s.dwShareRefresh,successMessage:"Successfully refreshed data share.",errorMessage:"Failed to refresh data share."},createUserAuthenticator:{api:r.platform,path:s.userAuthenticators,successMessage:"Successfully fetched QR code.",errorMessage:"Failed to fetch QR code. This error has been logged"},deleteUserAuthenticator:{api:r.platform,path:s.userAuthenticatorById,successMessage:"Successfully reset authenticator.",errorMessage:"Failed to reset authenticator. This error has been logged"},verifyUserAuthenticator:{api:r.platform,path:s.userAuthenticatorVerify,successMessage:"Successfully verified authenticator.",errorMessage:"Failed to verify authenticator. This error has been logged"},submitPrivatePaymentReceipt:{api:r.payments,path:s.paymentReceiptPrivate,successMessage:"Successfully sent receipt request.",errorMessage:"Failed to send receipt. This error has been logged"},privatePaymentUpdate:{api:r.platform,path:s.paymentById,errorMessage:"Failed to update payment request. This error has been logged"},paymentsSessionCreate:{api:r.payments,path:s.paymentsSession,errorMessage:"Failed to create payment request. This error has been logged"},paymentRequestCreate:{api:r.payments,path:s.paymentRequest,successMessage:"Successfully created payment request.",errorMessage:"Failed to create payment request. This error has been logged"},paymentsClientConfigCreate:{api:r.payments,path:s.paymentsConfigPrivate,successMessage:"Successfully created a client configuration.",errorMessage:"Failed to create payment config. This error has been logged"},paymentsClientConfigUpdate:{api:r.payments,path:s.paymentsConfigPrivate,successMessage:"Successfully updated a client configuration.",errorMessage:"Failed to update payment config. This error has been logged"},paymentsClientConfigDelete:{api:r.payments,path:s.paymentsConfigPrivate,successMessage:"Successfully deleted a client configuration.",errorMessage:"Failed to delete payment config. This error has been logged"},submitOpayoTransaction:{api:r.payments,path:s.opayoTransactions,errorMessage:"Failed to submit payment transaction. This error has been logged"},getOpayoMerchantKey:{api:r.payments,path:s.opayoMerchantKeys,errorMessage:"Failed to configure app for payments. This error has been logged"},createAuthClient:{api:r.platform,path:s.authClient,errorMessage:"Failed to create new auth credentials. This error has been logged"},deleteAuthClient:{api:r.platform,path:s.authClient,errorMessage:"Failed to delete old auth credentials. This error has been logged"},deleteUserPassword:{api:r.platform,path:s.userByIdPassword,successMessage:"Successfully reset password.",errorMessage:"Failed to reset password."},deleteUserSuppressionList:{api:r.platform,path:s.userEmailSuppressions,successMessage:"Successfully removed user from list.",errorMessage:"Failed to remove user from list."},removeMemberFromGroup:{api:r.platform,path:s.groupIdMembersDelete,successMessage:"Successfully removed user from group.",errorMessage:"Failed to remove user from group."},addMemberToGroup:{api:r.platform,path:s.groupIdMembers,successMessage:"Successfully added user to group.",errorMessage:"Failed to remove user from group."},updatePlatformConfig:{api:r.platform,path:s.getOrgConfig,successMessage:"Successfully updated platform config.",errorMessage:"Failed to update platform config."},updateApp:{api:r.platform,path:s.appsId,successMessage:"Successfully updated app",errorMessage:"Failed to update app"},updateInstallation:{api:r.platform,path:s.installationsId,successMessage:"Successfully updated installation",errorMessage:"Failed to update installation"}},Me=(e,t,a,n)=>()=>{if(e.length){const i=e.map(p=>({value:p[a],name:p[t]}));i.length&&n(i)}},Se=(e,t,a,n,i,p)=>()=>{const c=t.filter(g=>e.includes(g.value)),d=a.map(g=>({value:g[i],name:g[n]})),l=[...c,...d],h=[...new Set([...l.map(g=>JSON.stringify(g))])].map(g=>JSON.parse(g));h.length&&p(h)},$e=u.forwardRef(({label:e,errorString:t,defaultList:a,currentValues:n,noneSelectedLabel:i,queryParams:p,reapitConnectBrowserSession:c,action:d,valueKey:l,nameKey:h,dataListKey:g,searchKey:w,...I},_)=>{const[R,E]=u.useState(""),[D,F]=u.useState([]),B=u.useCallback(Qt(x=>E(x.target.value),500),[500]),L=p??{},[T,K]=le({reapitConnectBrowserSession:c,action:d,queryParams:{...L,[w]:R},fetchWhenTrue:[R]}),S=T?T[g]:[],$=a.map(x=>x[l]).filter(Boolean);return u.useEffect(Me(a,h,l,F),[a]),u.useEffect(Se(n,D,S,h,l,F),[R,T]),o.jsxs(Xt,{children:[o.jsx(Zt,{className:te,onChange:B,icon:"searchSystem",placeholder:"Search",label:e??"Search"}),K&&o.jsx(es,{className:te}),o.jsx(ts,{className:te,noneSelectedLabel:i||"No items selected",defaultValues:[...new Set($)],options:D,ref:_,...I}),t&&o.jsx(Be,{isFullWidth:!0,isExpanded:!0,intent:"danger",isInline:!0,children:t}),T&&!S.length&&o.jsx(Be,{isFullWidth:!0,isExpanded:!0,intent:"primary",isInline:!0,children:"No results found for your search query"})]})}),Ae=async e=>{try{const t=Le(e),a=t.aud,n=new ss({issuer:t.iss,audience:Array.isArray(a)?a[0]:a,leeway:300}),i=await new Promise((c,d)=>n.verify(e,(l,h)=>{l&&d(l),c(h)})),p=Math.floor(new Date().valueOf()/1e3);if(p>i.exp+300||p+300<i.auth_time)throw new Error("Id verification claim expired");if(i.token_use!=="id")throw new Error("Id verification claim is not an id token");return{name:i.name,email:i.email,agencyCloudId:i["custom:reapit:agencyCloudId"]||null,developerId:i["custom:reapit:developerId"]||null,clientId:i["custom:reapit:clientCode"]||null,adminId:i["custom:reapit:marketAdmin"]||null,userCode:i["custom:reapit:userCode"]||null,groups:i["cognito:groups"]||[],orgName:i["custom:reapit:orgName"]||null,orgId:i["custom:reapit:orgId"]||null,offGroupIds:i["custom:reapit:offGroupIds"]||null,offGrouping:!!(i["custom:reapit:offGrouping"]&&i["custom:reapit:offGrouping"]==="true"),offGroupName:i["custom:reapit:offGroupName"]||null,officeId:i["custom:reapit:officeId"]||null,orgProduct:i["custom:reapit:orgProduct"]||null}}catch(t){console.error("Reapit Connect Session error:",t.message)}},Pe=async e=>Ae(e);const f=class f{constructor({connectClientId:t,connectOAuthUrl:a,connectLoginRedirectPath:n,connectLogoutRedirectPath:i,connectApplicationTimeout:p,usePKCE:c=!0}){y(this,"connectOAuthUrl");y(this,"connectClientId");y(this,"session");y(this,"connectLoginRedirectPath");y(this,"connectLogoutRedirectPath");y(this,"connectApplicationTimeout");y(this,"idleTimeoutCountdown");y(this,"refreshTokenStorage");y(this,"fetching");y(this,"usePKCE");this.connectOAuthUrl=a,this.connectClientId=t,this.connectLoginRedirectPath=`${window.location.origin}${n||""}`,this.connectLogoutRedirectPath=`${window.location.origin}${i||i===""?i:"/login"}`,this.connectApplicationTimeout=p??f.APP_DEFAULT_TIMEOUT,this.refreshTokenStorage=this.connectIsDesktop?window.localStorage:window.sessionStorage,this.fetching=!1,this.session=null,this.idleTimeoutCountdown=this.connectApplicationTimeout,this.usePKCE=c,this.connectBindPublicMethods(),this.setIdleTimeoutListeners()}connectBindPublicMethods(){this.connectSession=this.connectSession.bind(this),this.connectAuthorizeRedirect=this.connectAuthorizeRedirect.bind(this),this.connectLoginRedirect=this.connectLoginRedirect.bind(this),this.connectLogoutRedirect=this.connectLogoutRedirect.bind(this),this.connectClearSession=this.connectClearSession.bind(this)}setIdleTimeoutListeners(){if(this.connectIsDesktop)return;const t=()=>{clearTimeout(this.idleTimeoutCountdown),this.idleTimeoutCountdown=window.setTimeout(this.connectLogoutRedirect,this.connectApplicationTimeout)};document.onmousemove=t,document.onkeypress=t,document.ontouchstart=t}get refreshToken(){var t;return((t=this.session)==null?void 0:t.refreshToken)??this.refreshTokenStorage.getItem(`${f.REFRESH_TOKEN_KEY}_${this.userName}_${this.connectClientId}`)}get userName(){var t;return((t=this.session)==null?void 0:t.loginIdentity.email)??this.refreshTokenStorage.getItem(`${f.USER_NAME_KEY}_${this.connectClientId}`)}async encryptCodeVerifier(t){const a=new rs.TextEncoder().encode(t),n=await window.crypto.subtle.digest("SHA-256",a);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(n)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}codeVerifierStorageKey(t){return`${t}-${f.CODE_VERIFIER}`}codeVerifier(t){const a=this.refreshTokenStorage.getItem(this.codeVerifierStorageKey(t));if(a)return a;const n=Ne();return this.setCodeVerifier({state:t,code:n}),n}setCodeVerifier({code:t,state:a}){this.refreshTokenStorage.setItem(this.codeVerifierStorageKey(a),t)}setRefreshToken(t){t.refreshToken&&t.loginIdentity&&t.loginIdentity.email&&this.refreshTokenStorage.setItem(`${f.REFRESH_TOKEN_KEY}_${t.loginIdentity.email}_${this.connectClientId}`,t.refreshToken),t.loginIdentity&&t.loginIdentity.email&&this.refreshTokenStorage.setItem(`${f.USER_NAME_KEY}_${this.connectClientId}`,t.loginIdentity.email)}clearRefreshToken(){this.refreshTokenStorage.removeItem(`${f.REFRESH_TOKEN_KEY}_${this.userName}_${this.connectClientId}`),this.refreshTokenStorage.removeItem(`${f.USER_NAME_KEY}_${this.connectClientId}`)}get sessionExpired(){if(this.session){const t=Le(this.session.accessToken).exp,a=Math.round(new Date().getTime()/1e3)+300;return t?t<a:!0}return!0}get authCode(){return new URLSearchParams(window.location.search).get("code")||null}async connectGetSession(t,a){var n;try{const i=await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(a).toString()})).json();if(!i||i&&i.error)return this.handleError("Error fetching session from Reapit Connect");const p=await Pe(i.id_token);if(!p)return this.handleError("Login identity was not verified");const{access_token:c,refresh_token:d,id_token:l}=i;return{accessToken:c,refreshToken:d||(this.session?(n=this.session)==null?void 0:n.refreshToken:""),idToken:l,loginIdentity:p}}catch(i){return this.handleError(`Reapit Connect Token Error ${i.message}`)}}handleError(t){this.clearRefreshToken(),typeof t=="string"?console.error("Reapit Connect Error:",t):console.error(t)}get connectInternalRedirect(){const t=new URLSearchParams(window.location.search).get("state");if(!t)return null;const a=this.refreshTokenStorage.getItem(t);return a?decodeURIComponent(a):null}get connectIsDesktop(){return!!window[f.GLOBAL_KEY]}get connectHasSession(){return!!(this.session&&!this.sessionExpired)}async connectAuthorizeRedirect(t){const a=t||this.connectLoginRedirectPath,n=new URLSearchParams(window.location.search);n.delete("code");const i=n?`?${n.toString()}`:"",p=encodeURIComponent(`${window.location.pathname}${i}`),c=Ne();this.refreshTokenStorage.setItem(c,p);const d=await this.encryptCodeVerifier(this.codeVerifier(c));let l=`${this.connectOAuthUrl}/authorize?response_type=code&client_id=${this.connectClientId}&redirect_uri=${a}&state=${c}`;this.usePKCE&&(l+=`&code_challenge_method=S256&code_challenge=${d}`),window.location.href=l}connectLoginRedirect(t){const a=t||this.connectLoginRedirectPath;this.clearRefreshToken(),window.location.href=`${this.connectOAuthUrl}/login?response_type=code&client_id=${this.connectClientId}&redirect_uri=${a}`}connectLogoutRedirect(t){const a=t||this.connectLogoutRedirectPath;this.clearRefreshToken(),window.location.href=`${this.connectOAuthUrl}/logout?client_id=${this.connectClientId}&logout_uri=${a}`}connectClearSession(){this.session=null}async connectSession(){if(!this.sessionExpired)return this.session;if(!this.fetching){this.fetching=!0;try{const t=`${this.connectOAuthUrl}/token`;if(!this.refreshToken&&!this.authCode)return this.connectAuthorizeRedirect();const a=new URLSearchParams(window.location.search).get("state"),n=this.refreshToken?{redirect_uri:this.connectLoginRedirectPath,client_id:this.connectClientId,grant_type:"refresh_token",refresh_token:this.refreshToken}:{redirect_uri:this.connectLoginRedirectPath,client_id:this.connectClientId,grant_type:"authorization_code",code:this.authCode};!this.refreshToken&&this.usePKCE&&(n.code_verifier=this.codeVerifier(a),n.code_challenge_method="S256");const i=await this.connectGetSession(t,n);if(this.fetching=!1,i)return this.session=!i.refreshToken&&this.refreshToken?{...i,refreshToken:this.refreshToken}:i,this.setRefreshToken(i),this.session;this.connectAuthorizeRedirect()}catch(t){return this.handleError(`Reapit Connect Session error ${t.message}`)}}}};y(f,"GLOBAL_KEY","__REAPIT_MARKETPLACE_GLOBALS__"),y(f,"REFRESH_TOKEN_KEY","REAPIT_REFRESH_TOKEN"),y(f,"USER_NAME_KEY","REAPIT_LAST_AUTH_USER"),y(f,"CODE_VERIFIER","REAPIT_CODE_VERIFIER"),y(f,"STATE_NONCE","REAPIT_STATE_NONCE"),y(f,"APP_DEFAULT_TIMEOUT",108e5);let H=f,Ce,ke,Re,Ee,Te,_e,Y,M;Ce=Ke("div")({name:"LoginContainer",class:"login-container",propsAsIs:!1}),ke=Ke("div")({name:"LoginContentWrapper",class:"login-content-wrapper",propsAsIs:!1}),Re=(e,t)=>()=>{const a=t?`${window.location.origin}${t}`:void 0;e.connectLoginRedirect(a)},Ee=({appName:e,reapitConnectBrowserSession:t,redirectPath:a})=>{const n=u.useCallback(Re(t,a),[]);return o.jsx(Ce,{children:o.jsxs(ke,{children:[o.jsx(Z,{className:as,height:"40px",width:"200px",icon:"reapitLogoInfographic"}),o.jsxs(Ue,{isFlexColumn:!0,children:[o.jsx(ee,{hasCenteredText:!0,children:"Welcome"}),o.jsx(os,{hasCenteredText:!0,children:e})]}),o.jsx(Oe,{alignment:"center",children:o.jsx(q,{onClick:n,intent:"primary",size:3,children:"Login With Reapit"})})]})})},Te="modulepreload",_e=function(e){return"/"+e},Y={},M=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){const i=document.getElementsByTagName("link");n=Promise.all(t.map(p=>{if(p=_e(p),p in Y)return;Y[p]=!0;const c=p.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(a)for(let h=i.length-1;h>=0;h--){const g=i[h];if(g.href===p&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${d}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Te,c||(l.as="script",l.crossOrigin=""),l.href=p,document.head.appendChild(l),c)return new Promise((h,g)=>{l.addEventListener("load",h),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${p}`)))})}))}return n.then(()=>e()).catch(i=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=i,window.dispatchEvent(p),!p.defaultPrevented)throw i})},m={ROOT:"/",LOGIN:"/login",APPROVALS:"/approvals",USAGE:"/usage",BILLING:"/billing",APPS:"/apps",DEV_MANAGEMENT:"/dev-management",INSTALLATIONS:"/installations",CUSTOMERS:"/customers",AUTHENTICATION:"/authentication",SUBSCRIPTIONS:"/subscriptions",FOUR_O_FOUR:"/404",OK:"/ok",TRAFFIC:"/traffic",IAAS:"/iaas"};var J={appEnv:"development",sentryDsn:"",connectClientId:"76q6dqj28batdlespqc36urn8b",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerPortalUri:"https://developers.dev.paas.reapit.cloud",appMarketUri:"https://marketplace.dev.paas.reapit.cloud"};ce=new H({connectClientId:J.connectClientId,connectOAuthUrl:J.connectOAuthUrl,connectLoginRedirectPath:m.APPS,connectUserPoolId:J.connectUserPoolId}),is();const A=P.lazy(()=>b(()=>M(()=>import("./private-route-wrapper-gkngzH0Q.js"),__vite__mapDeps([0,1,2,3])))),ht=P.lazy(()=>b(()=>M(()=>import("./index-B6qgkr_a.js"),__vite__mapDeps([4,1,5,6,3,7,8,2,9])))),ut=P.lazy(()=>b(()=>M(()=>import("./index-D7Txa8pj.js"),__vite__mapDeps([10,1,11,6,12,13,14,15,5,3,7,8])))),De=P.lazy(()=>b(()=>M(()=>import("./index-BnmXIwr-.js"),__vite__mapDeps([16,1,6,12,2,5,15,3,13,14])))),mt=P.lazy(()=>b(()=>M(()=>import("./index-ByxUfMTY.js"),__vite__mapDeps([17,1,6,18,13,14,19,20,3,5,12,7])))),ft=P.lazy(()=>b(()=>M(()=>import("./index-DpImmTih.js"),__vite__mapDeps([21,1,19,6,20,14])))),yt=P.lazy(()=>b(()=>M(()=>import("./index-DV5wFoXI.js"),__vite__mapDeps([22,1,11,18,6,12,13,14,23])))),wt=P.lazy(()=>b(()=>M(()=>import("./index-CdcNVm_R.js"),__vite__mapDeps([24,1,11,6,5,12,13,14,3])))),It=P.lazy(()=>b(()=>M(()=>import("./index-BIEZ_7h3.js"),__vite__mapDeps([25,1,6,19,20,13,14,26])))),vt=P.lazy(()=>b(()=>M(()=>import("./index-Ds045RYB.js"),__vite__mapDeps([27,1,6,14,20])))),bt=P.lazy(()=>b(()=>M(()=>import("./index-B5aMLmzw.js"),__vite__mapDeps([28,1,3,6,5,19,20])))),Mt=()=>o.jsx(cs,{children:o.jsx(ls,{isFullWidth:!0,isInline:!0,isExpanded:!0,intent:"danger",children:"Page not found"})}),St=()=>o.jsxs(ps,{children:[o.jsx(v,{path:m.OK,element:o.jsx(ue,{})}),o.jsx(v,{path:m.LOGIN,element:o.jsx(Ee,{appName:"Developer Admin Portal",reapitConnectBrowserSession:ce,redirectPath:m.APPROVALS})}),o.jsx(v,{path:m.FOUR_O_FOUR,element:o.jsx(Mt,{})}),o.jsx(v,{path:m.BILLING,element:o.jsx(A,{children:o.jsx(ft,{})})}),o.jsx(v,{path:m.TRAFFIC,element:o.jsx(A,{children:o.jsx(vt,{})})}),o.jsx(v,{path:m.USAGE,element:o.jsx(A,{children:o.jsx(It,{})})}),o.jsx(v,{path:m.APPROVALS,element:o.jsx(A,{children:o.jsx(ht,{})})}),o.jsx(v,{path:m.APPS,element:o.jsx(A,{children:o.jsx(De,{})})}),o.jsx(v,{path:m.DEV_MANAGEMENT,element:o.jsx(A,{children:o.jsx(ut,{})})}),o.jsx(v,{path:m.INSTALLATIONS,element:o.jsx(A,{children:o.jsx(mt,{})})}),o.jsx(v,{path:m.CUSTOMERS,element:o.jsx(A,{children:o.jsx(yt,{})})}),o.jsx(v,{path:m.SUBSCRIPTIONS,element:o.jsx(A,{children:o.jsx(wt,{})})}),o.jsx(v,{path:m.IAAS,element:o.jsx(A,{children:o.jsx(bt,{})})}),o.jsx(v,{path:m.ROOT,element:o.jsx(A,{children:o.jsx(De,{})})})]}),At=()=>o.jsx(ns,{children:o.jsx(St,{})}),Pt=new ds;Ie();const Ct=()=>o.jsx(u.StrictMode,{children:o.jsxs(gs,{client:Pt,children:[o.jsx(hs,{children:o.jsx(us,{children:o.jsx(ms,{children:o.jsx(At,{})})})}),o.jsx(fs,{initialIsOpen:!1})]})}),Fe=document.querySelector("#root"),kt=me(),xe=document.querySelector("html");kt&&xe&&xe.classList.add("is-desktop"),window.location.href.includes("developer")&&(document.title="Developers"),Fe&&ys(Fe).render(o.jsx(Ct,{}))})();export{se as G,re as N,m as R,$e as S,ae as U,ws as __tla,We as a,oe as b,ie as c,ne as d,Ge as g,z as h,pe as l,Ve as o,ce as r,le as u};
