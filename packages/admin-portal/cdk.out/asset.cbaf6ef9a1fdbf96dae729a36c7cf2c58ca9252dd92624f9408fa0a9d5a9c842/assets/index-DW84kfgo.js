import{r as i,j as a,W as x,am as f,aa as p,ab as l,ao as g,ad as u,aj as b,aA as w,aB as o,aC as v,aD as B,aE as r,af as M,X as y}from"./vendor-ZH71Hs13.js";import{a as D}from"./developers-D0OT01K4.js";import{u as F,d as S}from"./index.esm-Ch-ie6LE.js";import{F as C}from"./FileSaver.min-BZwjJ9VL.js";import{F as E}from"./constants-aos_c5Ih.js";import"./index-D0FSyh0V.js";const d=(s,e)=>()=>{C.saveAs(s,e)},t=(s,e)=>()=>{(async()=>{if(e)try{const n=await D({period:e});if(!n||n instanceof E)throw n;s(n)}catch(n){console.error(n)}})()},h=()=>{const[s,e]=i.useState(),[n,c]=i.useState(null),{register:m,handleSubmit:j}=F({mode:"onChange"});return i.useEffect(t(c,s==null?void 0:s.month),[s]),a.jsxs(x,{children:[a.jsx(f,{children:"Billing"}),a.jsx("form",{onChange:j(e),children:a.jsx(p,{className:l,children:a.jsx(g,{children:a.jsx(u,{...m("month"),label:"Month",type:"month"})})})}),n&&(s!=null&&s.month)?a.jsxs(b,{className:l,children:[a.jsxs(w,{children:[a.jsx(o,{children:"Period"}),a.jsx(o,{children:"Download Billing"})]}),a.jsx(v,{children:a.jsxs(B,{children:[a.jsx(r,{children:S(s.month).format("MMMM YYYY")}),a.jsx(r,{children:a.jsx(M,{onClick:d(n,`billing-developer-period-${s.month}.csv`),children:"Download"})})]})})]}):a.jsx(y,{intent:"primary",isExpanded:!0,isInline:!0,isFullWidth:!0,children:"No billing file available for download."})]})};export{h as AdminBilling,h as default,t as handleDownloadBillingPeriod,d as handleSaveFile};
