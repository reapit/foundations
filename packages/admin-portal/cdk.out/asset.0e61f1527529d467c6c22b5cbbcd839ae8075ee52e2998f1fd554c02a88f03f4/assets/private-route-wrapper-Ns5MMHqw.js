import{r as o,a3 as i,o as P,j as a,a4 as b,a5 as p,a6 as d,a7 as x,a8 as I}from"./vendor-ZH71Hs13.js";import{r as u,R as e}from"./index-DYGYHHRm.js";import{o as m,n as r}from"./navigation-yBndQIhU.js";import{u as A,P as v}from"./use-permissions-state-BndJTtcK.js";const f=c=>{if(!(c!=null&&c.loginIdentity))return"";const{name:l}=c.loginIdentity,n=l.split(" "),t=n[0],s=n[n.length-1];return`${t.charAt(0)}${s.charAt(0)}`};var S={appEnv:"development",sentryDsn:"",connectClientId:"76q6dqj28batdlespqc36urn8b",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerPortalUri:"https://developers.dev.paas.reapit.cloud",appMarketUri:"https://marketplace.dev.paas.reapit.cloud"};const R=c=>{switch(c){case e.APPROVALS:return 1;case e.APPS:return 2;case e.DEV_MANAGEMENT:return 3;case e.INSTALLATIONS:return 4;case e.BILLING:return 5;case e.TRAFFIC:return 6;case e.CUSTOMERS:return 7;case e.SUBSCRIPTIONS:return 8;case e.USAGE:return 9;case e.IAAS:return 10;case e.ROOT:default:return 0}},T=()=>{const c=i(),{connectLogoutRedirect:l,connectSession:n}=A(u),t=P(),{pathname:s}=c,h=[{itemIndex:0,callback:r(t,e.ROOT)},{itemIndex:1,callback:r(t,e.APPROVALS),text:"Approvals"},{itemIndex:2,callback:r(t,e.APPS),text:"Apps"},{itemIndex:3,callback:r(t,e.DEV_MANAGEMENT),text:"Developers"},{itemIndex:4,callback:r(t,e.INSTALLATIONS),text:"Installations"},{itemIndex:5,callback:r(t,e.BILLING),text:"Billing"},{itemIndex:6,callback:r(t,e.TRAFFIC),text:"Traffic"},{itemIndex:7,callback:r(t,e.CUSTOMERS),text:"Customers"},{itemIndex:8,callback:r(t,e.SUBSCRIPTIONS),text:"Subs"},{itemIndex:9,callback:r(t,e.USAGE),text:"Usage"},{itemIndex:10,callback:r(t,e.IAAS),text:"IAAS"}];return a.jsx(b,{defaultNavIndex:R(s),options:h,appSwitcherOptions:[{text:"AppMarket",callback:m(S.appMarketUri),iconUrl:a.jsx(p,{icon:"reapitLogoSmall"})},{text:"DevPortal",callback:m(S.developerPortalUri),iconUrl:a.jsx(p,{icon:"reapitLogoSmall"})}],avatarText:f(n),avatarOptions:[{callback:l,text:"Logout"}]})},U=o.memo(T),k=({children:c})=>{const{connectSession:l,connectInternalRedirect:n}=A(u),t=i(),s=`${t.pathname}${t.search}`;return l?window.location.pathname==="/"?a.jsx(I,{to:e.APPS}):n&&s!==n?a.jsx(I,{to:n}):a.jsx(v,{children:a.jsxs(d,{children:[a.jsx(U,{}),a.jsx(o.Suspense,{fallback:a.jsx(x,{}),children:c})]})}):a.jsx(d,{children:a.jsx(x,{fullPage:!0})})};export{k as PrivateRouteWrapper,k as default};
