import{r as o,a2 as i,o as v,j as a,a3 as P,d as p,a4 as d,B as x,a5 as I}from"./vendor-troV5kp-.js";import{r as m,R as e}from"./index-7tW5-Pg7.js";import{o as u,n as r}from"./navigation-NJEgAu2Y.js";import{u as A,P as f}from"./use-permissions-state-3iXP9x9E.js";const b=c=>{if(!(c!=null&&c.loginIdentity))return"";const{name:l}=c.loginIdentity,n=l.split(" "),t=n[0],s=n[n.length-1];return`${t.charAt(0)}${s.charAt(0)}`};var S={appEnv:"local",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerPortalUri:"https://developers.dev.paas.reapit.cloud",appMarketUri:"https://marketplace.dev.paas.reapit.cloud"};const R=c=>{switch(c){case e.APPROVALS:return 1;case e.APPS:return 2;case e.DEV_MANAGEMENT:return 3;case e.INSTALLATIONS:return 4;case e.BILLING:return 5;case e.TRAFFIC:return 6;case e.CUSTOMERS:return 7;case e.SUBSCRIPTIONS:return 8;case e.USAGE:return 9;case e.IAAS:return 10;case e.ROOT:default:return 0}},T=()=>{const c=i(),{connectLogoutRedirect:l,connectSession:n}=A(m),t=v(),{pathname:s}=c,k=[{itemIndex:0,callback:r(t,e.ROOT)},{itemIndex:1,callback:r(t,e.APPROVALS),text:"Approvals"},{itemIndex:2,callback:r(t,e.APPS),text:"Apps"},{itemIndex:3,callback:r(t,e.DEV_MANAGEMENT),text:"Developers"},{itemIndex:4,callback:r(t,e.INSTALLATIONS),text:"Installations"},{itemIndex:5,callback:r(t,e.BILLING),text:"Billing"},{itemIndex:6,callback:r(t,e.TRAFFIC),text:"Traffic"},{itemIndex:7,callback:r(t,e.CUSTOMERS),text:"Customers"},{itemIndex:8,callback:r(t,e.SUBSCRIPTIONS),text:"Subs"},{itemIndex:9,callback:r(t,e.USAGE),text:"Usage"},{itemIndex:10,callback:r(t,e.IAAS),text:"IAAS"}];return a.jsx(P,{defaultNavIndex:R(s),options:k,appSwitcherOptions:[{text:"AppMarket",callback:u(S.appMarketUri),iconUrl:a.jsx(p,{icon:"reapitLogoSmall"})},{text:"DevPortal",callback:u(S.developerPortalUri),iconUrl:a.jsx(p,{icon:"reapitLogoSmall"})}],avatarText:b(n),avatarOptions:[{callback:l,text:"Logout"}]})},U=o.memo(T),h=({children:c})=>{const{connectSession:l,connectInternalRedirect:n}=A(m),t=i(),s=`${t.pathname}${t.search}`;return l?window.location.pathname==="/"?a.jsx(I,{to:e.APPS}):n&&s!==n?a.jsx(I,{to:n}):a.jsx(f,{children:a.jsxs(d,{children:[a.jsx(U,{}),a.jsx(o.Suspense,{fallback:a.jsx(x,{}),children:c})]})}):a.jsx(d,{children:a.jsx(x,{fullPage:!0})})};export{h as PrivateRouteWrapper,h as default};
