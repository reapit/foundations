import{y as P,r as u,j as e,b0 as S,aU as E,aV as m,aW as I,by as U,a$ as k,a as j,k as C,c as d,b2 as A,d as D,F as _,e as w,aa as T,ap as R,G as O,_ as z,aS as N,aT as o,aX as q,aA as F}from"./vendor-XRUYIZQG.js";import{l as L,i as W,m as Y,h as B,e as V,p as G,j as H,U as K}from"./pusher-event-wrapper-UbIR4S0c.js";import{n as f,R as g,o as b,u as $,e as M,f as J,r as v,g as Q,G as X,E as Z,j as ee}from"./index-tQL3kVgr.js";const ae=({pipeline:a,connectSession:r})=>{var p,c;const l=P(),[s,i]=u.useState(a),[n,h]=u.useState(!1),t=L(`private-${r==null?void 0:r.loginIdentity.developerId}`);return W(t,"pipeline-update",Y(s,i,a.id??null)),e.jsxs(S,{children:[e.jsxs(E,{children:[e.jsx(m,{children:s.name}),e.jsxs(m,{children:[e.jsx(I,{intent:B(s.buildStatus)}),V(s.buildStatus)]}),e.jsx(m,{children:e.jsx("a",{target:"_blank",href:(p=s.repository)==null?void 0:p.repositoryUrl,rel:"noreferrer",children:(c=s.repository)==null?void 0:c.repositoryUrl})}),e.jsx(U,{isOpen:n,onClick:()=>h(!n)})]}),e.jsx(k,{isOpen:n,children:e.jsx(j,{isFlexAlignCenter:!0,isFlexJustifyCenter:!0,children:e.jsxs(C,{children:[e.jsx(d,{intent:"primary",onClick:f(l,g.APP_PIPELINE_CONFIGURE.replace(":appId",s.appId)),children:"Configure"}),e.jsx(d,{intent:"primary",onClick:f(l,g.APP_PIPELINE.replace(":appId",s.appId)),children:"Deployments"}),G(s.buildStatus)&&e.jsx(d,{intent:"default",onClick:b(`https://${s.subDomain}.iaas.paas.reapit.cloud`),children:"View App"})]})})})]})};var se={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--page",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const y=()=>{var c;const{connectSession:a}=$(v),[r,l]=u.useState(1),{globalDataState:s}=M(),{currentDeveloper:i}=s,n=i==null?void 0:i.id,h=n?{developerId:n}:{},[t,p]=J({reapitConnectBrowserSession:v,action:Q[X.paginatePipeline],headers:{Authorization:a==null?void 0:a.idToken},fetchWhenTrue:[a==null?void 0:a.idToken],queryParams:{...h,page:r}});return a?e.jsxs(j,{children:[e.jsxs(A,{children:[e.jsx(D,{className:_,iconSize:"large",icon:"webDeveloperInfographic"}),e.jsx(w,{hasGreyText:!0,children:"Infrastructure as a Service management. Pipelines are for deploying your Reapit apps to our infrastructure to simplify your development process"}),e.jsx(d,{intent:"default",onClick:b(Z.pipelineDocs),children:"View Docs"})]}),e.jsx(T,{children:e.jsx(ee,{children:e.jsxs(H,{cluster:"eu",clientKey:se.PUSHER_KEY,authEndpoint:`${K.DEPLOYMENT_SERVICE_HOST}pusher/auth`,auth:{headers:{Authorization:a.idToken}},children:[e.jsx(R,{children:"Pipelines"}),p||!i?e.jsx(O,{}):e.jsxs(e.Fragment,{children:[e.jsxs(z,{"data-has-expandable-action":!0,"data-num-columns-excl-action-col":"3",children:[e.jsxs(N,{children:[e.jsx(o,{children:"Name"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Repository"}),e.jsx(o,{})]}),(c=t==null?void 0:t.items)==null?void 0:c.map(x=>e.jsx(ae,{connectSession:a,pipeline:x},x.id))]}),e.jsx("div",{className:q,children:t&&e.jsx(F,{currentPage:t.meta.currentPage,numberPages:t.meta.totalPages,callback:l})})]})]})})})]}):null};export{y as IaaS,y as default};
