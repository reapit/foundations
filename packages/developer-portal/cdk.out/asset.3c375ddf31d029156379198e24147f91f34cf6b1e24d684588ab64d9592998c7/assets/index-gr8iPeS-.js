import{n as St,r as V,al as Kc,j as t,y as ot,am as Ht,an as Qc,ao as Da,ap as Zn,a as be,ai as Le,$ as en,g as de,d as ue,aq as so,p as w,k as oe,c as M,f as ee,ar as lt,as as ji,at as bi,au as y0,N as ze,av as x0,_ as Zt,a2 as wi,E as pe,V as Ci,G as pn,aw as v0,J as It,X as ur,o as Be,ax as dr,e as Ve,ay as Ua,a0 as pr,az as Fe,aA as oo,aB as Vr,aC as $n,aD as _i,C as j0,F as b0,H as ki,aE as Pe,aF as w0,aG as Si,aH as Xc,aI as Gr,aJ as C0,h as ct,aK as La,ak as ut,aL as xe,i as nn,aM as Jc,aN as za,D as Kn,aO as Yr,aP as _0,a1 as Fa,aQ as k0,a8 as lo,a9 as hn,aR as eu,aS as co,aT as At,aU as uo,aV as $t,aW as Ii,aX as po,aY as S0,aZ as Tt,a_ as I0,a$ as A0,b0 as nu,b1 as T0,aa as tu,a5 as E0,b2 as P0,b3 as R0,b4 as hr}from"./vendor-XRUYIZQG.js";import{u as we,f as N0,d as ru,A as O,a as M0,b as D0,g as U0,c as fr,e as Oa,h as ho,i as L0,r as z0,P as F0,j as O0,U as W0,k as q0}from"./pusher-event-wrapper-UbIR4S0c.js";import{o as ne,E as re,n as Qn,R as le,e as Hr,u as Cn,r as K,f as _n,g as fn,G as gn,c as Re,d as Ue,U as Ne,b as iu,h as Zr,i as au,I as $r,j as fo}from"./index-tQL3kVgr.js";import{c as Xn,a as z,e as Ke,u as gr,o as mr,h as su,d as Wa,C as B0,f as V0,t as ou,b as lu,g as G0,i as Y0}from"./error-messages-0Wz0vNVZ.js";import{s as tn,y as H0,w as Ai,i as Z0,a as cu,b as $0,c as Ti}from"./yup-QHb_2Eg3.js";import{C as yr,S as qa,I as uu,W as K0,a as Q0}from"./webhooks-animated-docs-icon-yjVjjNqA.js";import{f as X0}from"./FileSaver.min-RtrZvsYE.js";import{P as J0}from"./papaparse.min-Sf8av_Sk.js";const ey=St("div")({name:"HtmlContentWrap",class:"hy0i3hj-html-content-wrap",propsAsIs:!1}),ny=["bold","italic","underline","strikethrough","heading1","heading2","paragraph","quote","olist","ulist","code","line","link"],ty=({onChange:o,hasError:a,actions:s=ny,containerClass:m="",defaultContent:g,placeholder:x,actionbarClass:y="pell-actionbar",buttonClass:b="pell-button",contentClass:S="pell-content",dataTest:I="",onBlur:E,onPaste:A})=>{const j=V.useRef(null);return V.useEffect(()=>{if(Kc.init({element:j&&j.current,onChange:P=>o&&o(P),styleWithCSS:!1,defaultParagraphSeparator:"div",actions:s,classes:{actionbar:y,button:b,content:S}}),j&&j.current){const P=j.current.getElementsByClassName(S)[0];x&&P.setAttribute("placeholder",x)}},[]),V.useEffect(()=>{if(j&&j.current){const P=j.current.getElementsByClassName(S)[0];g!==P.innerHTML&&(P.innerHTML=g||"")}},[g]),V.useEffect(()=>{if(j&&j.current){const P=U=>{var R;U.preventDefault();const L=((R=U.clipboardData)==null?void 0:R.getData("text/plain"))??"",N=window.getSelection();if(!(N!=null&&N.rangeCount))return!1;N.deleteFromDocument(),N.getRangeAt(0).insertNode(document.createTextNode(L))};return j.current.addEventListener("paste",P),()=>{var U;return(U=j.current)==null?void 0:U.removeEventListener("paste",P)}}},[j]),t.jsx(ey,{children:t.jsx("div",{onPaste:A,onBlur:E,ref:j,"data-test":I,className:`pell ${a&&"pell--is-danger"} ${m}`})})},ry=o=>{let a="";return o&&(o.buildingNumber&&(a=a.concat(`${o.buildingNumber}`)),o.buildingName&&(a=a.concat(` ${o.buildingName}`)),o.line1&&(a=a.concat(` ${o.line1}`)),o.line2&&(a=a.concat(` ${o.line2}`)),o.line3&&(a=a.concat(` ${o.line3}`)),o.line4&&(a=a.concat(` ${o.line4}`)),o.postcode&&(a=a.concat(` ${o.postcode}`)),o.country&&(a=a.concat(` ${o.country}`))),a},dt="s1gxdqv9-step-option-item-selected",du=St("div")({name:"StepContainer",class:"sjtd378-step-container",propsAsIs:!1}),pt=St("div")({name:"StepOptionItem",class:"s16agsy2-step-option-item",propsAsIs:!1}),ht=St("div")({name:"StepOptionItemText",class:"se3ab8l-step-option-item-text",propsAsIs:!1}),pu=St("div")({name:"StepFormContainer",class:"s1cum27r-step-form-container",propsAsIs:!1}),iy=St("div")({name:"HelperContentContainer",class:"hzqukf0-helper-content-container",propsAsIs:!1}),Jn="s1u7t7z0-step-is-hidden",ay=St("div")({name:"ControlsContainer",class:"c4zt2p6-controls-container",propsAsIs:!1}),sy=V.memo(()=>t.jsxs("svg",{width:"100%",viewBox:"0 0 415 224",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("rect",{width:"100%",height:"224",rx:"4",fill:"#d8dee4"}),t.jsx("path",{d:"M100.25 153.375C100.25 149.121 102.099 145.053 105.32 142.219C105.983 141.632 106.217 140.701 105.907 139.873C105.597 139.044 104.802 138.496 103.918 138.496H70.5C65.8122 138.496 62 142.308 62 146.995V155.496C62 160.183 65.8122 163.996 70.5 163.996H100.492C101.253 163.996 101.954 163.588 102.337 162.929C102.719 162.27 102.711 161.458 102.328 160.799C100.951 158.441 100.25 155.942 100.25 153.375ZM74.75 155.5C72.4082 155.5 70.5 153.591 70.5 151.25C70.5 148.908 72.4084 147 74.75 147C77.0918 147 78.9999 148.908 78.9999 151.25C78.9999 153.592 77.0918 155.5 74.75 155.5Z",fill:"#9faebc"}),t.jsx("path",{d:"M149.123 134.25C148.736 134.25 148.349 134.271 147.971 134.305C144.431 128.993 138.485 125.75 132.123 125.75C122.229 125.75 114.065 133.302 113.096 142.946C108.204 143.893 104.498 148.211 104.498 153.375C104.498 159.231 109.267 164 115.123 164H149.123C157.325 164 163.998 157.328 163.998 149.125C163.998 140.922 157.325 134.25 149.123 134.25Z",fill:"#9faebc"}),t.jsx("path",{d:"M132.843 157.167H135.136V169.985H132.843V157.167Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.259 156.584H135.72V170.568H132.259V156.584ZM133.427 157.75V169.402H134.551V157.75H133.427Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M150.037 168.841H152.329V177.992H150.037V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M149.452 168.258H152.913V178.575H149.452V168.258ZM150.621 169.424V177.409H151.745V169.424H150.621Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M115.65 168.841H117.943V177.992H115.65V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115.066 168.258H118.527V178.575H115.066V168.258ZM116.234 169.424V177.409H117.358V169.424H116.234Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M132.843 168.841H135.136V177.992H132.843V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.259 168.258H135.72V178.575H132.259V168.258ZM133.427 169.424V177.409H134.551V169.424H133.427Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M115.65 169.985V167.697H152.329V169.985L115.65 169.985Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115.066 170.568L115.066 167.114L152.913 167.114V170.568L115.066 170.568ZM116.234 169.401L151.745 169.401V168.28H116.234V169.401Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M154.621 180.28C154.621 182.175 153.082 183.711 151.182 183.711C149.283 183.711 147.744 182.175 147.744 180.28C147.744 178.384 149.283 176.848 151.182 176.848C153.082 176.848 154.621 178.384 154.621 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.182 177.431C149.606 177.431 148.328 178.706 148.328 180.28C148.328 181.853 149.606 183.128 151.182 183.128C152.759 183.128 154.037 181.853 154.037 180.28C154.037 178.706 152.759 177.431 151.182 177.431ZM147.159 180.28C147.159 178.062 148.961 176.265 151.182 176.265C153.404 176.265 155.205 178.062 155.205 180.28C155.205 182.497 153.404 184.294 151.182 184.294C148.961 184.294 147.159 182.497 147.159 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M137.428 180.28C137.428 182.175 135.889 183.711 133.989 183.711C132.09 183.711 130.551 182.175 130.551 180.28C130.551 178.384 132.09 176.848 133.989 176.848C135.889 176.848 137.428 178.384 137.428 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.989 177.431C132.413 177.431 131.135 178.706 131.135 180.28C131.135 181.853 132.413 183.128 133.989 183.128C135.566 183.128 136.844 181.853 136.844 180.28C136.844 178.706 135.566 177.431 133.989 177.431ZM129.966 180.28C129.966 178.062 131.768 176.265 133.989 176.265C136.211 176.265 138.012 178.062 138.012 180.28C138.012 182.497 136.211 184.294 133.989 184.294C131.768 184.294 129.966 182.497 129.966 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M138.574 154.879C138.574 157.406 136.522 159.454 133.989 159.454C131.457 159.454 129.405 157.406 129.405 154.879C129.405 152.352 131.457 150.303 133.989 150.303C136.522 150.303 138.574 152.352 138.574 154.879Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.989 150.887C131.78 150.887 129.989 152.674 129.989 154.879C129.989 157.084 131.78 158.871 133.989 158.871C136.199 158.871 137.99 157.084 137.99 154.879C137.99 152.674 136.199 150.887 133.989 150.887ZM128.82 154.879C128.82 152.03 131.135 149.72 133.989 149.72C136.844 149.72 139.159 152.03 139.159 154.879C139.159 157.728 136.844 160.038 133.989 160.038C131.135 160.038 128.82 157.728 128.82 154.879Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M120.235 180.28C120.235 182.175 118.696 183.711 116.796 183.711C114.897 183.711 113.358 182.175 113.358 180.28C113.358 178.384 114.897 176.848 116.796 176.848C118.696 176.848 120.235 178.384 120.235 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.796 177.431C115.22 177.431 113.942 178.706 113.942 180.28C113.942 181.853 115.22 183.128 116.796 183.128C118.373 183.128 119.651 181.853 119.651 180.28C119.651 178.706 118.373 177.431 116.796 177.431ZM112.773 180.28C112.773 178.062 114.575 176.265 116.796 176.265C119.018 176.265 120.819 178.062 120.819 180.28C120.819 182.497 119.018 184.294 116.796 184.294C114.575 184.294 112.773 182.497 112.773 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M155.5 108.75H70.5C65.8122 108.75 62 112.562 62 117.249V125.749C62 130.437 65.8122 134.249 70.5 134.249H110.14C110.896 134.249 111.593 133.846 111.976 133.191C116.175 125.979 123.897 121.499 132.125 121.499C138.746 121.499 145.087 124.372 149.529 129.379C149.886 129.783 150.383 130.033 150.923 130.089C153.494 130.331 156.035 131.147 158.466 132.524C159.227 132.953 160.179 132.877 160.859 132.316C162.856 130.684 164 128.291 164 125.754V117.254C164 112.562 160.188 108.75 155.5 108.75ZM74.75 125.749C72.4082 125.749 70.5 123.841 70.5 121.499C70.5 119.158 72.4084 117.25 74.75 117.25C77.0918 117.25 78.9999 119.158 78.9999 121.499C78.9999 123.841 77.0918 125.749 74.75 125.749Z",fill:"#23A4DE"}),t.jsx("path",{d:"M155.5 79H70.5001C65.8122 79 62 82.8122 62 87.5V96.0001C62 100.688 65.8122 104.5 70.5001 104.5H155.5C160.188 104.5 164 100.688 164 96.0001V87.5C164 82.8122 160.188 79 155.5 79ZM74.75 96.0001C72.4082 96.0001 70.5001 94.0918 70.5001 91.7502C70.5001 89.4084 72.4082 87.5 74.75 87.5C77.0918 87.5 78.9999 89.4084 78.9999 91.75C78.9999 94.0918 77.0918 96.0001 74.75 96.0001Z",fill:"#798da1"}),t.jsx("path",{d:"M116.817 56.7389L118.758 57.8594L140.378 20.4131L138.437 19.2926L116.817 56.7389Z",fill:"#9faebc"}),t.jsx("path",{d:"M159.614 53.7471H116.373V55.9881H159.614V53.7471Z",fill:"#9faebc"}),t.jsx("path",{d:"M117.229 55.0057L138.857 67.4932L139.978 65.5525L118.35 53.065L117.229 55.0057Z",fill:"#9faebc"}),t.jsx("path",{d:"M136.016 22.4603L157.645 34.9478L158.765 33.007L137.137 20.5196L136.016 22.4603Z",fill:"#9faebc"}),t.jsx("path",{d:"M117.235 32.9987L118.355 34.9395L139.984 22.452L138.863 20.5113L117.235 32.9987Z",fill:"#9faebc"}),t.jsx("path",{d:"M135.626 20.4136L157.246 57.8599L159.187 56.7394L137.567 19.2931L135.626 20.4136Z",fill:"#9faebc"}),t.jsx("path",{d:"M120.329 31.5127H118.088V56.4877H120.329V31.5127Z",fill:"#9faebc"}),t.jsx("path",{d:"M157.913 31.5127H155.672V56.4877H157.913V31.5127Z",fill:"#9faebc"}),t.jsx("path",{d:"M137.496 64.8497L138.475 66.5449L157.285 55.6842L156.307 53.989L137.496 64.8497Z",fill:"#9faebc"}),t.jsx("path",{d:"M160.883 57.2166C159.587 59.4711 156.698 60.2406 154.443 58.9446C152.189 57.6486 151.419 54.7596 152.715 52.5051C154.011 50.2506 156.9 49.4811 159.155 50.7771C161.423 52.0866 162.192 54.9621 160.883 57.2166Z",fill:"#9faebc"}),t.jsx("path",{d:"M123.271 35.4949C121.975 37.7494 119.086 38.5189 116.832 37.2229C114.577 35.9269 113.808 33.0379 115.104 30.7834C116.4 28.5289 119.289 27.7594 121.543 29.0554C123.798 30.3649 124.567 33.2404 123.271 35.4949Z",fill:"#9faebc"}),t.jsx("path",{d:"M115.117 57.2166C113.821 54.9621 114.591 52.0866 116.845 50.7771C119.1 49.4811 121.975 50.2506 123.285 52.5051C124.581 54.7596 123.811 57.6351 121.557 58.9446C119.289 60.2406 116.413 59.4711 115.117 57.2166Z",fill:"#9faebc"}),t.jsx("path",{d:"M152.729 35.4949C151.433 33.2404 152.202 30.3649 154.457 29.0554C156.711 27.7594 159.587 28.5289 160.896 30.7834C162.192 33.0379 161.423 35.9134 159.168 37.2229C156.914 38.5189 154.025 37.7494 152.729 35.4949Z",fill:"#9faebc"}),t.jsx("path",{d:"M138.001 70.4328C135.395 70.4328 133.289 68.3268 133.289 65.7213C133.289 63.1158 135.395 61.0098 138.001 61.0098C140.606 61.0098 142.712 63.1158 142.712 65.7213C142.712 68.3133 140.606 70.4328 138.001 70.4328Z",fill:"#9faebc"}),t.jsx("path",{d:"M138.001 26.9899C135.395 26.9899 133.289 24.8839 133.289 22.2784C133.289 19.6729 135.395 17.5669 138.001 17.5669C140.606 17.5669 142.712 19.6729 142.712 22.2784C142.712 24.8839 140.606 26.9899 138.001 26.9899Z",fill:"#9faebc"}),t.jsx("path",{d:"M247.126 167.402L216.555 178.52L215.396 182.652C213.75 188.534 207.497 193.344 201.502 193.344V196.123H264.904L247.126 167.402Z",fill:"#607890"}),t.jsx("path",{d:"M259.185 182.652L254.912 167.402L237.29 156.284L219.668 167.402L216.555 178.52H247.126L248.285 182.652C249.931 188.533 256.184 193.344 262.179 193.344L267.629 196.123L273.079 193.344C267.084 193.344 260.831 188.533 259.185 182.652Z",fill:"#506478"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M157.9 172.532C151.905 172.532 147 167.528 147 161.414V139.178L316.678 94.7065V128.06L327.577 139.178V161.414C327.577 167.529 322.672 172.532 316.677 172.532H305.777V172.532H157.9Z",fill:"#607890"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M305.776 28H316.676C322.671 28 327.576 33.003 327.576 39.1178V139.178H316.678V139.179H147V39.1181C147 33.0032 151.905 28.0002 157.9 28.0002H305.776L305.776 28Z",fill:"#798da1"}),t.jsx("path",{d:"M237.288 161.414C240.298 161.414 242.738 158.925 242.738 155.855C242.738 152.785 240.298 150.296 237.288 150.296C234.278 150.296 231.838 152.785 231.838 155.855C231.838 158.925 234.278 161.414 237.288 161.414Z",fill:"#fff"}),t.jsx("path",{d:"M293.607 198.902H180.973C179.468 198.902 178.248 197.658 178.248 196.123C178.248 194.587 179.468 193.343 180.973 193.343H293.607C295.112 193.343 296.332 194.587 296.332 196.123C296.332 197.658 295.112 198.902 293.607 198.902Z",fill:"#607890"}),t.jsx("path",{d:"M317.892 44.9788V62.2251C263.897 62.2251 209.903 62.2246 155.908 62.2246V44.9788C155.908 40.0763 159.466 36.0986 163.851 36.0986H309.949C314.335 36.0986 317.892 40.0763 317.892 44.9788Z",fill:"#23A4DE"}),t.jsx("path",{d:"M317.922 58.4512V139.451C284.941 139.451 185.437 139.451 155.922 139.451V58.4512C209.922 58.4512 263.922 58.4512 317.922 58.4512Z",fill:"#fff"}),t.jsx("path",{d:"M285.858 50.6068C284.023 50.6068 282.537 49.1202 282.537 47.2863V47.2403C282.537 45.4061 284.024 43.9199 285.858 43.9199C287.691 43.9199 289.178 45.4065 289.178 47.2403V47.2863C289.178 49.1206 287.691 50.6068 285.858 50.6068Z",fill:"#fff"}),t.jsx("path",{d:"M296.463 50.6068C294.629 50.6068 293.143 49.1202 293.143 47.2863V47.2403C293.143 45.4061 294.629 43.9199 296.463 43.9199C298.297 43.9199 299.783 45.4065 299.783 47.2403V47.2863C299.783 49.1206 298.297 50.6068 296.463 50.6068Z",fill:"#fff"}),t.jsx("path",{d:"M307.068 50.6068C305.234 50.6068 303.748 49.1202 303.748 47.2863V47.2403C303.748 45.4061 305.235 43.9199 307.068 43.9199C308.903 43.9199 310.389 45.4065 310.389 47.2403V47.2863C310.389 49.1206 308.903 50.6068 307.068 50.6068Z",fill:"#fff"}),t.jsx("rect",{x:"175.922",y:"67.6875",width:"34.0186",height:"59.9375",rx:"4",fill:"#798da1"}),t.jsx("rect",{x:"218.039",y:"72.5474",width:"33.6558",height:"33.6558",rx:"4",fill:"#9faebc"}),t.jsx("rect",{x:"218.039",y:"113.045",width:"24.299",height:"7.2897",rx:"3.64485",fill:"#23A4DE"}),t.jsx("path",{d:"M339.571 67H274.788C267.737 67 262 72.5564 262 79.3861V118.638C262 125.468 267.737 131.024 274.788 131.024H339.571C346.622 131.024 352.359 125.468 352.359 118.638V79.3861C352.359 72.5564 346.622 67 339.571 67Z",fill:"#fff"}),t.jsx("path",{d:"M339.57 67H321.247C314.196 67 308.459 72.5564 308.459 79.3861L295.098 118.638C295.098 125.468 300.835 131.024 307.886 131.024H339.57C346.621 131.024 352.358 125.468 352.358 118.638V79.3861C352.358 72.5564 346.621 67 339.57 67Z",fill:"#fff"}),t.jsx("path",{d:"M339.571 67H274.788C267.737 67 262 72.5564 262 79.3861V118.638C262 125.468 267.737 131.024 274.788 131.024H339.571C346.622 131.024 352.359 125.468 352.359 118.638V79.3861C352.359 72.5564 346.622 67 339.571 67ZM294.792 86.7046L281.339 99.7333L293.303 111.319C294.337 112.321 294.337 113.945 293.303 114.945C292.27 115.946 290.594 115.946 289.56 114.945L275.723 101.545C274.689 100.543 274.689 98.9215 275.723 97.9199L291.047 83.0795C292.082 82.078 293.758 82.078 294.792 83.0795C295.825 84.0794 295.825 85.703 294.792 86.7046ZM317.932 80.6731L303.934 119.058C303.447 120.395 301.934 121.094 300.556 120.622C299.178 120.151 298.454 118.686 298.941 117.351L312.94 78.9656C313.427 77.6308 314.938 76.9301 316.318 77.4018C317.696 77.8735 318.42 79.3382 317.932 80.6731ZM338.636 100.104L323.312 114.945C322.278 115.946 320.601 115.946 319.567 114.945C318.535 113.945 318.535 112.321 319.567 111.319L333.02 98.2908L321.057 86.7046C320.022 85.703 320.022 84.0794 321.057 83.0795C322.089 82.078 323.766 82.078 324.8 83.0795L338.636 96.4791C339.67 97.4807 339.67 99.1026 338.636 100.104Z",fill:"#7e9bfa"})]})),oy=()=>{const o=ot(),{isMobile:a,isTablet:s,isDesktop:m}=Ht(),g=a||s||m;return t.jsxs(Qc,{children:[t.jsxs(Da,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:4,spanSuperWideScreen:5,span4KScreen:7,children:[t.jsx(Zn,{children:"Apps"}),t.jsx(du,{children:t.jsxs(be,{isFlexColumn:!0,isFlexJustifyAround:!0,children:[t.jsxs("div",{className:Le,children:[t.jsx("div",{className:en,children:t.jsx(de,{hasBoldText:!0,hasNoMargin:!0,children:"View Docs"})}),t.jsxs(be,{isFlexColumn:!0,className:en,children:[t.jsxs(be,{children:[t.jsx(ue,{className:so,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{hasGreyText:!0,children:"We have invested a considerable amount of time to ensure our documentation is as comprehensive as possible, from detailed references, to our APIs to a glossary of terms and frequently asked questions."})]}),t.jsx(w,{hasGreyText:!0,children:"Having first watched the video, you may want to have a deep dive into the documentation before creating your first app."}),t.jsx("div",{className:Le,children:t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:"If you get stuck at any point when working with Foundations, make the docs your first port of call."})}),t.jsx(oe,{alignment:"left",children:t.jsx(M,{onClick:ne(re.baseDocs),intent:"default",children:"View Docs"})})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:en,children:t.jsx(de,{hasBoldText:!0,hasNoMargin:!0,children:"Create APP"})}),t.jsxs(be,{isFlexColumn:!0,className:en,children:[t.jsxs(be,{children:[t.jsx(ue,{className:so,icon:"welcomeInfographic",iconSize:"large"}),t.jsx(w,{hasGreyText:!0,children:"Creating an app is the starting point for authenticating against the Foundations APIs. Your app might be a web application, possibly rendered inside of the AgencyCloud CRM, or a simple data feed to serve a website."})]}),t.jsx("div",{className:Le,children:t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:"In all cases, you will need to use the app creation wizard that will walk you through creating your app, explain key concepts along the way and link out to our documentation where relevant."})}),t.jsx(oe,{alignment:"left",children:t.jsx(M,{intent:"primary",size:2,onClick:Qn(o,le.APPS_NEW),children:"Create App"})})]})]})]})})]}),t.jsxs(Da,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:8,spanSuperWideScreen:11,span4KScreen:13,children:[t.jsx(Zn,{children:"About Foundations"}),t.jsxs(be,{isFlexAlignStart:!g,isFlexColumn:g,children:[t.jsxs("div",{className:ee(!g&&lt,!g&&ji,g&&Le),children:[t.jsx(w,{hasGreyText:!0,children:"Reapit Foundations is a Platform as a Service that enables developers to access, update and enhance data within the Reapit AgencyCloud desktop CRM."}),t.jsx(sy,{})]}),t.jsxs("div",{className:ee(!g&&lt,!g&&bi),children:[t.jsx(w,{hasGreyText:!0,children:"There are a number of aspects to The Platform documented within this Developer Portal, specifically, APIs, Webhooks, a UI Library and Data Analytics solutions. We also have an AppMarket to facilitate the publishing and installation of the software you build on top of the Platform."}),t.jsx(w,{hasGreyText:!0,children:"Every developer will have different use cases for using our Platform and it is unlikely you will need to use all of the APIs and tooling we provide. However, the starting point for all integrations is to create an \u2018App\u2019, which on a basic level is the means to authenticate against our services."}),t.jsx(w,{hasGreyText:!0,children:"To get started, create your first app using the wizard on the left of this page. This will allow you to authenticate against our APIs."})]})]})]})]})},ly="cbaewf6-card-cursor",cy=({app:o})=>{const a=ot(),{id:s,name:m,isDirectApi:g,developer:x,iconUri:y}=o;return t.jsx(y0,{className:ee(ze,ly),onClick:Qn(a,`${le.APPS}/${s}`),hasMainCard:!0,mainCardHeading:m,mainCardSubHeading:x,mainCardSubHeadingAdditional:g?"Integration":"",mainCardAvatarUrl:y??t.jsx(x0,{placeholder:"placeholderSmall",size:50})})},hu=o=>{const a=o===le.APPS,s=o===le.APPS_NEW,m=o===le.APPS_WELCOME,g=/^\/apps\/[a-z0-9-]+\/installations/.test(o),x=/^\/apps\/[a-z0-9-]+\/edit/.test(o),y=/^\/apps\/[a-z0-9-]+\/pipeline/.test(o),b=/^\/apps\/[a-z0-9-]+\/consents/.test(o),S=!x&&!s&&!g&&!y&&!b&&/^\/apps\/[a-z0-9-]+/.test(o);return{isAppsList:a,isAppsNew:s,isAppsWelcome:m,isAppsEdit:x,isAppsDetail:S,isAppsInstallations:g,isAppPipelines:y,isAppConsents:b}},uy=Xn().shape({reapitReference:z().trim().required(Ke.FIELD_REQUIRED).test(tn),status:z().trim().required(Ke.FIELD_REQUIRED).test(tn)}),dy=(o,a)=>a==="pending"?"Account Information is being verified":o?"Account Verification":"Account Information Required",py=(o,a,s)=>()=>{s&&(o(),a())},hy=({closeModal:o,refetchDeveloper:a,developer:s})=>{var N,R;const{globalDataState:m}=Hr(),{register:g,handleSubmit:x,formState:{errors:y}}=gr({resolver:mr(uy),defaultValues:{...s,companyName:s.company,status:"pending",reapitReference:""}}),{connectSession:b}=Cn(K),[S]=_n({reapitConnectBrowserSession:K,action:fn[gn.getDeveloperMembers],uriParams:{developerId:b==null?void 0:b.loginIdentity.developerId},queryParams:{role:"admin",status:"active"},fetchWhenTrue:[b==null?void 0:b.loginIdentity.developerId]}),[I,,E,A]=Re({method:"PUT",reapitConnectBrowserSession:K,action:Ue[Ne.updateDeveloper],uriParams:{developerId:b==null?void 0:b.loginIdentity.developerId}});V.useEffect(py(o,a,A),[A]);const{currentMember:j}=m,P=iu(b),U=j==null?void 0:j.role,L=s.status;return P?L==="pending"?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"We are currently verifying your account information. This is typically done within 1 \u2013 2 working days. You will be notified via email when this has been completed and you can continue with your app submission."}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:o,children:"Close"})})]}):U!=="admin"?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before an app can be submitted (either privately or publicly), we will first need to verify your account information (which can only be submitted by an Admin) as API Consumption charges will apply."}),t.jsx(w,{children:"Please contact one of the Admins listed below:"}),t.jsx(Zt,{className:wi,rows:(N=S==null?void 0:S.data)==null?void 0:N.map(W=>({cells:[{label:"Name",value:W.name??"",icon:"contact",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Email Admin",value:"",children:t.jsx("a",{href:`mailto:${W.email}?subject=Developer%20Portal%20\u2013%20Listing%20our%20app&body=Before%20we%20can%20submit%20an%20app,%20we%20need%20to%20verify%20our%20Reapit%20Reference.%20Please%20can%20you%20login%20to%20the%20Developer%20Portal,%20submit%20the%20app%20and%20enter%20the%20required%20information.%20The%20Reapit%20Reference%20can%20be%20found%20on%20any%20Reapit%20correspondence%20under%20the%20\u2018Account\u2019%20section.`,target:"_blank",rel:"noopener noreferrer",children:"Send Email"}),icon:"email",cellHasDarkText:!0,narrowTable:{showLabel:!0}}]}))}),t.jsx(w,{children:"Alternatively, you can request the option to become an Admin. Simply ask one of the Admins above to visit the \u2018Organisation\u2019 page to view the member options."}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:o,children:"Close"})})]}):t.jsxs("form",{onSubmit:x(W=>E(W)),children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before an app can be submitted (either privately or publicly), we will first need to verify your account information as API Consumption charges will apply."}),t.jsx(pe,{className:wi,...g("reapitReference"),inputAddOnText:(R=y==null?void 0:y.reapitReference)==null?void 0:R.message,type:"text",label:"Reapit Reference",placeholder:"Enter your Reapit reference here",intent:"danger"}),t.jsx(w,{children:"You can find your Reapit Reference from any Reapit correspondence under the \u2018Account\u2019 section."}),t.jsx(w,{children:"The verification process is typically completed within 1 \u2013 2 working days. You will be notified via email when this has been completed and you can continue with your app submission."}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{intent:"default",onClick:o,children:"Close"}),t.jsx(M,{intent:"primary",type:"submit",disabled:I,loading:I,children:"Submit"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before you can list an app in the AppMarket ('Submit for approval'), you will first need to submit your account information."}),t.jsxs(w,{children:["Please"," ",t.jsxs("a",{href:"mailto:jhennessy@reapit.com?subject=Submitting%20my%20app%20for%20approval%20/%20listing%20in%20the%20AppMarket",target:"_blank",rel:"noopener noreferrer",children:[" ","click here"]})," ","to contact a member of the team."]}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:o,children:"Close"})})]})},fy=["PROVISIONING","PROVISION_REQUEST","FAILED_TO_PROVISION","PRE_PROVISIONED","DELETING","DELETED","SCHEDULED_FOR_DELETION","DELETION_REQUEST","CREATED"],fu=["IN_PROGRESS","DELETING","PROVISION_REQUEST","PROVISIONING","QUEUED","SCHEDULED_FOR_DELETION","DELETION_REQUEST","CREATED","DELETED"],gu=["PROVISIONING","PROVISION_REQUEST"],gy=["PRE_PROVISIONED","PROVISIONING","PROVISION_REQUEST","FAILED_TO_PROVISION"];var ft=(o=>(o.NPM="npm",o.YARN="yarn",o.YARN_BERRY="yarn-berry",o))(ft||{}),mu=(o=>(o.NODE="node",o.REACT="react",o))(mu||{}),yu=(o=>(o.PAYMENT="payment",o.DEPLOYMENT="deployment",o))(yu||{});const my=o=>{var s;const a=o;return a.description||delete a.description,a.summary||delete a.summary,a.supportEmail||delete a.supportEmail,a.telephone||delete a.telephone,a.homePage||delete a.homePage,a.launchUri||delete a.launchUri,a.videoUrl1||delete a.videoUrl1,a.videoUrl2||delete a.videoUrl2,a.categoryIds||delete a.categoryIds,a.redirectUris&&!a.redirectUris.length&&delete a.redirectUris,a.signoutUris&&!a.signoutUris.length&&delete a.signoutUris,(s=a.desktopIntegrationTypeIds)!=null&&s.length||(delete a.launchWindowSizeX,delete a.launchWindowSizeY),a},xu=({name:o,categoryIds:a,telephone:s,supportEmail:m,launchUri:g,iconImageUrl:x,screen5ImageUrl:y,screen4ImageUrl:b,screen3ImageUrl:S,screen2ImageUrl:I,screen1ImageUrl:E,videoUrl1:A,videoUrl2:j,homePage:P,isAgencyCloudIntegrated:U,summary:L,description:N,termsAndConditionsUrl:R,developerId:W,isFree:G,deletionProtection:q,privacyPolicyUrl:Q,pricingUrl:X,isListed:H,scopes:me,redirectUris:ie,signoutUris:Se,limitToClientIds:_e,desktopIntegrationTypeIds:Oe,products:kn,isPrivateApp:an,launchWindowSizeX:sn,launchWindowSizeY:Ge})=>{const on={name:o,telephone:s,supportEmail:m,launchUri:g,iconImageUrl:x,screen5ImageUrl:y,screen4ImageUrl:b,screen3ImageUrl:S,screen2ImageUrl:I,screen1ImageUrl:E,videoUrl1:A,videoUrl2:j,homePage:P,summary:L,description:N,termsAndConditionsUrl:R,developerId:W,isFree:G,deletionProtection:q,isListed:H,privacyPolicyUrl:Q,pricingUrl:X,isDirectApi:!U,categoryIds:a.split(",").filter(Boolean),scopes:me.split(",").filter(Boolean),redirectUris:ie.split(",").filter(Boolean),signoutUris:Se.split(",").filter(Boolean),limitToClientIds:an?_e.split(",").filter(Boolean):[],desktopIntegrationTypeIds:Oe.split(",").filter(Boolean),products:kn.split(",").filter(Boolean),launchWindowSizeX:Number(sn),launchWindowSizeY:Number(Ge)};return my(on)},vu=o=>Ci(o).format("DD MMM YYYY hh:mm:ss"),ju=o=>Ci(o).format("DD MMM YYYY hh:mm:ss"),yy=(o,a)=>()=>{a&&o(a)},xy=(o,a,s,m)=>()=>{m&&(async()=>{await a()&&(s(),o(null))})().catch(g=>console.error(g))},vy=(o,a,s,m)=>()=>{s&&m&&(async()=>{const g=new Date;g.setFullYear(g.getFullYear()+1),await o({email:m,keyExpiresAt:g.toISOString(),entityType:yu.DEPLOYMENT,developerId:s})&&a()})().catch(g=>console.error(g))},jy=(o,a)=>()=>{o(a),setTimeout(()=>{o("")},5e3)},by=({closeModal:o})=>{const{connectSession:a}=Cn(K),{globalDataState:s}=Hr(),[m,g]=V.useState(""),[x,y]=V.useState(null),{currentDeveloper:b}=s,S=b==null?void 0:b.id,I=b==null?void 0:b.email,[E,A,,j]=_n({reapitConnectBrowserSession:K,action:fn[gn.getApiKeysByUserId],uriParams:{email:b==null?void 0:b.email},headers:{Authorization:a==null?void 0:a.idToken},fetchWhenTrue:[a==null?void 0:a.idToken,b==null?void 0:b.email]}),[P,,U]=Re({action:Ue[Ne.createApiKeyByMember],reapitConnectBrowserSession:K,method:"POST",headers:{Authorization:a==null?void 0:a.idToken}}),[L,,N]=Re({reapitConnectBrowserSession:K,action:fn[gn.deleteApiKey],uriParams:{apiKeyId:x},headers:{Authorization:a==null?void 0:a.idToken},method:"DELETE"});V.useEffect(xy(y,N,j,x),[x]);const R=A||P||L;return t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"Manage your API keys here for use with the Reapit CLI tool. The CLI allows you to deploy your application as a zip folder from a local build on the command line, rather than having to grant access to your private repos."}),t.jsx(w,{hasGreyText:!0,children:"You only need an API key to use the Reapit CLI. If you prefer to use the web UI to manage your deployments, you can pass on this page."}),t.jsxs(w,{hasGreyText:!0,children:["For more on the Reapit CLI visit ",t.jsx("a",{onClick:ne(re.cliDocs),children:"the docs here."})]}),R?t.jsx(pn,{}):t.jsxs(t.Fragment,{children:[E!=null&&E.items.length?t.jsx(Zt,{className:en,numberColumns:3,rows:E==null?void 0:E.items.map(W=>({cells:[{label:"API Key",value:t.jsxs(be,{children:[t.jsx("span",{className:v0,children:W.apiKey??""}),t.jsx(yr,{text:W.apiKey??"",onCopy:jy(g,W.apiKey??""),children:t.jsx(M,{intent:"default",children:m===W.apiKey?"Copied":"Copy"})})]}),cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Expires",value:W.keyExpiresAt?vu(W.keyExpiresAt):"",cellHasDarkText:!0,narrowTable:{showLabel:!0}}],ctaContent:{icon:"trash",headerContent:"Delete Key",isCallToAction:!0,onClick:yy(y,W.id)}}))}):t.jsx(It,{className:en,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No API keys currently configured for your organisation. You can create an API key below."}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{intent:"default",onClick:o,disabled:R,children:"Close"}),t.jsx(M,{intent:"primary",fixedWidth:!0,onClick:vy(U,j,S,I),disabled:R,children:"Create API Key"})]})]})]})},wy=o=>{if(!o)return!1;try{return Xn().shape({name:z().required(),branch:z().required(),repository:Xn().shape({repositoryUrl:z().trim().required().matches(su)}),buildCommand:z().trim().required(),packageManager:z().trim().required().test(H0),outDir:z().required()}).validateSync(o),!0}catch{return!1}},Cy=(o,a)=>()=>{a&&o(!0)},_y=o=>()=>{o(!0)},ky=(o,a,s,m,g,x,y)=>async()=>{var S,I,E,A;const b=await o(y);if(g&&b&&typeof b!="boolean"&&b.subDomain&&x){const j=N0(g,x),P=xu(j),U=`https://${b.subDomain}.iaas.paas.reapit.cloud`,L=`https://${b.subDomain}.iaas.paas.reapit.cloud/login`;(S=P==null?void 0:P.redirectUris)!=null&&S.includes(U)||((I=P==null?void 0:P.redirectUris)==null||I.push(U)),(E=P==null?void 0:P.signoutUris)!=null&&E.includes(L)||((A=P==null?void 0:P.signoutUris)==null||A.push(L)),await a(P)&&(s(),m())}},Sy=o=>()=>{o()},Iy=(o,a)=>async()=>{await o()&&a()},Ay=()=>{var Ge;const o=ur(),a=ot(),{connectSession:s}=Cn(K),{appPipelineState:m,appId:g,appsDataState:x}=we(),{Modal:y,openModal:b,closeModal:S}=Be(),{Modal:I,openModal:E,closeModal:A}=Be(),{appPipeline:j,setAppPipelineSaving:P,setAppPipelineDeploying:U}=m,{pathname:L}=o,N=L.includes("new")||L.includes("configure"),{appDetail:R,appsDetailRefresh:W,appRefreshRevisions:G}=x,q=(s==null?void 0:s.loginIdentity.developerId)??null,Q=wy(j),X=!!((Ge=j==null?void 0:j.repository)!=null&&Ge.installationId),H=!!(j!=null&&j.bitbucketClientId),me=X||H,[ie,,Se]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.deletePipeline],uriParams:{appId:j==null?void 0:j.id},method:"DELETE",headers:{Authorization:s==null?void 0:s.idToken}}),[_e,Oe,kn]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createPipelineDeployment],uriParams:{pipelineId:j==null?void 0:j.id},headers:{Authorization:s==null?void 0:s.idToken},returnType:Zr.RESPONSE}),[,,an]=Re({reapitConnectBrowserSession:K,method:"PUT",action:Ue[Ne.updatePipeline],uriParams:{pipelineId:j==null?void 0:j.id},headers:{Authorization:s==null?void 0:s.idToken},returnType:Zr.RESPONSE}),[,,sn]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createAppRevsion],method:"POST",uriParams:{appId:g},returnType:Zr.LOCATION});return V.useEffect(Cy(U,Oe),[Oe]),t.jsxs("div",{className:ze,children:[t.jsx(ue,{className:dr,icon:"webDeveloperInfographic",iconSize:"large"}),t.jsx(de,{children:"Pipeline"}),N?t.jsx(Ve,{hasGreyText:!0,children:"When you create an app, we create a pre-provisioned pipeline for your app. You should configure your build steps on this page before using the deployments page to manage your releases to our infra."}):j?t.jsx(Ve,{hasGreyText:!0,children:"When you have a pipeline for your application, you can manage deployments from this page. Each table row refers to a deployment, and by expading the content, you can follow progress in real time."}):t.jsx(Ve,{hasGreyText:!0,children:"To get started with Reapit IAAS pipelines, first take the time to read the documentation. Then visit this page to configure your first pipeline."}),t.jsxs(oe,{children:[N&&t.jsx(M,{loading:ie,intent:"primary",onClick:_y(P),children:"Save Config"}),gy.includes(j==null?void 0:j.buildStatus)?t.jsx(M,{onClick:ky(an,sn,W,G,R,q,{...j??{},buildStatus:"PROVISION_REQUEST"}),disabled:gu.includes(j==null?void 0:j.buildStatus),loading:gu.includes(j==null?void 0:j.buildStatus),intent:"primary",children:"Provision"}):j&&!N&&Q?t.jsx(t.Fragment,{children:t.jsx(M,{loading:_e||j.buildStatus==="IN_PROGRESS",intent:"primary",onClick:Sy(kn),disabled:fy.includes(j.buildStatus)||fu.includes(j.buildStatus)||j.buildStatus==="QUEUED"||!me,children:"Deploy"})}):j&&!Q&&!L.includes("configure")?t.jsx(M,{intent:"primary",onClick:Qn(a,`${le.APPS}/${g}/pipeline/configure`),children:"Configure"}):null,t.jsx(M,{intent:"primary",onClick:E,children:"API Keys"}),j&&t.jsx(M,{loading:ie,intent:"danger",disabled:fu.includes(j.buildStatus),onClick:b,children:"Delete Pipeline"}),t.jsx(M,{intent:"default",onClick:ne(re.iaasDocs),children:"View Docs"})]}),t.jsxs(y,{title:"Delete Pipeline",children:[t.jsx(w,{hasGreyText:!0,children:"Are you sure you want to delete this pipeline? This will tear down any infrastructure you have provisioned and cannot be recovered."}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{intent:"default",onClick:S,children:"Close"}),t.jsx(M,{intent:"danger",onClick:Iy(Se,S),children:"Delete"})]})]}),t.jsx(I,{title:"Api Keys Management",children:t.jsx(by,{closeModal:A})})]})},Ty=o=>{var m;const a=J0.unparse({fields:["App Name","Client","Customer Name","Created On","Uninstalled On","Status","Installed By","Uninstalled By"],data:((m=o.data)==null?void 0:m.map(({client:g,appName:x,customerName:y,created:b,terminatesOn:S,status:I,installedBy:E,uninstalledBy:A})=>[x,g,y,b,S,I,E,A]))||[]}),s=new Blob([a],{type:"data:text/csv;charset=utf-8,"});X0.saveAs(s,"installs.csv")},Ey=()=>{var y;const[o,a]=V.useState(!1),{appsDataState:s}=we(),m=(y=s.appDetail)==null?void 0:y.id,{connectSession:g}=Cn(K),[x]=_n({reapitConnectBrowserSession:K,action:fn[gn.getInstallations],queryParams:{appId:m,isInstalled:!0,developerId:g==null?void 0:g.loginIdentity.developerId,pageSize:999},fetchWhenTrue:[o,g]});return V.useEffect(()=>{x&&x.data&&(Ty(x),o&&x&&a(!1))},[x,o]),t.jsx(oe,{children:t.jsx(M,{intent:"primary",loading:o,disabled:o||!g,onClick:()=>a(!0),children:"Download CSV"})})};var Py={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--page",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Ei=(o,a,s,m)=>()=>{if(m==="confirmed"||!a)return o({...ru,isRevalidating:!0,isListed:a});o({...ru,isRevalidating:!0}),s()},Ry=(o,a,s)=>()=>{s&&o({name:a==null?void 0:a.loginIdentity.name,email:a==null?void 0:a.loginIdentity.email,rejectionReason:"Cancelled by developer",rejectedByDeveloper:!0})},Ny=(o,a)=>()=>{o!=null&&o.data&&o.data[0]&&o.data[0].id&&a(o.data[0].id)},My=(o,a,s,m)=>()=>{m&&(o(),s(),a(null))},Dy=(o,a)=>async s=>{s==null||s.stopPropagation(),await o()&&a(le.APPS)},Uy=(o,a,s)=>()=>{s&&(a(),o())},Ly=o=>a=>{a==null||a.stopPropagation(),o()},xr=()=>{var Pt;const o=ur(),{appId:a,appEditState:s,appsDataState:m}=we(),{globalDataState:g,globalRefreshCurrentDeveloper:x}=Hr(),y=ot(),[b,S]=V.useState(null),{connectSession:I}=Cn(K),{Modal:E,openModal:A,closeModal:j}=Be(),{Modal:P,openModal:U,closeModal:L}=Be(),N=au(I),R=iu(I),{pathname:W}=o,{isAppsEdit:G,isAppsDetail:q,isAppPipelines:Q,isAppConsents:X,isAppsInstallations:H}=hu(W),{currentDeveloper:me}=g,{setAppEditSaving:ie,appUnsavedFields:Se,appIncompleteFields:_e}=s,{appsRefresh:Oe}=m,{appsDetailRefresh:kn,appRefreshRevisions:an,appRevisions:sn,appDetail:Ge,appDetailRefreshing:on,appDetailLoading:ln,appRevisionsRefreshing:Qt}=m,Qe=!Object.keys(_e).length,Ye=!!(Ge!=null&&Ge.pendingRevisions),vr=!!((Pt=m.appDetail)!=null&&Pt.isListed),nt=on||Qt,Xt=!!Object.keys(Se).length,{deletionProtection:qn,id:Et,name:Jt}=Ge??{},[,,tt,Bn]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.cancelRevision],uriParams:{appId:a,revisionId:b}}),[,,jr,rt]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.deleteApp],method:"DELETE",uriParams:{appId:a}});V.useEffect(Ny(sn,S),[sn]),V.useEffect(Uy(Oe,L,rt),[rt]),V.useEffect(My(kn,S,an,Bn),[Bn]);const mn=me==null?void 0:me.status;return G?t.jsxs("div",{className:ee(ze,Le),children:[t.jsx(ue,{className:dr,icon:"editAppInfographic",iconSize:"large"}),Qe&&!vr&&!ln&&!Ye?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Ready For Review"}),t.jsxs(Ve,{hasGreyText:!0,children:["As your app listing is now complete, you can submit it for review by one of our team, so you can go live with customer data. For more on this process"," ",t.jsx("a",{onClick:ne(re.appApprovalDocs),children:"visit here."})]}),t.jsx(Ve,{hasGreyText:!0,children:"You also have the option of saving any additional changes as you make them before submitting."}),t.jsxs(oe,{children:[Xt&&t.jsx(M,{intent:"primary",loading:nt,onClick:Ei(ie,!1,A,mn),children:"Save Changes"}),t.jsx(M,{intent:"primary",loading:nt,onClick:Ei(ie,!0,A,mn),children:"Submit Review"})]})]}):Ye?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Revision Outstanding"}),t.jsx(Ve,{hasGreyText:!0,children:"You have recently submitted an app listing revision for approval."}),t.jsxs(Ve,{hasGreyText:!0,children:["For more on this process ",t.jsx("a",{onClick:ne(re.appApprovalDocs),children:"visit here."})]}),t.jsx(Ve,{hasGreyText:!0,children:"If you no longer want your app revision to be approved, you can cancel below."}),t.jsx(oe,{children:t.jsx(M,{intent:"primary",loading:nt,onClick:Ry(tt,I,b),children:"Cancel Revision"})})]}):vr?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Listed Application"}),t.jsxs(Ve,{hasGreyText:!0,children:["As your app is live with customer data, you will need to submit any app changes for approval by one of our team. For more on this process ",t.jsx("a",{onClick:ne(re.appApprovalDocs),children:"visit here."})]}),t.jsx(Ve,{hasGreyText:!0,children:"You also have the option of de-listing your app and reverting to a sandbox only integration."}),t.jsxs(oe,{children:[t.jsx(M,{intent:"primary",loading:nt,onClick:Ei(ie,!1,A,mn),children:"De-list app"}),Xt&&t.jsx(M,{intent:"primary",loading:nt,onClick:Ei(ie,!0,A,mn),children:"Create Revision"})]})]}):Xt?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Unsaved Changes"}),t.jsx(Ve,{hasGreyText:!0,children:"Before you list your app you can save the details at any point below. After app listing, you will have to create an app revision for our team to review."}),t.jsx(oe,{children:t.jsx(M,{intent:"primary",loading:nt,onClick:Ei(ie,!1,A,mn),children:"Save Changes"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"App Listings"}),t.jsx(Ve,{hasGreyText:!0,children:"Actions will appear below as you perform tasks on this page"})]}),t.jsx(E,{title:dy(R,mn),children:me&&t.jsx(hy,{developer:me,closeModal:j,refetchDeveloper:x})})]}):q?t.jsxs("div",{className:ee(ze,Le),children:[t.jsx(ue,{className:dr,icon:"appMarketInfographic",iconSize:"large"}),t.jsx(w,{children:"Preview in AppMarket"}),t.jsx(Ve,{hasGreyText:!0,children:"Clicking below will take you to your current AppMarket listing, to view your app as users will see it."}),t.jsxs(oe,{children:[t.jsx(M,{intent:"primary",onClick:ne(`${Py.marketplaceUrl}/${a}`),children:"Preview"}),t.jsx(M,{intent:"danger",onClick:Ly(U),children:"Delete App"})]}),t.jsxs(P,{title:`Confirm ${Jt} Deletion`,children:[N?qn?t.jsxs(w,{children:["\u2018",Jt,"\u2019 has deletion protection enabled to avoid accidental data loss. If you really want to delete the app, visit ",t.jsx(Ua,{to:`${le.APPS}/${Et}/edit/app-listing`,children:"this page"}),", uncheck the delete protection checkbox and save the revision."]}):t.jsxs(w,{children:["Are your sure you want to remove the app \u2018",Jt,"\u2019? By clicking \u2018delete\u2019 it will remove all app data including all revisions and listings."]}):t.jsx(w,{children:"Unfortunately, your user account does not have the correct permissions to delete this app. Only an Admin of your developer organisation can delete apps."}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{intent:"default",onClick:L,children:"Cancel"}),t.jsx(M,{fixedWidth:!0,intent:"danger",disabled:qn||!N,onClick:Dy(jr,y),children:"Delete"})]})]})]}):Q?t.jsx(Ay,{}):X?t.jsxs("div",{className:ee(ze,Le),children:[t.jsx(ue,{className:dr,icon:"editAppInfographic",iconSize:"large"}),t.jsx(w,{children:"App Consents"}),t.jsx(Ve,{hasGreyText:!0,children:"This page is visible because you have requested new permissions as part of your current outstanding app revision. An email will be sent to each of the customers who installed your app, requesting they agree to the new permissions you have requested."}),t.jsx(Ve,{hasGreyText:!0,children:"Each customer will have to agree to the new permission before our team can approve your revision. You can either track this process here or reach out to your customer to expedite their response to our message."}),t.jsx(Ve,{hasGreyText:!0,children:"You can also request that the email is re-sent to each customer individually."}),t.jsx(oe,{children:t.jsx(M,{intent:"default",onClick:ne(re.appPermissionsDocs),children:"View Docs"})})]}):H?t.jsxs("div",{className:ee(ze,Le),children:[t.jsx(ue,{className:dr,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{children:"Apps Documentation"}),t.jsx(Ve,{hasGreyText:!0,children:"This is the dashboard for your applications created using the Reapit Foundations platform. If you have not created an app before or you need help, please take the time to view our getting started guide."}),t.jsx(oe,{className:dr,children:t.jsx(M,{intent:"default",onClick:ne(re.developerPortalDocs),children:"View Docs"})}),t.jsx(Ey,{})]}):t.jsxs("div",{className:ee(ze,Le),children:[t.jsx(ue,{className:dr,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{children:"Apps Documentation"}),t.jsx(Ve,{hasGreyText:!0,children:"This is the dashboard for your applications created using the Reapit Foundations platform. If you have not created an app before or you need help, please take the time to view our getting started guide."}),t.jsx(oe,{children:t.jsx(M,{intent:"default",onClick:ne(re.developerPortalDocs),children:"View Docs"})})]})},zy=()=>{var A;const{isMobile:o}=Ht(),{appsDataState:a}=we(),{Modal:s,openModal:m,closeModal:g}=Be(),{apps:x,appsSetPageNumber:y}=a,b=(x==null?void 0:x.pageNumber)??1,S=(x==null?void 0:x.totalCount)??0,I=(x==null?void 0:x.pageSize)??0,E=Math.ceil((S??1)/(I??1));return t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"My Apps"}),o&&t.jsxs(s,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:g,children:"Close"})})]}),t.jsx(pr,{className:en,children:(A=x==null?void 0:x.data)==null?void 0:A.map(j=>t.jsx(Fe,{children:t.jsx(cy,{app:j})},j.id))}),E>1&&t.jsx(oo,{callback:y,currentPage:b,numberPages:E}),t.jsx(Vr,{onClick:m})]})},gt=(o,a,s="clientCredentials")=>()=>{o(m=>({...m,nextStep:a,authFlow:s}))},Fy=()=>{const{appWizardState:o,setAppWizardState:a}=we(),{nextStep:s}=o;return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{className:ee(s===O.agencyCloudStep&&dt),onClick:gt(a,O.agencyCloudStep,"authorisationCode"),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"logoSettingsInfographic"}),t.jsx(ht,{children:"AgencyCloud Functionality"}),s===O.agencyCloudStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.externalAppStep&&dt),onClick:gt(a,O.externalAppStep),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"userHouseInfographic"}),t.jsx(ht,{children:"Create an External Web Application"}),s===O.externalAppStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.dataFeedStep&&dt),onClick:gt(a,O.dataFeedStep),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"feedInfographic"}),t.jsx(ht,{children:"Data / Portal / Reporting Feed"}),s===O.dataFeedStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.websiteFeedStep&&dt),onClick:gt(a,O.websiteFeedStep),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"feedAltInfographic"}),t.jsx(ht,{children:"Website Feed"}),s===O.websiteFeedStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.webServicesStep&&dt),onClick:gt(a,O.webServicesStep),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"globeInfographic"}),t.jsx(ht,{children:"WebServices to Platform"}),s===O.webServicesStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.reapitConnectStep&&dt),onClick:gt(a,O.reapitConnectStep,"authorisationCode"),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"doorLockInfographic"}),t.jsx(ht,{children:"Reapit Connect as ID Provider"}),s===O.reapitConnectStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.clientSideStep&&dt),onClick:gt(a,O.clientSideStep,"authorisationCode"),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"devicesInfographic"}),t.jsx(ht,{children:"Client Side App"}),s===O.clientSideStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.serverSideStep&&dt),onClick:gt(a,O.serverSideStep),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"serverInfographic"}),t.jsx(ht,{children:"Server Side Integration"}),s===O.serverSideStep&&t.jsx(ue,{icon:"check",intent:"primary"})]})]})},Oy=o=>()=>{o&&o(a=>({...a,nextStep:O.permissionsStep}))},go=({register:o,errors:a})=>{var m,g;const{setAppWizardState:s}=we();return V.useEffect(Oy(s),[]),t.jsxs(pu,{children:[t.jsx(pe,{className:_i,label:"Login Redirect URI",type:"text",...o("redirectUris"),defaultValue:"http://localhost:8080",inputAddOnText:(m=a==null?void 0:a.redirectUris)==null?void 0:m.message,intent:"danger"}),t.jsx(pe,{label:"Logout Redirect URI",type:"text",...o("signoutUris"),defaultValue:"http://localhost:8080/login",inputAddOnText:(g=a==null?void 0:a.signoutUris)==null?void 0:g.message,intent:"danger"})]})},bu=()=>{const{appWizardState:o,setAppWizardState:a}=we(),{nextStep:s}=o;return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{className:ee($n,s===O.clientSideStep&&dt),onClick:gt(a,O.clientSideStep,"authorisationCode"),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"devicesInfographic"}),t.jsx(ht,{children:"Client Side App"}),s===O.clientSideStep&&t.jsx(ue,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(s===O.serverSideStep&&dt),onClick:gt(a,O.serverSideStep),children:[t.jsx(ue,{className:$n,fontSize:"2rem",icon:"serverInfographic"}),t.jsx(ht,{children:"Server Side Integration"}),s===O.serverSideStep&&t.jsx(ue,{icon:"check",intent:"primary"})]})]})},Wy=o=>o.map(a=>{const{description:s,name:m}=a;return{value:m,name:s}}),qy=(o,a,s,m,g)=>()=>{const x=g().scopes??o.join(",");if((x||s)&&a){const y=a.filter(I=>{var P,U;const E=I.name&&x.includes(I.name),A=s&&((P=I.description)==null?void 0:P.toLowerCase().includes(s.toLowerCase())),j=!((U=I.name)!=null&&U.includes("payment"));return(E||A)&&j}),b=[...new Set([...y.map(I=>JSON.stringify(I))])].map(I=>JSON.parse(I)),S=Wy(b);m(S)}},By=o=>()=>{o(a=>({...a,lastStep:!0}))},Ba=({register:o,getValues:a,errors:s})=>{var L,N;const{appWizardState:m,setAppWizardState:g}=we(),{connectSession:x}=Cn(K),[y,b]=_n({reapitConnectBrowserSession:K,action:fn[gn.getAppPermissions],fetchWhenTrue:[x]}),[S,I]=V.useState(""),[E,A]=V.useState([]),j=V.useCallback(j0(R=>I(R.target.value),500),[500]),{currentStep:P}=m,U=(P&&M0[P].permissions)??[];return V.useEffect(qy(U,y,S,A,a),[y,S]),V.useEffect(By(g),[]),t.jsx(pu,{children:b?t.jsx(pn,{}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{className:b0,onChange:j,icon:"searchSystem",placeholder:"Search permissions to get started"}),t.jsx(ki,{id:"select-permissions",defaultValues:U,noneSelectedLabel:E.length?"Options will appear below when you search":"Please select options from below",...o("scopes"),options:E}),((L=s==null?void 0:s.scopes)==null?void 0:L.message)&&t.jsx(Pe,{message:(N=s==null?void 0:s.scopes)==null?void 0:N.message})]})})},Vy=({register:o,errors:a,getValues:s})=>{const{appWizardState:m}=we(),{currentStep:g}=m;return t.jsxs(be,{className:ee(w0,ze),isFlexColumn:!0,children:[g===O.applicationTypeStep&&t.jsx(Fy,{}),g===O.agencyCloudStep&&t.jsx(go,{register:o,errors:a}),g===O.externalAppStep&&t.jsx(bu,{}),g===O.dataFeedStep&&t.jsx(Ba,{register:o,getValues:s,errors:a}),g===O.websiteFeedStep&&t.jsx(Ba,{register:o,getValues:s,errors:a}),g===O.webServicesStep&&t.jsx(bu,{}),g===O.reapitConnectStep&&t.jsx(go,{register:o,errors:a}),g===O.serverSideStep&&t.jsx(Ba,{register:o,getValues:s,errors:a}),g===O.clientSideStep&&t.jsx(go,{register:o,errors:a}),g===O.permissionsStep&&t.jsx(Ba,{register:o,getValues:s,errors:a})]})};var Va={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/Va.exports,function(o,a){(function(){var s,m="4.17.21",g=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",b="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",I=500,E="__lodash_placeholder__",A=1,j=2,P=4,U=1,L=2,N=1,R=2,W=4,G=8,q=16,Q=32,X=64,H=128,me=256,ie=512,Se=30,_e="...",Oe=800,kn=16,an=1,sn=2,Ge=3,on=1/0,ln=9007199254740991,Qt=17976931348623157e292,Qe=NaN,Ye=4294967295,vr=Ye-1,nt=Ye>>>1,Xt=[["ary",H],["bind",N],["bindKey",R],["curry",G],["curryRight",q],["flip",ie],["partial",Q],["partialRight",X],["rearg",me]],qn="[object Arguments]",Et="[object Array]",Jt="[object AsyncFunction]",tt="[object Boolean]",Bn="[object Date]",jr="[object DOMException]",rt="[object Error]",mn="[object Function]",Pt="[object GeneratorFunction]",yn="[object Map]",Rt="[object Number]",Mi="[object Null]",Rn="[object Object]",ei="[object Promise]",Di="[object Proxy]",Nt="[object RegExp]",xn="[object Set]",Mt="[object String]",er="[object Symbol]",Ui="[object Undefined]",Dt="[object WeakMap]",Li="[object WeakSet]",Ut="[object ArrayBuffer]",mt="[object DataView]",br="[object Float32Array]",wr="[object Float64Array]",Cr="[object Int8Array]",_r="[object Int16Array]",kr="[object Int32Array]",Sr="[object Uint8Array]",Ir="[object Uint8ClampedArray]",Ar="[object Uint16Array]",Tr="[object Uint32Array]",zi=/\b__p \+= '';/g,Fi=/\b(__p \+=) '' \+/g,Oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,ti=/[&<>"']/g,Wi=RegExp(ni.source),qi=RegExp(ti.source),Bi=/<%-([\s\S]+?)%>/g,Vi=/<%([\s\S]+?)%>/g,ri=/<%=([\s\S]+?)%>/g,Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yi=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ii=/[\\^$.*+?()[\]{}|]/g,Za=RegExp(ii.source),$a=/^\s+/,Zu=/\s/,$u=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ku=/\{\n\/\* \[wrapped with (.+)\] \*/,Qu=/,? & /,Xu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ju=/[()=,{}\[\]\/\s]/,ed=/\\(\\)?/g,nd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_o=/\w*$/,td=/^[-+]0x[0-9a-f]+$/i,rd=/^0b[01]+$/i,id=/^\[object .+?Constructor\]$/,ad=/^0o[0-7]+$/i,sd=/^(?:0|[1-9]\d*)$/,od=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hi=/($^)/,ld=/['\n\r\u2028\u2029\\]/g,Zi="\\ud800-\\udfff",cd="\\u0300-\\u036f",ud="\\ufe20-\\ufe2f",dd="\\u20d0-\\u20ff",ko=cd+ud+dd,So="\\u2700-\\u27bf",Io="a-z\\xdf-\\xf6\\xf8-\\xff",pd="\\xac\\xb1\\xd7\\xf7",hd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fd="\\u2000-\\u206f",gd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ao="A-Z\\xc0-\\xd6\\xd8-\\xde",To="\\ufe0e\\ufe0f",Eo=pd+hd+fd+gd,Ka="['\u2019]",md="["+Zi+"]",Po="["+Eo+"]",$i="["+ko+"]",Ro="\\d+",yd="["+So+"]",No="["+Io+"]",Mo="[^"+Zi+Eo+Ro+So+Io+Ao+"]",Qa="\\ud83c[\\udffb-\\udfff]",xd="(?:"+$i+"|"+Qa+")",Do="[^"+Zi+"]",Xa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ja="[\\ud800-\\udbff][\\udc00-\\udfff]",Er="["+Ao+"]",Uo="\\u200d",Lo="(?:"+No+"|"+Mo+")",vd="(?:"+Er+"|"+Mo+")",zo="(?:"+Ka+"(?:d|ll|m|re|s|t|ve))?",Fo="(?:"+Ka+"(?:D|LL|M|RE|S|T|VE))?",Oo=xd+"?",Wo="["+To+"]?",jd="(?:"+Uo+"(?:"+[Do,Xa,Ja].join("|")+")"+Wo+Oo+")*",bd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qo=Wo+Oo+jd,Cd="(?:"+[yd,Xa,Ja].join("|")+")"+qo,_d="(?:"+[Do+$i+"?",$i,Xa,Ja,md].join("|")+")",kd=RegExp(Ka,"g"),Sd=RegExp($i,"g"),es=RegExp(Qa+"(?="+Qa+")|"+_d+qo,"g"),Id=RegExp([Er+"?"+No+"+"+zo+"(?="+[Po,Er,"$"].join("|")+")",vd+"+"+Fo+"(?="+[Po,Er+Lo,"$"].join("|")+")",Er+"?"+Lo+"+"+zo,Er+"+"+Fo,wd,bd,Ro,Cd].join("|"),"g"),Ad=RegExp("["+Uo+Zi+ko+To+"]"),Td=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ed=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pd=-1,Ie={};Ie[br]=Ie[wr]=Ie[Cr]=Ie[_r]=Ie[kr]=Ie[Sr]=Ie[Ir]=Ie[Ar]=Ie[Tr]=!0,Ie[qn]=Ie[Et]=Ie[Ut]=Ie[tt]=Ie[mt]=Ie[Bn]=Ie[rt]=Ie[mn]=Ie[yn]=Ie[Rt]=Ie[Rn]=Ie[Nt]=Ie[xn]=Ie[Mt]=Ie[Dt]=!1;var ke={};ke[qn]=ke[Et]=ke[Ut]=ke[mt]=ke[tt]=ke[Bn]=ke[br]=ke[wr]=ke[Cr]=ke[_r]=ke[kr]=ke[yn]=ke[Rt]=ke[Rn]=ke[Nt]=ke[xn]=ke[Mt]=ke[er]=ke[Sr]=ke[Ir]=ke[Ar]=ke[Tr]=!0,ke[rt]=ke[mn]=ke[Dt]=!1;var Rd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Nd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Md={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ud=parseFloat,Ld=parseInt,Bo=typeof Si=="object"&&Si&&Si.Object===Object&&Si,zd=typeof self=="object"&&self&&self.Object===Object&&self,Ze=Bo||zd||Function("return this")(),ns=a&&!a.nodeType&&a,nr=ns&&!0&&o&&!o.nodeType&&o,Vo=nr&&nr.exports===ns,ts=Vo&&Bo.process,Nn=function(){try{var h=nr&&nr.require&&nr.require("util").types;return h||ts&&ts.binding&&ts.binding("util")}catch{}}(),Go=Nn&&Nn.isArrayBuffer,Yo=Nn&&Nn.isDate,Ho=Nn&&Nn.isMap,Zo=Nn&&Nn.isRegExp,$o=Nn&&Nn.isSet,Ko=Nn&&Nn.isTypedArray;function Sn(h,C,v){switch(v.length){case 0:return h.call(C);case 1:return h.call(C,v[0]);case 2:return h.call(C,v[0],v[1]);case 3:return h.call(C,v[0],v[1],v[2])}return h.apply(C,v)}function Fd(h,C,v,F){for(var J=-1,ye=h==null?0:h.length;++J<ye;){var We=h[J];C(F,We,v(We),h)}return F}function Mn(h,C){for(var v=-1,F=h==null?0:h.length;++v<F&&C(h[v],v,h)!==!1;);return h}function Od(h,C){for(var v=h==null?0:h.length;v--&&C(h[v],v,h)!==!1;);return h}function Qo(h,C){for(var v=-1,F=h==null?0:h.length;++v<F;)if(!C(h[v],v,h))return!1;return!0}function zt(h,C){for(var v=-1,F=h==null?0:h.length,J=0,ye=[];++v<F;){var We=h[v];C(We,v,h)&&(ye[J++]=We)}return ye}function Ki(h,C){var v=h==null?0:h.length;return!!v&&Pr(h,C,0)>-1}function rs(h,C,v){for(var F=-1,J=h==null?0:h.length;++F<J;)if(v(C,h[F]))return!0;return!1}function Ae(h,C){for(var v=-1,F=h==null?0:h.length,J=Array(F);++v<F;)J[v]=C(h[v],v,h);return J}function Ft(h,C){for(var v=-1,F=C.length,J=h.length;++v<F;)h[J+v]=C[v];return h}function is(h,C,v,F){var J=-1,ye=h==null?0:h.length;for(F&&ye&&(v=h[++J]);++J<ye;)v=C(v,h[J],J,h);return v}function Wd(h,C,v,F){var J=h==null?0:h.length;for(F&&J&&(v=h[--J]);J--;)v=C(v,h[J],J,h);return v}function as(h,C){for(var v=-1,F=h==null?0:h.length;++v<F;)if(C(h[v],v,h))return!0;return!1}var qd=ss("length");function Bd(h){return h.split("")}function Vd(h){return h.match(Xu)||[]}function Xo(h,C,v){var F;return v(h,function(J,ye,We){if(C(J,ye,We))return F=ye,!1}),F}function Qi(h,C,v,F){for(var J=h.length,ye=v+(F?1:-1);F?ye--:++ye<J;)if(C(h[ye],ye,h))return ye;return-1}function Pr(h,C,v){return C===C?tp(h,C,v):Qi(h,Jo,v)}function Gd(h,C,v,F){for(var J=v-1,ye=h.length;++J<ye;)if(F(h[J],C))return J;return-1}function Jo(h){return h!==h}function el(h,C){var v=h==null?0:h.length;return v?ls(h,C)/v:Qe}function ss(h){return function(C){return C==null?s:C[h]}}function os(h){return function(C){return h==null?s:h[C]}}function nl(h,C,v,F,J){return J(h,function(ye,We,Ce){v=F?(F=!1,ye):C(v,ye,We,Ce)}),v}function Yd(h,C){var v=h.length;for(h.sort(C);v--;)h[v]=h[v].value;return h}function ls(h,C){for(var v,F=-1,J=h.length;++F<J;){var ye=C(h[F]);ye!==s&&(v=v===s?ye:v+ye)}return v}function cs(h,C){for(var v=-1,F=Array(h);++v<h;)F[v]=C(v);return F}function Hd(h,C){return Ae(C,function(v){return[v,h[v]]})}function tl(h){return h&&h.slice(0,sl(h)+1).replace($a,"")}function In(h){return function(C){return h(C)}}function us(h,C){return Ae(C,function(v){return h[v]})}function ai(h,C){return h.has(C)}function rl(h,C){for(var v=-1,F=h.length;++v<F&&Pr(C,h[v],0)>-1;);return v}function il(h,C){for(var v=h.length;v--&&Pr(C,h[v],0)>-1;);return v}function Zd(h,C){for(var v=h.length,F=0;v--;)h[v]===C&&++F;return F}var $d=os(Rd),Kd=os(Nd);function Qd(h){return"\\"+Dd[h]}function Xd(h,C){return h==null?s:h[C]}function Rr(h){return Ad.test(h)}function Jd(h){return Td.test(h)}function ep(h){for(var C,v=[];!(C=h.next()).done;)v.push(C.value);return v}function ds(h){var C=-1,v=Array(h.size);return h.forEach(function(F,J){v[++C]=[J,F]}),v}function al(h,C){return function(v){return h(C(v))}}function Ot(h,C){for(var v=-1,F=h.length,J=0,ye=[];++v<F;){var We=h[v];(We===C||We===E)&&(h[v]=E,ye[J++]=v)}return ye}function Xi(h){var C=-1,v=Array(h.size);return h.forEach(function(F){v[++C]=F}),v}function np(h){var C=-1,v=Array(h.size);return h.forEach(function(F){v[++C]=[F,F]}),v}function tp(h,C,v){for(var F=v-1,J=h.length;++F<J;)if(h[F]===C)return F;return-1}function rp(h,C,v){for(var F=v+1;F--;)if(h[F]===C)return F;return F}function Nr(h){return Rr(h)?ap(h):qd(h)}function Vn(h){return Rr(h)?sp(h):Bd(h)}function sl(h){for(var C=h.length;C--&&Zu.test(h.charAt(C)););return C}var ip=os(Md);function ap(h){for(var C=es.lastIndex=0;es.test(h);)++C;return C}function sp(h){return h.match(es)||[]}function op(h){return h.match(Id)||[]}var lp=function h(C){C=C==null?Ze:Mr.defaults(Ze.Object(),C,Mr.pick(Ze,Ed));var v=C.Array,F=C.Date,J=C.Error,ye=C.Function,We=C.Math,Ce=C.Object,ps=C.RegExp,cp=C.String,Dn=C.TypeError,Ji=v.prototype,up=ye.prototype,Dr=Ce.prototype,ea=C["__core-js_shared__"],na=up.toString,je=Dr.hasOwnProperty,dp=0,ol=function(){var e=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ta=Dr.toString,pp=na.call(Ce),hp=Ze._,fp=ps("^"+na.call(je).replace(ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ra=Vo?C.Buffer:s,Wt=C.Symbol,ia=C.Uint8Array,ll=ra?ra.allocUnsafe:s,aa=al(Ce.getPrototypeOf,Ce),cl=Ce.create,ul=Dr.propertyIsEnumerable,sa=Ji.splice,dl=Wt?Wt.isConcatSpreadable:s,si=Wt?Wt.iterator:s,tr=Wt?Wt.toStringTag:s,oa=function(){try{var e=or(Ce,"defineProperty");return e({},"",{}),e}catch{}}(),gp=C.clearTimeout!==Ze.clearTimeout&&C.clearTimeout,mp=F&&F.now!==Ze.Date.now&&F.now,yp=C.setTimeout!==Ze.setTimeout&&C.setTimeout,la=We.ceil,ca=We.floor,hs=Ce.getOwnPropertySymbols,xp=ra?ra.isBuffer:s,pl=C.isFinite,vp=Ji.join,jp=al(Ce.keys,Ce),qe=We.max,Xe=We.min,bp=F.now,wp=C.parseInt,hl=We.random,Cp=Ji.reverse,fs=or(C,"DataView"),oi=or(C,"Map"),gs=or(C,"Promise"),Ur=or(C,"Set"),li=or(C,"WeakMap"),ci=or(Ce,"create"),ua=li&&new li,Lr={},_p=lr(fs),kp=lr(oi),Sp=lr(gs),Ip=lr(Ur),Ap=lr(li),da=Wt?Wt.prototype:s,ui=da?da.valueOf:s,fl=da?da.toString:s;function c(e){if(Ee(e)&&!te(e)&&!(e instanceof fe)){if(e instanceof Un)return e;if(je.call(e,"__wrapped__"))return gc(e)}return new Un(e)}var zr=function(){function e(){}return function(n){if(!Te(n))return{};if(cl)return cl(n);e.prototype=n;var r=new e;return e.prototype=s,r}}();function pa(){}function Un(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=s}c.templateSettings={escape:Bi,evaluate:Vi,interpolate:ri,variable:"",imports:{_:c}},c.prototype=pa.prototype,c.prototype.constructor=c,Un.prototype=zr(pa.prototype),Un.prototype.constructor=Un;function fe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ye,this.__views__=[]}function Tp(){var e=new fe(this.__wrapped__);return e.__actions__=vn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vn(this.__views__),e}function Ep(){if(this.__filtered__){var e=new fe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Pp(){var e=this.__wrapped__.value(),n=this.__dir__,r=te(e),i=n<0,l=r?e.length:0,u=Bh(0,l,this.__views__),d=u.start,p=u.end,f=p-d,_=i?p:d-1,k=this.__iteratees__,T=k.length,D=0,B=Xe(f,this.__takeCount__);if(!r||!i&&l==f&&B==f)return zl(e,this.__actions__);var Z=[];e:for(;f--&&D<B;){_+=n;for(var se=-1,$=e[_];++se<T;){var he=k[se],ge=he.iteratee,En=he.type,dn=ge($);if(En==sn)$=dn;else if(!dn){if(En==an)continue e;break e}}Z[D++]=$}return Z}fe.prototype=zr(pa.prototype),fe.prototype.constructor=fe;function rr(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Rp(){this.__data__=ci?ci(null):{},this.size=0}function Np(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Mp(e){var n=this.__data__;if(ci){var r=n[e];return r===S?s:r}return je.call(n,e)?n[e]:s}function Dp(e){var n=this.__data__;return ci?n[e]!==s:je.call(n,e)}function Up(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ci&&n===s?S:n,this}rr.prototype.clear=Rp,rr.prototype.delete=Np,rr.prototype.get=Mp,rr.prototype.has=Dp,rr.prototype.set=Up;function yt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Lp(){this.__data__=[],this.size=0}function zp(e){var n=this.__data__,r=ha(n,e);if(r<0)return!1;var i=n.length-1;return r==i?n.pop():sa.call(n,r,1),--this.size,!0}function Fp(e){var n=this.__data__,r=ha(n,e);return r<0?s:n[r][1]}function Op(e){return ha(this.__data__,e)>-1}function Wp(e,n){var r=this.__data__,i=ha(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}yt.prototype.clear=Lp,yt.prototype.delete=zp,yt.prototype.get=Fp,yt.prototype.has=Op,yt.prototype.set=Wp;function xt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function qp(){this.size=0,this.__data__={hash:new rr,map:new(oi||yt),string:new rr}}function Bp(e){var n=ka(this,e).delete(e);return this.size-=n?1:0,n}function Vp(e){return ka(this,e).get(e)}function Gp(e){return ka(this,e).has(e)}function Yp(e,n){var r=ka(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}xt.prototype.clear=qp,xt.prototype.delete=Bp,xt.prototype.get=Vp,xt.prototype.has=Gp,xt.prototype.set=Yp;function ir(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new xt;++n<r;)this.add(e[n])}function Hp(e){return this.__data__.set(e,S),this}function Zp(e){return this.__data__.has(e)}ir.prototype.add=ir.prototype.push=Hp,ir.prototype.has=Zp;function Gn(e){var n=this.__data__=new yt(e);this.size=n.size}function $p(){this.__data__=new yt,this.size=0}function Kp(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}function Qp(e){return this.__data__.get(e)}function Xp(e){return this.__data__.has(e)}function Jp(e,n){var r=this.__data__;if(r instanceof yt){var i=r.__data__;if(!oi||i.length<g-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new xt(i)}return r.set(e,n),this.size=r.size,this}Gn.prototype.clear=$p,Gn.prototype.delete=Kp,Gn.prototype.get=Qp,Gn.prototype.has=Xp,Gn.prototype.set=Jp;function gl(e,n){var r=te(e),i=!r&&cr(e),l=!r&&!i&&Yt(e),u=!r&&!i&&!l&&qr(e),d=r||i||l||u,p=d?cs(e.length,cp):[],f=p.length;for(var _ in e)(n||je.call(e,_))&&!(d&&(_=="length"||l&&(_=="offset"||_=="parent")||u&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||wt(_,f)))&&p.push(_);return p}function ml(e){var n=e.length;return n?e[Ss(0,n-1)]:s}function eh(e,n){return Sa(vn(e),ar(n,0,e.length))}function nh(e){return Sa(vn(e))}function ms(e,n,r){(r!==s&&!Yn(e[n],r)||r===s&&!(n in e))&&vt(e,n,r)}function di(e,n,r){var i=e[n];(!(je.call(e,n)&&Yn(i,r))||r===s&&!(n in e))&&vt(e,n,r)}function ha(e,n){for(var r=e.length;r--;)if(Yn(e[r][0],n))return r;return-1}function th(e,n,r,i){return qt(e,function(l,u,d){n(i,l,r(l),d)}),i}function yl(e,n){return e&&at(n,He(n),e)}function rh(e,n){return e&&at(n,bn(n),e)}function vt(e,n,r){n=="__proto__"&&oa?oa(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function ys(e,n){for(var r=-1,i=n.length,l=v(i),u=e==null;++r<i;)l[r]=u?s:Qs(e,n[r]);return l}function ar(e,n,r){return e===e&&(r!==s&&(e=e<=r?e:r),n!==s&&(e=e>=n?e:n)),e}function Ln(e,n,r,i,l,u){var d,p=n&A,f=n&j,_=n&P;if(r&&(d=l?r(e,i,l,u):r(e)),d!==s)return d;if(!Te(e))return e;var k=te(e);if(k){if(d=Gh(e),!p)return vn(e,d)}else{var T=Je(e),D=T==mn||T==Pt;if(Yt(e))return Wl(e,p);if(T==Rn||T==qn||D&&!l){if(d=f||D?{}:sc(e),!p)return f?Mh(e,rh(d,e)):Nh(e,yl(d,e))}else{if(!ke[T])return l?e:{};d=Yh(e,T,p)}}u||(u=new Gn);var B=u.get(e);if(B)return B;u.set(e,d),Dc(e)?e.forEach(function($){d.add(Ln($,n,r,$,e,u))}):Nc(e)&&e.forEach(function($,he){d.set(he,Ln($,n,r,he,e,u))});var Z=_?f?Ls:Us:f?bn:He,se=k?s:Z(e);return Mn(se||e,function($,he){se&&(he=$,$=e[he]),di(d,he,Ln($,n,r,he,e,u))}),d}function ih(e){var n=He(e);return function(r){return xl(r,e,n)}}function xl(e,n,r){var i=r.length;if(e==null)return!i;for(e=Ce(e);i--;){var l=r[i],u=n[l],d=e[l];if(d===s&&!(l in e)||!u(d))return!1}return!0}function vl(e,n,r){if(typeof e!="function")throw new Dn(y);return xi(function(){e.apply(s,r)},n)}function pi(e,n,r,i){var l=-1,u=Ki,d=!0,p=e.length,f=[],_=n.length;if(!p)return f;r&&(n=Ae(n,In(r))),i?(u=rs,d=!1):n.length>=g&&(u=ai,d=!1,n=new ir(n));e:for(;++l<p;){var k=e[l],T=r==null?k:r(k);if(k=i||k!==0?k:0,d&&T===T){for(var D=_;D--;)if(n[D]===T)continue e;f.push(k)}else u(n,T,i)||f.push(k)}return f}var qt=Yl(it),jl=Yl(vs,!0);function ah(e,n){var r=!0;return qt(e,function(i,l,u){return r=!!n(i,l,u),r}),r}function fa(e,n,r){for(var i=-1,l=e.length;++i<l;){var u=e[i],d=n(u);if(d!=null&&(p===s?d===d&&!Tn(d):r(d,p)))var p=d,f=u}return f}function sh(e,n,r,i){var l=e.length;for(r=ae(r),r<0&&(r=-r>l?0:l+r),i=i===s||i>l?l:ae(i),i<0&&(i+=l),i=r>i?0:Lc(i);r<i;)e[r++]=n;return e}function bl(e,n){var r=[];return qt(e,function(i,l,u){n(i,l,u)&&r.push(i)}),r}function $e(e,n,r,i,l){var u=-1,d=e.length;for(r||(r=Zh),l||(l=[]);++u<d;){var p=e[u];n>0&&r(p)?n>1?$e(p,n-1,r,i,l):Ft(l,p):i||(l[l.length]=p)}return l}var xs=Hl(),wl=Hl(!0);function it(e,n){return e&&xs(e,n,He)}function vs(e,n){return e&&wl(e,n,He)}function ga(e,n){return zt(n,function(r){return Ct(e[r])})}function sr(e,n){n=Vt(n,e);for(var r=0,i=n.length;e!=null&&r<i;)e=e[st(n[r++])];return r&&r==i?e:s}function Cl(e,n,r){var i=n(e);return te(e)?i:Ft(i,r(e))}function cn(e){return e==null?e===s?Ui:Mi:tr&&tr in Ce(e)?qh(e):n1(e)}function js(e,n){return e>n}function oh(e,n){return e!=null&&je.call(e,n)}function lh(e,n){return e!=null&&n in Ce(e)}function ch(e,n,r){return e>=Xe(n,r)&&e<qe(n,r)}function bs(e,n,r){for(var i=r?rs:Ki,l=e[0].length,u=e.length,d=u,p=v(u),f=1/0,_=[];d--;){var k=e[d];d&&n&&(k=Ae(k,In(n))),f=Xe(k.length,f),p[d]=!r&&(n||l>=120&&k.length>=120)?new ir(d&&k):s}k=e[0];var T=-1,D=p[0];e:for(;++T<l&&_.length<f;){var B=k[T],Z=n?n(B):B;if(B=r||B!==0?B:0,!(D?ai(D,Z):i(_,Z,r))){for(d=u;--d;){var se=p[d];if(!(se?ai(se,Z):i(e[d],Z,r)))continue e}D&&D.push(Z),_.push(B)}}return _}function uh(e,n,r,i){return it(e,function(l,u,d){n(i,r(l),u,d)}),i}function hi(e,n,r){n=Vt(n,e),e=uc(e,n);var i=e==null?e:e[st(Fn(n))];return i==null?s:Sn(i,e,r)}function _l(e){return Ee(e)&&cn(e)==qn}function dh(e){return Ee(e)&&cn(e)==Ut}function ph(e){return Ee(e)&&cn(e)==Bn}function fi(e,n,r,i,l){return e===n?!0:e==null||n==null||!Ee(e)&&!Ee(n)?e!==e&&n!==n:hh(e,n,r,i,fi,l)}function hh(e,n,r,i,l,u){var d=te(e),p=te(n),f=d?Et:Je(e),_=p?Et:Je(n);f=f==qn?Rn:f,_=_==qn?Rn:_;var k=f==Rn,T=_==Rn,D=f==_;if(D&&Yt(e)){if(!Yt(n))return!1;d=!0,k=!1}if(D&&!k)return u||(u=new Gn),d||qr(e)?rc(e,n,r,i,l,u):Oh(e,n,f,r,i,l,u);if(!(r&U)){var B=k&&je.call(e,"__wrapped__"),Z=T&&je.call(n,"__wrapped__");if(B||Z){var se=B?e.value():e,$=Z?n.value():n;return u||(u=new Gn),l(se,$,r,i,u)}}return D?(u||(u=new Gn),Wh(e,n,r,i,l,u)):!1}function fh(e){return Ee(e)&&Je(e)==yn}function ws(e,n,r,i){var l=r.length,u=l,d=!i;if(e==null)return!u;for(e=Ce(e);l--;){var p=r[l];if(d&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<u;){p=r[l];var f=p[0],_=e[f],k=p[1];if(d&&p[2]){if(_===s&&!(f in e))return!1}else{var T=new Gn;if(i)var D=i(_,k,f,e,n,T);if(!(D===s?fi(k,_,U|L,i,T):D))return!1}}return!0}function kl(e){if(!Te(e)||Kh(e))return!1;var n=Ct(e)?fp:id;return n.test(lr(e))}function gh(e){return Ee(e)&&cn(e)==Nt}function mh(e){return Ee(e)&&Je(e)==xn}function yh(e){return Ee(e)&&Ra(e.length)&&!!Ie[cn(e)]}function Sl(e){return typeof e=="function"?e:e==null?wn:typeof e=="object"?te(e)?Tl(e[0],e[1]):Al(e):Zc(e)}function Cs(e){if(!yi(e))return jp(e);var n=[];for(var r in Ce(e))je.call(e,r)&&r!="constructor"&&n.push(r);return n}function xh(e){if(!Te(e))return e1(e);var n=yi(e),r=[];for(var i in e)i=="constructor"&&(n||!je.call(e,i))||r.push(i);return r}function _s(e,n){return e<n}function Il(e,n){var r=-1,i=jn(e)?v(e.length):[];return qt(e,function(l,u,d){i[++r]=n(l,u,d)}),i}function Al(e){var n=Fs(e);return n.length==1&&n[0][2]?lc(n[0][0],n[0][1]):function(r){return r===e||ws(r,e,n)}}function Tl(e,n){return Ws(e)&&oc(n)?lc(st(e),n):function(r){var i=Qs(r,e);return i===s&&i===n?Xs(r,e):fi(n,i,U|L)}}function ma(e,n,r,i,l){e!==n&&xs(n,function(u,d){if(l||(l=new Gn),Te(u))vh(e,n,d,r,ma,i,l);else{var p=i?i(Bs(e,d),u,d+"",e,n,l):s;p===s&&(p=u),ms(e,d,p)}},bn)}function vh(e,n,r,i,l,u,d){var p=Bs(e,r),f=Bs(n,r),_=d.get(f);if(_){ms(e,r,_);return}var k=u?u(p,f,r+"",e,n,d):s,T=k===s;if(T){var D=te(f),B=!D&&Yt(f),Z=!D&&!B&&qr(f);k=f,D||B||Z?te(p)?k=p:Me(p)?k=vn(p):B?(T=!1,k=Wl(f,!0)):Z?(T=!1,k=ql(f,!0)):k=[]:vi(f)||cr(f)?(k=p,cr(p)?k=zc(p):(!Te(p)||Ct(p))&&(k=sc(f))):T=!1}T&&(d.set(f,k),l(k,f,i,u,d),d.delete(f)),ms(e,r,k)}function El(e,n){var r=e.length;if(r)return n+=n<0?r:0,wt(n,r)?e[n]:s}function Pl(e,n,r){n.length?n=Ae(n,function(u){return te(u)?function(d){return sr(d,u.length===1?u[0]:u)}:u}):n=[wn];var i=-1;n=Ae(n,In(Y()));var l=Il(e,function(u,d,p){var f=Ae(n,function(_){return _(u)});return{criteria:f,index:++i,value:u}});return Yd(l,function(u,d){return Rh(u,d,r)})}function jh(e,n){return Rl(e,n,function(r,i){return Xs(e,i)})}function Rl(e,n,r){for(var i=-1,l=n.length,u={};++i<l;){var d=n[i],p=sr(e,d);r(p,d)&&gi(u,Vt(d,e),p)}return u}function bh(e){return function(n){return sr(n,e)}}function ks(e,n,r,i){var l=i?Gd:Pr,u=-1,d=n.length,p=e;for(e===n&&(n=vn(n)),r&&(p=Ae(e,In(r)));++u<d;)for(var f=0,_=n[u],k=r?r(_):_;(f=l(p,k,f,i))>-1;)p!==e&&sa.call(p,f,1),sa.call(e,f,1);return e}function Nl(e,n){for(var r=e?n.length:0,i=r-1;r--;){var l=n[r];if(r==i||l!==u){var u=l;wt(l)?sa.call(e,l,1):Ts(e,l)}}return e}function Ss(e,n){return e+ca(hl()*(n-e+1))}function wh(e,n,r,i){for(var l=-1,u=qe(la((n-e)/(r||1)),0),d=v(u);u--;)d[i?u:++l]=e,e+=r;return d}function Is(e,n){var r="";if(!e||n<1||n>ln)return r;do n%2&&(r+=e),n=ca(n/2),n&&(e+=e);while(n);return r}function ce(e,n){return Vs(cc(e,n,wn),e+"")}function Ch(e){return ml(Br(e))}function _h(e,n){var r=Br(e);return Sa(r,ar(n,0,r.length))}function gi(e,n,r,i){if(!Te(e))return e;n=Vt(n,e);for(var l=-1,u=n.length,d=u-1,p=e;p!=null&&++l<u;){var f=st(n[l]),_=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(l!=d){var k=p[f];_=i?i(k,f,p):s,_===s&&(_=Te(k)?k:wt(n[l+1])?[]:{})}di(p,f,_),p=p[f]}return e}var Ml=ua?function(e,n){return ua.set(e,n),e}:wn,kh=oa?function(e,n){return oa(e,"toString",{configurable:!0,enumerable:!1,value:eo(n),writable:!0})}:wn;function Sh(e){return Sa(Br(e))}function zn(e,n,r){var i=-1,l=e.length;n<0&&(n=-n>l?0:l+n),r=r>l?l:r,r<0&&(r+=l),l=n>r?0:r-n>>>0,n>>>=0;for(var u=v(l);++i<l;)u[i]=e[i+n];return u}function Ih(e,n){var r;return qt(e,function(i,l,u){return r=n(i,l,u),!r}),!!r}function ya(e,n,r){var i=0,l=e==null?i:e.length;if(typeof n=="number"&&n===n&&l<=nt){for(;i<l;){var u=i+l>>>1,d=e[u];d!==null&&!Tn(d)&&(r?d<=n:d<n)?i=u+1:l=u}return l}return As(e,n,wn,r)}function As(e,n,r,i){var l=0,u=e==null?0:e.length;if(u===0)return 0;n=r(n);for(var d=n!==n,p=n===null,f=Tn(n),_=n===s;l<u;){var k=ca((l+u)/2),T=r(e[k]),D=T!==s,B=T===null,Z=T===T,se=Tn(T);if(d)var $=i||Z;else _?$=Z&&(i||D):p?$=Z&&D&&(i||!B):f?$=Z&&D&&!B&&(i||!se):B||se?$=!1:$=i?T<=n:T<n;$?l=k+1:u=k}return Xe(u,vr)}function Dl(e,n){for(var r=-1,i=e.length,l=0,u=[];++r<i;){var d=e[r],p=n?n(d):d;if(!r||!Yn(p,f)){var f=p;u[l++]=d===0?0:d}}return u}function Ul(e){return typeof e=="number"?e:Tn(e)?Qe:+e}function An(e){if(typeof e=="string")return e;if(te(e))return Ae(e,An)+"";if(Tn(e))return fl?fl.call(e):"";var n=e+"";return n=="0"&&1/e==-on?"-0":n}function Bt(e,n,r){var i=-1,l=Ki,u=e.length,d=!0,p=[],f=p;if(r)d=!1,l=rs;else if(u>=g){var _=n?null:zh(e);if(_)return Xi(_);d=!1,l=ai,f=new ir}else f=n?[]:p;e:for(;++i<u;){var k=e[i],T=n?n(k):k;if(k=r||k!==0?k:0,d&&T===T){for(var D=f.length;D--;)if(f[D]===T)continue e;n&&f.push(T),p.push(k)}else l(f,T,r)||(f!==p&&f.push(T),p.push(k))}return p}function Ts(e,n){return n=Vt(n,e),e=uc(e,n),e==null||delete e[st(Fn(n))]}function Ll(e,n,r,i){return gi(e,n,r(sr(e,n)),i)}function xa(e,n,r,i){for(var l=e.length,u=i?l:-1;(i?u--:++u<l)&&n(e[u],u,e););return r?zn(e,i?0:u,i?u+1:l):zn(e,i?u+1:0,i?l:u)}function zl(e,n){var r=e;return r instanceof fe&&(r=r.value()),is(n,function(i,l){return l.func.apply(l.thisArg,Ft([i],l.args))},r)}function Es(e,n,r){var i=e.length;if(i<2)return i?Bt(e[0]):[];for(var l=-1,u=v(i);++l<i;)for(var d=e[l],p=-1;++p<i;)p!=l&&(u[l]=pi(u[l]||d,e[p],n,r));return Bt($e(u,1),n,r)}function Fl(e,n,r){for(var i=-1,l=e.length,u=n.length,d={};++i<l;){var p=i<u?n[i]:s;r(d,e[i],p)}return d}function Ps(e){return Me(e)?e:[]}function Rs(e){return typeof e=="function"?e:wn}function Vt(e,n){return te(e)?e:Ws(e,n)?[e]:fc(ve(e))}var Ah=ce;function Gt(e,n,r){var i=e.length;return r=r===s?i:r,!n&&r>=i?e:zn(e,n,r)}var Ol=gp||function(e){return Ze.clearTimeout(e)};function Wl(e,n){if(n)return e.slice();var r=e.length,i=ll?ll(r):new e.constructor(r);return e.copy(i),i}function Ns(e){var n=new e.constructor(e.byteLength);return new ia(n).set(new ia(e)),n}function Th(e,n){var r=n?Ns(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Eh(e){var n=new e.constructor(e.source,_o.exec(e));return n.lastIndex=e.lastIndex,n}function Ph(e){return ui?Ce(ui.call(e)):{}}function ql(e,n){var r=n?Ns(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Bl(e,n){if(e!==n){var r=e!==s,i=e===null,l=e===e,u=Tn(e),d=n!==s,p=n===null,f=n===n,_=Tn(n);if(!p&&!_&&!u&&e>n||u&&d&&f&&!p&&!_||i&&d&&f||!r&&f||!l)return 1;if(!i&&!u&&!_&&e<n||_&&r&&l&&!i&&!u||p&&r&&l||!d&&l||!f)return-1}return 0}function Rh(e,n,r){for(var i=-1,l=e.criteria,u=n.criteria,d=l.length,p=r.length;++i<d;){var f=Bl(l[i],u[i]);if(f){if(i>=p)return f;var _=r[i];return f*(_=="desc"?-1:1)}}return e.index-n.index}function Vl(e,n,r,i){for(var l=-1,u=e.length,d=r.length,p=-1,f=n.length,_=qe(u-d,0),k=v(f+_),T=!i;++p<f;)k[p]=n[p];for(;++l<d;)(T||l<u)&&(k[r[l]]=e[l]);for(;_--;)k[p++]=e[l++];return k}function Gl(e,n,r,i){for(var l=-1,u=e.length,d=-1,p=r.length,f=-1,_=n.length,k=qe(u-p,0),T=v(k+_),D=!i;++l<k;)T[l]=e[l];for(var B=l;++f<_;)T[B+f]=n[f];for(;++d<p;)(D||l<u)&&(T[B+r[d]]=e[l++]);return T}function vn(e,n){var r=-1,i=e.length;for(n||(n=v(i));++r<i;)n[r]=e[r];return n}function at(e,n,r,i){var l=!r;r||(r={});for(var u=-1,d=n.length;++u<d;){var p=n[u],f=i?i(r[p],e[p],p,r,e):s;f===s&&(f=e[p]),l?vt(r,p,f):di(r,p,f)}return r}function Nh(e,n){return at(e,Os(e),n)}function Mh(e,n){return at(e,ic(e),n)}function va(e,n){return function(r,i){var l=te(r)?Fd:th,u=n?n():{};return l(r,e,Y(i,2),u)}}function Fr(e){return ce(function(n,r){var i=-1,l=r.length,u=l>1?r[l-1]:s,d=l>2?r[2]:s;for(u=e.length>3&&typeof u=="function"?(l--,u):s,d&&un(r[0],r[1],d)&&(u=l<3?s:u,l=1),n=Ce(n);++i<l;){var p=r[i];p&&e(n,p,i,u)}return n})}function Yl(e,n){return function(r,i){if(r==null)return r;if(!jn(r))return e(r,i);for(var l=r.length,u=n?l:-1,d=Ce(r);(n?u--:++u<l)&&i(d[u],u,d)!==!1;);return r}}function Hl(e){return function(n,r,i){for(var l=-1,u=Ce(n),d=i(n),p=d.length;p--;){var f=d[e?p:++l];if(r(u[f],f,u)===!1)break}return n}}function Dh(e,n,r){var i=n&N,l=mi(e);function u(){var d=this&&this!==Ze&&this instanceof u?l:e;return d.apply(i?r:this,arguments)}return u}function Zl(e){return function(n){n=ve(n);var r=Rr(n)?Vn(n):s,i=r?r[0]:n.charAt(0),l=r?Gt(r,1).join(""):n.slice(1);return i[e]()+l}}function Or(e){return function(n){return is(Yc(Gc(n).replace(kd,"")),e,"")}}function mi(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=zr(e.prototype),i=e.apply(r,n);return Te(i)?i:r}}function Uh(e,n,r){var i=mi(e);function l(){for(var u=arguments.length,d=v(u),p=u,f=Wr(l);p--;)d[p]=arguments[p];var _=u<3&&d[0]!==f&&d[u-1]!==f?[]:Ot(d,f);if(u-=_.length,u<r)return Jl(e,n,ja,l.placeholder,s,d,_,s,s,r-u);var k=this&&this!==Ze&&this instanceof l?i:e;return Sn(k,this,d)}return l}function $l(e){return function(n,r,i){var l=Ce(n);if(!jn(n)){var u=Y(r,3);n=He(n),r=function(p){return u(l[p],p,l)}}var d=e(n,r,i);return d>-1?l[u?n[d]:d]:s}}function Kl(e){return bt(function(n){var r=n.length,i=r,l=Un.prototype.thru;for(e&&n.reverse();i--;){var u=n[i];if(typeof u!="function")throw new Dn(y);if(l&&!d&&_a(u)=="wrapper")var d=new Un([],!0)}for(i=d?i:r;++i<r;){u=n[i];var p=_a(u),f=p=="wrapper"?zs(u):s;f&&qs(f[0])&&f[1]==(H|G|Q|me)&&!f[4].length&&f[9]==1?d=d[_a(f[0])].apply(d,f[3]):d=u.length==1&&qs(u)?d[p]():d.thru(u)}return function(){var _=arguments,k=_[0];if(d&&_.length==1&&te(k))return d.plant(k).value();for(var T=0,D=r?n[T].apply(this,_):k;++T<r;)D=n[T].call(this,D);return D}})}function ja(e,n,r,i,l,u,d,p,f,_){var k=n&H,T=n&N,D=n&R,B=n&(G|q),Z=n&ie,se=D?s:mi(e);function $(){for(var he=arguments.length,ge=v(he),En=he;En--;)ge[En]=arguments[En];if(B)var dn=Wr($),Pn=Zd(ge,dn);if(i&&(ge=Vl(ge,i,l,B)),u&&(ge=Gl(ge,u,d,B)),he-=Pn,B&&he<_){var De=Ot(ge,dn);return Jl(e,n,ja,$.placeholder,r,ge,De,p,f,_-he)}var Hn=T?r:this,kt=D?Hn[e]:e;return he=ge.length,p?ge=t1(ge,p):Z&&he>1&&ge.reverse(),k&&f<he&&(ge.length=f),this&&this!==Ze&&this instanceof $&&(kt=se||mi(kt)),kt.apply(Hn,ge)}return $}function Ql(e,n){return function(r,i){return uh(r,e,n(i),{})}}function ba(e,n){return function(r,i){var l;if(r===s&&i===s)return n;if(r!==s&&(l=r),i!==s){if(l===s)return i;typeof r=="string"||typeof i=="string"?(r=An(r),i=An(i)):(r=Ul(r),i=Ul(i)),l=e(r,i)}return l}}function Ms(e){return bt(function(n){return n=Ae(n,In(Y())),ce(function(r){var i=this;return e(n,function(l){return Sn(l,i,r)})})})}function wa(e,n){n=n===s?" ":An(n);var r=n.length;if(r<2)return r?Is(n,e):n;var i=Is(n,la(e/Nr(n)));return Rr(n)?Gt(Vn(i),0,e).join(""):i.slice(0,e)}function Lh(e,n,r,i){var l=n&N,u=mi(e);function d(){for(var p=-1,f=arguments.length,_=-1,k=i.length,T=v(k+f),D=this&&this!==Ze&&this instanceof d?u:e;++_<k;)T[_]=i[_];for(;f--;)T[_++]=arguments[++p];return Sn(D,l?r:this,T)}return d}function Xl(e){return function(n,r,i){return i&&typeof i!="number"&&un(n,r,i)&&(r=i=s),n=_t(n),r===s?(r=n,n=0):r=_t(r),i=i===s?n<r?1:-1:_t(i),wh(n,r,i,e)}}function Ca(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=On(n),r=On(r)),e(n,r)}}function Jl(e,n,r,i,l,u,d,p,f,_){var k=n&G,T=k?d:s,D=k?s:d,B=k?u:s,Z=k?s:u;n|=k?Q:X,n&=~(k?X:Q),n&W||(n&=~(N|R));var se=[e,n,l,B,T,Z,D,p,f,_],$=r.apply(s,se);return qs(e)&&dc($,se),$.placeholder=i,pc($,e,n)}function Ds(e){var n=We[e];return function(r,i){if(r=On(r),i=i==null?0:Xe(ae(i),292),i&&pl(r)){var l=(ve(r)+"e").split("e"),u=n(l[0]+"e"+(+l[1]+i));return l=(ve(u)+"e").split("e"),+(l[0]+"e"+(+l[1]-i))}return n(r)}}var zh=Ur&&1/Xi(new Ur([,-0]))[1]==on?function(e){return new Ur(e)}:ro;function ec(e){return function(n){var r=Je(n);return r==yn?ds(n):r==xn?np(n):Hd(n,e(n))}}function jt(e,n,r,i,l,u,d,p){var f=n&R;if(!f&&typeof e!="function")throw new Dn(y);var _=i?i.length:0;if(_||(n&=~(Q|X),i=l=s),d=d===s?d:qe(ae(d),0),p=p===s?p:ae(p),_-=l?l.length:0,n&X){var k=i,T=l;i=l=s}var D=f?s:zs(e),B=[e,n,r,i,l,k,T,u,d,p];if(D&&Jh(B,D),e=B[0],n=B[1],r=B[2],i=B[3],l=B[4],p=B[9]=B[9]===s?f?0:e.length:qe(B[9]-_,0),!p&&n&(G|q)&&(n&=~(G|q)),!n||n==N)var Z=Dh(e,n,r);else n==G||n==q?Z=Uh(e,n,p):(n==Q||n==(N|Q))&&!l.length?Z=Lh(e,n,r,i):Z=ja.apply(s,B);var se=D?Ml:dc;return pc(se(Z,B),e,n)}function nc(e,n,r,i){return e===s||Yn(e,Dr[r])&&!je.call(i,r)?n:e}function tc(e,n,r,i,l,u){return Te(e)&&Te(n)&&(u.set(n,e),ma(e,n,s,tc,u),u.delete(n)),e}function Fh(e){return vi(e)?s:e}function rc(e,n,r,i,l,u){var d=r&U,p=e.length,f=n.length;if(p!=f&&!(d&&f>p))return!1;var _=u.get(e),k=u.get(n);if(_&&k)return _==n&&k==e;var T=-1,D=!0,B=r&L?new ir:s;for(u.set(e,n),u.set(n,e);++T<p;){var Z=e[T],se=n[T];if(i)var $=d?i(se,Z,T,n,e,u):i(Z,se,T,e,n,u);if($!==s){if($)continue;D=!1;break}if(B){if(!as(n,function(he,ge){if(!ai(B,ge)&&(Z===he||l(Z,he,r,i,u)))return B.push(ge)})){D=!1;break}}else if(!(Z===se||l(Z,se,r,i,u))){D=!1;break}}return u.delete(e),u.delete(n),D}function Oh(e,n,r,i,l,u,d){switch(r){case mt:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ut:return!(e.byteLength!=n.byteLength||!u(new ia(e),new ia(n)));case tt:case Bn:case Rt:return Yn(+e,+n);case rt:return e.name==n.name&&e.message==n.message;case Nt:case Mt:return e==n+"";case yn:var p=ds;case xn:var f=i&U;if(p||(p=Xi),e.size!=n.size&&!f)return!1;var _=d.get(e);if(_)return _==n;i|=L,d.set(e,n);var k=rc(p(e),p(n),i,l,u,d);return d.delete(e),k;case er:if(ui)return ui.call(e)==ui.call(n)}return!1}function Wh(e,n,r,i,l,u){var d=r&U,p=Us(e),f=p.length,_=Us(n),k=_.length;if(f!=k&&!d)return!1;for(var T=f;T--;){var D=p[T];if(!(d?D in n:je.call(n,D)))return!1}var B=u.get(e),Z=u.get(n);if(B&&Z)return B==n&&Z==e;var se=!0;u.set(e,n),u.set(n,e);for(var $=d;++T<f;){D=p[T];var he=e[D],ge=n[D];if(i)var En=d?i(ge,he,D,n,e,u):i(he,ge,D,e,n,u);if(!(En===s?he===ge||l(he,ge,r,i,u):En)){se=!1;break}$||($=D=="constructor")}if(se&&!$){var dn=e.constructor,Pn=n.constructor;dn!=Pn&&"constructor"in e&&"constructor"in n&&!(typeof dn=="function"&&dn instanceof dn&&typeof Pn=="function"&&Pn instanceof Pn)&&(se=!1)}return u.delete(e),u.delete(n),se}function bt(e){return Vs(cc(e,s,xc),e+"")}function Us(e){return Cl(e,He,Os)}function Ls(e){return Cl(e,bn,ic)}var zs=ua?function(e){return ua.get(e)}:ro;function _a(e){for(var n=e.name+"",r=Lr[n],i=je.call(Lr,n)?r.length:0;i--;){var l=r[i],u=l.func;if(u==null||u==e)return l.name}return n}function Wr(e){var n=je.call(c,"placeholder")?c:e;return n.placeholder}function Y(){var e=c.iteratee||no;return e=e===no?Sl:e,arguments.length?e(arguments[0],arguments[1]):e}function ka(e,n){var r=e.__data__;return $h(n)?r[typeof n=="string"?"string":"hash"]:r.map}function Fs(e){for(var n=He(e),r=n.length;r--;){var i=n[r],l=e[i];n[r]=[i,l,oc(l)]}return n}function or(e,n){var r=Xd(e,n);return kl(r)?r:s}function qh(e){var n=je.call(e,tr),r=e[tr];try{e[tr]=s;var i=!0}catch{}var l=ta.call(e);return i&&(n?e[tr]=r:delete e[tr]),l}var Os=hs?function(e){return e==null?[]:(e=Ce(e),zt(hs(e),function(n){return ul.call(e,n)}))}:io,ic=hs?function(e){for(var n=[];e;)Ft(n,Os(e)),e=aa(e);return n}:io,Je=cn;(fs&&Je(new fs(new ArrayBuffer(1)))!=mt||oi&&Je(new oi)!=yn||gs&&Je(gs.resolve())!=ei||Ur&&Je(new Ur)!=xn||li&&Je(new li)!=Dt)&&(Je=function(e){var n=cn(e),r=n==Rn?e.constructor:s,i=r?lr(r):"";if(i)switch(i){case _p:return mt;case kp:return yn;case Sp:return ei;case Ip:return xn;case Ap:return Dt}return n});function Bh(e,n,r){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=u.size;switch(u.type){case"drop":e+=d;break;case"dropRight":n-=d;break;case"take":n=Xe(n,e+d);break;case"takeRight":e=qe(e,n-d);break}}return{start:e,end:n}}function Vh(e){var n=e.match(Ku);return n?n[1].split(Qu):[]}function ac(e,n,r){n=Vt(n,e);for(var i=-1,l=n.length,u=!1;++i<l;){var d=st(n[i]);if(!(u=e!=null&&r(e,d)))break;e=e[d]}return u||++i!=l?u:(l=e==null?0:e.length,!!l&&Ra(l)&&wt(d,l)&&(te(e)||cr(e)))}function Gh(e){var n=e.length,r=new e.constructor(n);return n&&typeof e[0]=="string"&&je.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function sc(e){return typeof e.constructor=="function"&&!yi(e)?zr(aa(e)):{}}function Yh(e,n,r){var i=e.constructor;switch(n){case Ut:return Ns(e);case tt:case Bn:return new i(+e);case mt:return Th(e,r);case br:case wr:case Cr:case _r:case kr:case Sr:case Ir:case Ar:case Tr:return ql(e,r);case yn:return new i;case Rt:case Mt:return new i(e);case Nt:return Eh(e);case xn:return new i;case er:return Ph(e)}}function Hh(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace($u,`{
/* [wrapped with `+n+`] */
`)}function Zh(e){return te(e)||cr(e)||!!(dl&&e&&e[dl])}function wt(e,n){var r=typeof e;return n=n??ln,!!n&&(r=="number"||r!="symbol"&&sd.test(e))&&e>-1&&e%1==0&&e<n}function un(e,n,r){if(!Te(r))return!1;var i=typeof n;return(i=="number"?jn(r)&&wt(n,r.length):i=="string"&&n in r)?Yn(r[n],e):!1}function Ws(e,n){if(te(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Tn(e)?!0:Yi.test(e)||!Gi.test(e)||n!=null&&e in Ce(n)}function $h(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function qs(e){var n=_a(e),r=c[n];if(typeof r!="function"||!(n in fe.prototype))return!1;if(e===r)return!0;var i=zs(r);return!!i&&e===i[0]}function Kh(e){return!!ol&&ol in e}var Qh=ea?Ct:ao;function yi(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Dr;return e===r}function oc(e){return e===e&&!Te(e)}function lc(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==s||e in Ce(r))}}function Xh(e){var n=Ea(e,function(i){return r.size===I&&r.clear(),i}),r=n.cache;return n}function Jh(e,n){var r=e[1],i=n[1],l=r|i,u=l<(N|R|H),d=i==H&&r==G||i==H&&r==me&&e[7].length<=n[8]||i==(H|me)&&n[7].length<=n[8]&&r==G;if(!(u||d))return e;i&N&&(e[2]=n[2],l|=r&N?0:W);var p=n[3];if(p){var f=e[3];e[3]=f?Vl(f,p,n[4]):p,e[4]=f?Ot(e[3],E):n[4]}return p=n[5],p&&(f=e[5],e[5]=f?Gl(f,p,n[6]):p,e[6]=f?Ot(e[5],E):n[6]),p=n[7],p&&(e[7]=p),i&H&&(e[8]=e[8]==null?n[8]:Xe(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=l,e}function e1(e){var n=[];if(e!=null)for(var r in Ce(e))n.push(r);return n}function n1(e){return ta.call(e)}function cc(e,n,r){return n=qe(n===s?e.length-1:n,0),function(){for(var i=arguments,l=-1,u=qe(i.length-n,0),d=v(u);++l<u;)d[l]=i[n+l];l=-1;for(var p=v(n+1);++l<n;)p[l]=i[l];return p[n]=r(d),Sn(e,this,p)}}function uc(e,n){return n.length<2?e:sr(e,zn(n,0,-1))}function t1(e,n){for(var r=e.length,i=Xe(n.length,r),l=vn(e);i--;){var u=n[i];e[i]=wt(u,r)?l[u]:s}return e}function Bs(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var dc=hc(Ml),xi=yp||function(e,n){return Ze.setTimeout(e,n)},Vs=hc(kh);function pc(e,n,r){var i=n+"";return Vs(e,Hh(i,r1(Vh(i),r)))}function hc(e){var n=0,r=0;return function(){var i=bp(),l=kn-(i-r);if(r=i,l>0){if(++n>=Oe)return arguments[0]}else n=0;return e.apply(s,arguments)}}function Sa(e,n){var r=-1,i=e.length,l=i-1;for(n=n===s?i:n;++r<n;){var u=Ss(r,l),d=e[u];e[u]=e[r],e[r]=d}return e.length=n,e}var fc=Xh(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Lt,function(r,i,l,u){n.push(l?u.replace(ed,"$1"):i||r)}),n});function st(e){if(typeof e=="string"||Tn(e))return e;var n=e+"";return n=="0"&&1/e==-on?"-0":n}function lr(e){if(e!=null){try{return na.call(e)}catch{}try{return e+""}catch{}}return""}function r1(e,n){return Mn(Xt,function(r){var i="_."+r[0];n&r[1]&&!Ki(e,i)&&e.push(i)}),e.sort()}function gc(e){if(e instanceof fe)return e.clone();var n=new Un(e.__wrapped__,e.__chain__);return n.__actions__=vn(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function i1(e,n,r){(r?un(e,n,r):n===s)?n=1:n=qe(ae(n),0);var i=e==null?0:e.length;if(!i||n<1)return[];for(var l=0,u=0,d=v(la(i/n));l<i;)d[u++]=zn(e,l,l+=n);return d}function a1(e){for(var n=-1,r=e==null?0:e.length,i=0,l=[];++n<r;){var u=e[n];u&&(l[i++]=u)}return l}function s1(){var e=arguments.length;if(!e)return[];for(var n=v(e-1),r=arguments[0],i=e;i--;)n[i-1]=arguments[i];return Ft(te(r)?vn(r):[r],$e(n,1))}var o1=ce(function(e,n){return Me(e)?pi(e,$e(n,1,Me,!0)):[]}),l1=ce(function(e,n){var r=Fn(n);return Me(r)&&(r=s),Me(e)?pi(e,$e(n,1,Me,!0),Y(r,2)):[]}),c1=ce(function(e,n){var r=Fn(n);return Me(r)&&(r=s),Me(e)?pi(e,$e(n,1,Me,!0),s,r):[]});function u1(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===s?1:ae(n),zn(e,n<0?0:n,i)):[]}function d1(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===s?1:ae(n),n=i-n,zn(e,0,n<0?0:n)):[]}function p1(e,n){return e&&e.length?xa(e,Y(n,3),!0,!0):[]}function h1(e,n){return e&&e.length?xa(e,Y(n,3),!0):[]}function f1(e,n,r,i){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&un(e,n,r)&&(r=0,i=l),sh(e,n,r,i)):[]}function mc(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=r==null?0:ae(r);return l<0&&(l=qe(i+l,0)),Qi(e,Y(n,3),l)}function yc(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=i-1;return r!==s&&(l=ae(r),l=r<0?qe(i+l,0):Xe(l,i-1)),Qi(e,Y(n,3),l,!0)}function xc(e){var n=e==null?0:e.length;return n?$e(e,1):[]}function g1(e){var n=e==null?0:e.length;return n?$e(e,on):[]}function m1(e,n){var r=e==null?0:e.length;return r?(n=n===s?1:ae(n),$e(e,n)):[]}function y1(e){for(var n=-1,r=e==null?0:e.length,i={};++n<r;){var l=e[n];i[l[0]]=l[1]}return i}function vc(e){return e&&e.length?e[0]:s}function x1(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=r==null?0:ae(r);return l<0&&(l=qe(i+l,0)),Pr(e,n,l)}function v1(e){var n=e==null?0:e.length;return n?zn(e,0,-1):[]}var j1=ce(function(e){var n=Ae(e,Ps);return n.length&&n[0]===e[0]?bs(n):[]}),b1=ce(function(e){var n=Fn(e),r=Ae(e,Ps);return n===Fn(r)?n=s:r.pop(),r.length&&r[0]===e[0]?bs(r,Y(n,2)):[]}),w1=ce(function(e){var n=Fn(e),r=Ae(e,Ps);return n=typeof n=="function"?n:s,n&&r.pop(),r.length&&r[0]===e[0]?bs(r,s,n):[]});function C1(e,n){return e==null?"":vp.call(e,n)}function Fn(e){var n=e==null?0:e.length;return n?e[n-1]:s}function _1(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=i;return r!==s&&(l=ae(r),l=l<0?qe(i+l,0):Xe(l,i-1)),n===n?rp(e,n,l):Qi(e,Jo,l,!0)}function k1(e,n){return e&&e.length?El(e,ae(n)):s}var S1=ce(jc);function jc(e,n){return e&&e.length&&n&&n.length?ks(e,n):e}function I1(e,n,r){return e&&e.length&&n&&n.length?ks(e,n,Y(r,2)):e}function A1(e,n,r){return e&&e.length&&n&&n.length?ks(e,n,s,r):e}var T1=bt(function(e,n){var r=e==null?0:e.length,i=ys(e,n);return Nl(e,Ae(n,function(l){return wt(l,r)?+l:l}).sort(Bl)),i});function E1(e,n){var r=[];if(!(e&&e.length))return r;var i=-1,l=[],u=e.length;for(n=Y(n,3);++i<u;){var d=e[i];n(d,i,e)&&(r.push(d),l.push(i))}return Nl(e,l),r}function Gs(e){return e==null?e:Cp.call(e)}function P1(e,n,r){var i=e==null?0:e.length;return i?(r&&typeof r!="number"&&un(e,n,r)?(n=0,r=i):(n=n==null?0:ae(n),r=r===s?i:ae(r)),zn(e,n,r)):[]}function R1(e,n){return ya(e,n)}function N1(e,n,r){return As(e,n,Y(r,2))}function M1(e,n){var r=e==null?0:e.length;if(r){var i=ya(e,n);if(i<r&&Yn(e[i],n))return i}return-1}function D1(e,n){return ya(e,n,!0)}function U1(e,n,r){return As(e,n,Y(r,2),!0)}function L1(e,n){var r=e==null?0:e.length;if(r){var i=ya(e,n,!0)-1;if(Yn(e[i],n))return i}return-1}function z1(e){return e&&e.length?Dl(e):[]}function F1(e,n){return e&&e.length?Dl(e,Y(n,2)):[]}function O1(e){var n=e==null?0:e.length;return n?zn(e,1,n):[]}function W1(e,n,r){return e&&e.length?(n=r||n===s?1:ae(n),zn(e,0,n<0?0:n)):[]}function q1(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===s?1:ae(n),n=i-n,zn(e,n<0?0:n,i)):[]}function B1(e,n){return e&&e.length?xa(e,Y(n,3),!1,!0):[]}function V1(e,n){return e&&e.length?xa(e,Y(n,3)):[]}var G1=ce(function(e){return Bt($e(e,1,Me,!0))}),Y1=ce(function(e){var n=Fn(e);return Me(n)&&(n=s),Bt($e(e,1,Me,!0),Y(n,2))}),H1=ce(function(e){var n=Fn(e);return n=typeof n=="function"?n:s,Bt($e(e,1,Me,!0),s,n)});function Z1(e){return e&&e.length?Bt(e):[]}function $1(e,n){return e&&e.length?Bt(e,Y(n,2)):[]}function K1(e,n){return n=typeof n=="function"?n:s,e&&e.length?Bt(e,s,n):[]}function Ys(e){if(!(e&&e.length))return[];var n=0;return e=zt(e,function(r){if(Me(r))return n=qe(r.length,n),!0}),cs(n,function(r){return Ae(e,ss(r))})}function bc(e,n){if(!(e&&e.length))return[];var r=Ys(e);return n==null?r:Ae(r,function(i){return Sn(n,s,i)})}var Q1=ce(function(e,n){return Me(e)?pi(e,n):[]}),X1=ce(function(e){return Es(zt(e,Me))}),J1=ce(function(e){var n=Fn(e);return Me(n)&&(n=s),Es(zt(e,Me),Y(n,2))}),ef=ce(function(e){var n=Fn(e);return n=typeof n=="function"?n:s,Es(zt(e,Me),s,n)}),nf=ce(Ys);function tf(e,n){return Fl(e||[],n||[],di)}function rf(e,n){return Fl(e||[],n||[],gi)}var af=ce(function(e){var n=e.length,r=n>1?e[n-1]:s;return r=typeof r=="function"?(e.pop(),r):s,bc(e,r)});function wc(e){var n=c(e);return n.__chain__=!0,n}function sf(e,n){return n(e),e}function Ia(e,n){return n(e)}var of=bt(function(e){var n=e.length,r=n?e[0]:0,i=this.__wrapped__,l=function(u){return ys(u,e)};return n>1||this.__actions__.length||!(i instanceof fe)||!wt(r)?this.thru(l):(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:Ia,args:[l],thisArg:s}),new Un(i,this.__chain__).thru(function(u){return n&&!u.length&&u.push(s),u}))});function lf(){return wc(this)}function cf(){return new Un(this.value(),this.__chain__)}function uf(){this.__values__===s&&(this.__values__=Uc(this.value()));var e=this.__index__>=this.__values__.length,n=e?s:this.__values__[this.__index__++];return{done:e,value:n}}function df(){return this}function pf(e){for(var n,r=this;r instanceof pa;){var i=gc(r);i.__index__=0,i.__values__=s,n?l.__wrapped__=i:n=i;var l=i;r=r.__wrapped__}return l.__wrapped__=e,n}function hf(){var e=this.__wrapped__;if(e instanceof fe){var n=e;return this.__actions__.length&&(n=new fe(this)),n=n.reverse(),n.__actions__.push({func:Ia,args:[Gs],thisArg:s}),new Un(n,this.__chain__)}return this.thru(Gs)}function ff(){return zl(this.__wrapped__,this.__actions__)}var gf=va(function(e,n,r){je.call(e,r)?++e[r]:vt(e,r,1)});function mf(e,n,r){var i=te(e)?Qo:ah;return r&&un(e,n,r)&&(n=s),i(e,Y(n,3))}function yf(e,n){var r=te(e)?zt:bl;return r(e,Y(n,3))}var xf=$l(mc),vf=$l(yc);function jf(e,n){return $e(Aa(e,n),1)}function bf(e,n){return $e(Aa(e,n),on)}function wf(e,n,r){return r=r===s?1:ae(r),$e(Aa(e,n),r)}function Cc(e,n){var r=te(e)?Mn:qt;return r(e,Y(n,3))}function _c(e,n){var r=te(e)?Od:jl;return r(e,Y(n,3))}var Cf=va(function(e,n,r){je.call(e,r)?e[r].push(n):vt(e,r,[n])});function _f(e,n,r,i){e=jn(e)?e:Br(e),r=r&&!i?ae(r):0;var l=e.length;return r<0&&(r=qe(l+r,0)),Na(e)?r<=l&&e.indexOf(n,r)>-1:!!l&&Pr(e,n,r)>-1}var kf=ce(function(e,n,r){var i=-1,l=typeof n=="function",u=jn(e)?v(e.length):[];return qt(e,function(d){u[++i]=l?Sn(n,d,r):hi(d,n,r)}),u}),Sf=va(function(e,n,r){vt(e,r,n)});function Aa(e,n){var r=te(e)?Ae:Il;return r(e,Y(n,3))}function If(e,n,r,i){return e==null?[]:(te(n)||(n=n==null?[]:[n]),r=i?s:r,te(r)||(r=r==null?[]:[r]),Pl(e,n,r))}var Af=va(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]});function Tf(e,n,r){var i=te(e)?is:nl,l=arguments.length<3;return i(e,Y(n,4),r,l,qt)}function Ef(e,n,r){var i=te(e)?Wd:nl,l=arguments.length<3;return i(e,Y(n,4),r,l,jl)}function Pf(e,n){var r=te(e)?zt:bl;return r(e,Pa(Y(n,3)))}function Rf(e){var n=te(e)?ml:Ch;return n(e)}function Nf(e,n,r){(r?un(e,n,r):n===s)?n=1:n=ae(n);var i=te(e)?eh:_h;return i(e,n)}function Mf(e){var n=te(e)?nh:Sh;return n(e)}function Df(e){if(e==null)return 0;if(jn(e))return Na(e)?Nr(e):e.length;var n=Je(e);return n==yn||n==xn?e.size:Cs(e).length}function Uf(e,n,r){var i=te(e)?as:Ih;return r&&un(e,n,r)&&(n=s),i(e,Y(n,3))}var Lf=ce(function(e,n){if(e==null)return[];var r=n.length;return r>1&&un(e,n[0],n[1])?n=[]:r>2&&un(n[0],n[1],n[2])&&(n=[n[0]]),Pl(e,$e(n,1),[])}),Ta=mp||function(){return Ze.Date.now()};function zf(e,n){if(typeof n!="function")throw new Dn(y);return e=ae(e),function(){if(--e<1)return n.apply(this,arguments)}}function kc(e,n,r){return n=r?s:n,n=e&&n==null?e.length:n,jt(e,H,s,s,s,s,n)}function Sc(e,n){var r;if(typeof n!="function")throw new Dn(y);return e=ae(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=s),r}}var Hs=ce(function(e,n,r){var i=N;if(r.length){var l=Ot(r,Wr(Hs));i|=Q}return jt(e,i,n,r,l)}),Ic=ce(function(e,n,r){var i=N|R;if(r.length){var l=Ot(r,Wr(Ic));i|=Q}return jt(n,i,e,r,l)});function Ac(e,n,r){n=r?s:n;var i=jt(e,G,s,s,s,s,s,n);return i.placeholder=Ac.placeholder,i}function Tc(e,n,r){n=r?s:n;var i=jt(e,q,s,s,s,s,s,n);return i.placeholder=Tc.placeholder,i}function Ec(e,n,r){var i,l,u,d,p,f,_=0,k=!1,T=!1,D=!0;if(typeof e!="function")throw new Dn(y);n=On(n)||0,Te(r)&&(k=!!r.leading,T="maxWait"in r,u=T?qe(On(r.maxWait)||0,n):u,D="trailing"in r?!!r.trailing:D);function B(De){var Hn=i,kt=l;return i=l=s,_=De,d=e.apply(kt,Hn),d}function Z(De){return _=De,p=xi(he,n),k?B(De):d}function se(De){var Hn=De-f,kt=De-_,$c=n-Hn;return T?Xe($c,u-kt):$c}function $(De){var Hn=De-f,kt=De-_;return f===s||Hn>=n||Hn<0||T&&kt>=u}function he(){var De=Ta();if($(De))return ge(De);p=xi(he,se(De))}function ge(De){return p=s,D&&i?B(De):(i=l=s,d)}function En(){p!==s&&Ol(p),_=0,i=f=l=p=s}function dn(){return p===s?d:ge(Ta())}function Pn(){var De=Ta(),Hn=$(De);if(i=arguments,l=this,f=De,Hn){if(p===s)return Z(f);if(T)return Ol(p),p=xi(he,n),B(f)}return p===s&&(p=xi(he,n)),d}return Pn.cancel=En,Pn.flush=dn,Pn}var Ff=ce(function(e,n){return vl(e,1,n)}),Of=ce(function(e,n,r){return vl(e,On(n)||0,r)});function Wf(e){return jt(e,ie)}function Ea(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Dn(y);var r=function(){var i=arguments,l=n?n.apply(this,i):i[0],u=r.cache;if(u.has(l))return u.get(l);var d=e.apply(this,i);return r.cache=u.set(l,d)||u,d};return r.cache=new(Ea.Cache||xt),r}Ea.Cache=xt;function Pa(e){if(typeof e!="function")throw new Dn(y);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function qf(e){return Sc(2,e)}var Bf=Ah(function(e,n){n=n.length==1&&te(n[0])?Ae(n[0],In(Y())):Ae($e(n,1),In(Y()));var r=n.length;return ce(function(i){for(var l=-1,u=Xe(i.length,r);++l<u;)i[l]=n[l].call(this,i[l]);return Sn(e,this,i)})}),Zs=ce(function(e,n){var r=Ot(n,Wr(Zs));return jt(e,Q,s,n,r)}),Pc=ce(function(e,n){var r=Ot(n,Wr(Pc));return jt(e,X,s,n,r)}),Vf=bt(function(e,n){return jt(e,me,s,s,s,n)});function Gf(e,n){if(typeof e!="function")throw new Dn(y);return n=n===s?n:ae(n),ce(e,n)}function Yf(e,n){if(typeof e!="function")throw new Dn(y);return n=n==null?0:qe(ae(n),0),ce(function(r){var i=r[n],l=Gt(r,0,n);return i&&Ft(l,i),Sn(e,this,l)})}function Hf(e,n,r){var i=!0,l=!0;if(typeof e!="function")throw new Dn(y);return Te(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),Ec(e,n,{leading:i,maxWait:n,trailing:l})}function Zf(e){return kc(e,1)}function $f(e,n){return Zs(Rs(n),e)}function Kf(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function Qf(e){return Ln(e,P)}function Xf(e,n){return n=typeof n=="function"?n:s,Ln(e,P,n)}function Jf(e){return Ln(e,A|P)}function eg(e,n){return n=typeof n=="function"?n:s,Ln(e,A|P,n)}function ng(e,n){return n==null||xl(e,n,He(n))}function Yn(e,n){return e===n||e!==e&&n!==n}var tg=Ca(js),rg=Ca(function(e,n){return e>=n}),cr=_l(function(){return arguments}())?_l:function(e){return Ee(e)&&je.call(e,"callee")&&!ul.call(e,"callee")},te=v.isArray,ig=Go?In(Go):dh;function jn(e){return e!=null&&Ra(e.length)&&!Ct(e)}function Me(e){return Ee(e)&&jn(e)}function ag(e){return e===!0||e===!1||Ee(e)&&cn(e)==tt}var Yt=xp||ao,sg=Yo?In(Yo):ph;function og(e){return Ee(e)&&e.nodeType===1&&!vi(e)}function lg(e){if(e==null)return!0;if(jn(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||Yt(e)||qr(e)||cr(e)))return!e.length;var n=Je(e);if(n==yn||n==xn)return!e.size;if(yi(e))return!Cs(e).length;for(var r in e)if(je.call(e,r))return!1;return!0}function cg(e,n){return fi(e,n)}function ug(e,n,r){r=typeof r=="function"?r:s;var i=r?r(e,n):s;return i===s?fi(e,n,s,r):!!i}function $s(e){if(!Ee(e))return!1;var n=cn(e);return n==rt||n==jr||typeof e.message=="string"&&typeof e.name=="string"&&!vi(e)}function dg(e){return typeof e=="number"&&pl(e)}function Ct(e){if(!Te(e))return!1;var n=cn(e);return n==mn||n==Pt||n==Jt||n==Di}function Rc(e){return typeof e=="number"&&e==ae(e)}function Ra(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ln}function Te(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Ee(e){return e!=null&&typeof e=="object"}var Nc=Ho?In(Ho):fh;function pg(e,n){return e===n||ws(e,n,Fs(n))}function hg(e,n,r){return r=typeof r=="function"?r:s,ws(e,n,Fs(n),r)}function fg(e){return Mc(e)&&e!=+e}function gg(e){if(Qh(e))throw new J(x);return kl(e)}function mg(e){return e===null}function yg(e){return e==null}function Mc(e){return typeof e=="number"||Ee(e)&&cn(e)==Rt}function vi(e){if(!Ee(e)||cn(e)!=Rn)return!1;var n=aa(e);if(n===null)return!0;var r=je.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&na.call(r)==pp}var Ks=Zo?In(Zo):gh;function xg(e){return Rc(e)&&e>=-ln&&e<=ln}var Dc=$o?In($o):mh;function Na(e){return typeof e=="string"||!te(e)&&Ee(e)&&cn(e)==Mt}function Tn(e){return typeof e=="symbol"||Ee(e)&&cn(e)==er}var qr=Ko?In(Ko):yh;function vg(e){return e===s}function jg(e){return Ee(e)&&Je(e)==Dt}function bg(e){return Ee(e)&&cn(e)==Li}var wg=Ca(_s),Cg=Ca(function(e,n){return e<=n});function Uc(e){if(!e)return[];if(jn(e))return Na(e)?Vn(e):vn(e);if(si&&e[si])return ep(e[si]());var n=Je(e),r=n==yn?ds:n==xn?Xi:Br;return r(e)}function _t(e){if(!e)return e===0?e:0;if(e=On(e),e===on||e===-on){var n=e<0?-1:1;return n*Qt}return e===e?e:0}function ae(e){var n=_t(e),r=n%1;return n===n?r?n-r:n:0}function Lc(e){return e?ar(ae(e),0,Ye):0}function On(e){if(typeof e=="number")return e;if(Tn(e))return Qe;if(Te(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Te(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=tl(e);var r=rd.test(e);return r||ad.test(e)?Ld(e.slice(2),r?2:8):td.test(e)?Qe:+e}function zc(e){return at(e,bn(e))}function _g(e){return e?ar(ae(e),-ln,ln):e===0?e:0}function ve(e){return e==null?"":An(e)}var kg=Fr(function(e,n){if(yi(n)||jn(n)){at(n,He(n),e);return}for(var r in n)je.call(n,r)&&di(e,r,n[r])}),Fc=Fr(function(e,n){at(n,bn(n),e)}),Ma=Fr(function(e,n,r,i){at(n,bn(n),e,i)}),Sg=Fr(function(e,n,r,i){at(n,He(n),e,i)}),Ig=bt(ys);function Ag(e,n){var r=zr(e);return n==null?r:yl(r,n)}var Tg=ce(function(e,n){e=Ce(e);var r=-1,i=n.length,l=i>2?n[2]:s;for(l&&un(n[0],n[1],l)&&(i=1);++r<i;)for(var u=n[r],d=bn(u),p=-1,f=d.length;++p<f;){var _=d[p],k=e[_];(k===s||Yn(k,Dr[_])&&!je.call(e,_))&&(e[_]=u[_])}return e}),Eg=ce(function(e){return e.push(s,tc),Sn(Oc,s,e)});function Pg(e,n){return Xo(e,Y(n,3),it)}function Rg(e,n){return Xo(e,Y(n,3),vs)}function Ng(e,n){return e==null?e:xs(e,Y(n,3),bn)}function Mg(e,n){return e==null?e:wl(e,Y(n,3),bn)}function Dg(e,n){return e&&it(e,Y(n,3))}function Ug(e,n){return e&&vs(e,Y(n,3))}function Lg(e){return e==null?[]:ga(e,He(e))}function zg(e){return e==null?[]:ga(e,bn(e))}function Qs(e,n,r){var i=e==null?s:sr(e,n);return i===s?r:i}function Fg(e,n){return e!=null&&ac(e,n,oh)}function Xs(e,n){return e!=null&&ac(e,n,lh)}var Og=Ql(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=ta.call(n)),e[n]=r},eo(wn)),Wg=Ql(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=ta.call(n)),je.call(e,n)?e[n].push(r):e[n]=[r]},Y),qg=ce(hi);function He(e){return jn(e)?gl(e):Cs(e)}function bn(e){return jn(e)?gl(e,!0):xh(e)}function Bg(e,n){var r={};return n=Y(n,3),it(e,function(i,l,u){vt(r,n(i,l,u),i)}),r}function Vg(e,n){var r={};return n=Y(n,3),it(e,function(i,l,u){vt(r,l,n(i,l,u))}),r}var Gg=Fr(function(e,n,r){ma(e,n,r)}),Oc=Fr(function(e,n,r,i){ma(e,n,r,i)}),Yg=bt(function(e,n){var r={};if(e==null)return r;var i=!1;n=Ae(n,function(u){return u=Vt(u,e),i||(i=u.length>1),u}),at(e,Ls(e),r),i&&(r=Ln(r,A|j|P,Fh));for(var l=n.length;l--;)Ts(r,n[l]);return r});function Hg(e,n){return Wc(e,Pa(Y(n)))}var Zg=bt(function(e,n){return e==null?{}:jh(e,n)});function Wc(e,n){if(e==null)return{};var r=Ae(Ls(e),function(i){return[i]});return n=Y(n),Rl(e,r,function(i,l){return n(i,l[0])})}function $g(e,n,r){n=Vt(n,e);var i=-1,l=n.length;for(l||(l=1,e=s);++i<l;){var u=e==null?s:e[st(n[i])];u===s&&(i=l,u=r),e=Ct(u)?u.call(e):u}return e}function Kg(e,n,r){return e==null?e:gi(e,n,r)}function Qg(e,n,r,i){return i=typeof i=="function"?i:s,e==null?e:gi(e,n,r,i)}var qc=ec(He),Bc=ec(bn);function Xg(e,n,r){var i=te(e),l=i||Yt(e)||qr(e);if(n=Y(n,4),r==null){var u=e&&e.constructor;l?r=i?new u:[]:Te(e)?r=Ct(u)?zr(aa(e)):{}:r={}}return(l?Mn:it)(e,function(d,p,f){return n(r,d,p,f)}),r}function Jg(e,n){return e==null?!0:Ts(e,n)}function em(e,n,r){return e==null?e:Ll(e,n,Rs(r))}function nm(e,n,r,i){return i=typeof i=="function"?i:s,e==null?e:Ll(e,n,Rs(r),i)}function Br(e){return e==null?[]:us(e,He(e))}function tm(e){return e==null?[]:us(e,bn(e))}function rm(e,n,r){return r===s&&(r=n,n=s),r!==s&&(r=On(r),r=r===r?r:0),n!==s&&(n=On(n),n=n===n?n:0),ar(On(e),n,r)}function im(e,n,r){return n=_t(n),r===s?(r=n,n=0):r=_t(r),e=On(e),ch(e,n,r)}function am(e,n,r){if(r&&typeof r!="boolean"&&un(e,n,r)&&(n=r=s),r===s&&(typeof n=="boolean"?(r=n,n=s):typeof e=="boolean"&&(r=e,e=s)),e===s&&n===s?(e=0,n=1):(e=_t(e),n===s?(n=e,e=0):n=_t(n)),e>n){var i=e;e=n,n=i}if(r||e%1||n%1){var l=hl();return Xe(e+l*(n-e+Ud("1e-"+((l+"").length-1))),n)}return Ss(e,n)}var sm=Or(function(e,n,r){return n=n.toLowerCase(),e+(r?Vc(n):n)});function Vc(e){return Js(ve(e).toLowerCase())}function Gc(e){return e=ve(e),e&&e.replace(od,$d).replace(Sd,"")}function om(e,n,r){e=ve(e),n=An(n);var i=e.length;r=r===s?i:ar(ae(r),0,i);var l=r;return r-=n.length,r>=0&&e.slice(r,l)==n}function lm(e){return e=ve(e),e&&qi.test(e)?e.replace(ti,Kd):e}function cm(e){return e=ve(e),e&&Za.test(e)?e.replace(ii,"\\$&"):e}var um=Or(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),dm=Or(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),pm=Zl("toLowerCase");function hm(e,n,r){e=ve(e),n=ae(n);var i=n?Nr(e):0;if(!n||i>=n)return e;var l=(n-i)/2;return wa(ca(l),r)+e+wa(la(l),r)}function fm(e,n,r){e=ve(e),n=ae(n);var i=n?Nr(e):0;return n&&i<n?e+wa(n-i,r):e}function gm(e,n,r){e=ve(e),n=ae(n);var i=n?Nr(e):0;return n&&i<n?wa(n-i,r)+e:e}function mm(e,n,r){return r||n==null?n=0:n&&(n=+n),wp(ve(e).replace($a,""),n||0)}function ym(e,n,r){return(r?un(e,n,r):n===s)?n=1:n=ae(n),Is(ve(e),n)}function xm(){var e=arguments,n=ve(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var vm=Or(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()});function jm(e,n,r){return r&&typeof r!="number"&&un(e,n,r)&&(n=r=s),r=r===s?Ye:r>>>0,r?(e=ve(e),e&&(typeof n=="string"||n!=null&&!Ks(n))&&(n=An(n),!n&&Rr(e))?Gt(Vn(e),0,r):e.split(n,r)):[]}var bm=Or(function(e,n,r){return e+(r?" ":"")+Js(n)});function wm(e,n,r){return e=ve(e),r=r==null?0:ar(ae(r),0,e.length),n=An(n),e.slice(r,r+n.length)==n}function Cm(e,n,r){var i=c.templateSettings;r&&un(e,n,r)&&(n=s),e=ve(e),n=Ma({},n,i,nc);var l=Ma({},n.imports,i.imports,nc),u=He(l),d=us(l,u),p,f,_=0,k=n.interpolate||Hi,T="__p += '",D=ps((n.escape||Hi).source+"|"+k.source+"|"+(k===ri?nd:Hi).source+"|"+(n.evaluate||Hi).source+"|$","g"),B="//# sourceURL="+(je.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pd+"]")+`
`;e.replace(D,function($,he,ge,En,dn,Pn){return ge||(ge=En),T+=e.slice(_,Pn).replace(ld,Qd),he&&(p=!0,T+=`' +
__e(`+he+`) +
'`),dn&&(f=!0,T+=`';
`+dn+`;
__p += '`),ge&&(T+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),_=Pn+$.length,$}),T+=`';
`;var Z=je.call(n,"variable")&&n.variable;if(!Z)T=`with (obj) {
`+T+`
}
`;else if(Ju.test(Z))throw new J(b);T=(f?T.replace(zi,""):T).replace(Fi,"$1").replace(Oi,"$1;"),T="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(f?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var se=Hc(function(){return ye(u,B+"return "+T).apply(s,d)});if(se.source=T,$s(se))throw se;return se}function _m(e){return ve(e).toLowerCase()}function km(e){return ve(e).toUpperCase()}function Sm(e,n,r){if(e=ve(e),e&&(r||n===s))return tl(e);if(!e||!(n=An(n)))return e;var i=Vn(e),l=Vn(n),u=rl(i,l),d=il(i,l)+1;return Gt(i,u,d).join("")}function Im(e,n,r){if(e=ve(e),e&&(r||n===s))return e.slice(0,sl(e)+1);if(!e||!(n=An(n)))return e;var i=Vn(e),l=il(i,Vn(n))+1;return Gt(i,0,l).join("")}function Am(e,n,r){if(e=ve(e),e&&(r||n===s))return e.replace($a,"");if(!e||!(n=An(n)))return e;var i=Vn(e),l=rl(i,Vn(n));return Gt(i,l).join("")}function Tm(e,n){var r=Se,i=_e;if(Te(n)){var l="separator"in n?n.separator:l;r="length"in n?ae(n.length):r,i="omission"in n?An(n.omission):i}e=ve(e);var u=e.length;if(Rr(e)){var d=Vn(e);u=d.length}if(r>=u)return e;var p=r-Nr(i);if(p<1)return i;var f=d?Gt(d,0,p).join(""):e.slice(0,p);if(l===s)return f+i;if(d&&(p+=f.length-p),Ks(l)){if(e.slice(p).search(l)){var _,k=f;for(l.global||(l=ps(l.source,ve(_o.exec(l))+"g")),l.lastIndex=0;_=l.exec(k);)var T=_.index;f=f.slice(0,T===s?p:T)}}else if(e.indexOf(An(l),p)!=p){var D=f.lastIndexOf(l);D>-1&&(f=f.slice(0,D))}return f+i}function Em(e){return e=ve(e),e&&Wi.test(e)?e.replace(ni,ip):e}var Pm=Or(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),Js=Zl("toUpperCase");function Yc(e,n,r){return e=ve(e),n=r?s:n,n===s?Jd(e)?op(e):Vd(e):e.match(n)||[]}var Hc=ce(function(e,n){try{return Sn(e,s,n)}catch(r){return $s(r)?r:new J(r)}}),Rm=bt(function(e,n){return Mn(n,function(r){r=st(r),vt(e,r,Hs(e[r],e))}),e});function Nm(e){var n=e==null?0:e.length,r=Y();return e=n?Ae(e,function(i){if(typeof i[1]!="function")throw new Dn(y);return[r(i[0]),i[1]]}):[],ce(function(i){for(var l=-1;++l<n;){var u=e[l];if(Sn(u[0],this,i))return Sn(u[1],this,i)}})}function Mm(e){return ih(Ln(e,A))}function eo(e){return function(){return e}}function Dm(e,n){return e==null||e!==e?n:e}var Um=Kl(),Lm=Kl(!0);function wn(e){return e}function no(e){return Sl(typeof e=="function"?e:Ln(e,A))}function zm(e){return Al(Ln(e,A))}function Fm(e,n){return Tl(e,Ln(n,A))}var Om=ce(function(e,n){return function(r){return hi(r,e,n)}}),Wm=ce(function(e,n){return function(r){return hi(e,r,n)}});function to(e,n,r){var i=He(n),l=ga(n,i);r==null&&!(Te(n)&&(l.length||!i.length))&&(r=n,n=e,e=this,l=ga(n,He(n)));var u=!(Te(r)&&"chain"in r)||!!r.chain,d=Ct(e);return Mn(l,function(p){var f=n[p];e[p]=f,d&&(e.prototype[p]=function(){var _=this.__chain__;if(u||_){var k=e(this.__wrapped__),T=k.__actions__=vn(this.__actions__);return T.push({func:f,args:arguments,thisArg:e}),k.__chain__=_,k}return f.apply(e,Ft([this.value()],arguments))})}),e}function qm(){return Ze._===this&&(Ze._=hp),this}function ro(){}function Bm(e){return e=ae(e),ce(function(n){return El(n,e)})}var Vm=Ms(Ae),Gm=Ms(Qo),Ym=Ms(as);function Zc(e){return Ws(e)?ss(st(e)):bh(e)}function Hm(e){return function(n){return e==null?s:sr(e,n)}}var Zm=Xl(),$m=Xl(!0);function io(){return[]}function ao(){return!1}function Km(){return{}}function Qm(){return""}function Xm(){return!0}function Jm(e,n){if(e=ae(e),e<1||e>ln)return[];var r=Ye,i=Xe(e,Ye);n=Y(n),e-=Ye;for(var l=cs(i,n);++r<e;)n(r);return l}function e0(e){return te(e)?Ae(e,st):Tn(e)?[e]:vn(fc(ve(e)))}function n0(e){var n=++dp;return ve(e)+n}var t0=ba(function(e,n){return e+n},0),r0=Ds("ceil"),i0=ba(function(e,n){return e/n},1),a0=Ds("floor");function s0(e){return e&&e.length?fa(e,wn,js):s}function o0(e,n){return e&&e.length?fa(e,Y(n,2),js):s}function l0(e){return el(e,wn)}function c0(e,n){return el(e,Y(n,2))}function u0(e){return e&&e.length?fa(e,wn,_s):s}function d0(e,n){return e&&e.length?fa(e,Y(n,2),_s):s}var p0=ba(function(e,n){return e*n},1),h0=Ds("round"),f0=ba(function(e,n){return e-n},0);function g0(e){return e&&e.length?ls(e,wn):0}function m0(e,n){return e&&e.length?ls(e,Y(n,2)):0}return c.after=zf,c.ary=kc,c.assign=kg,c.assignIn=Fc,c.assignInWith=Ma,c.assignWith=Sg,c.at=Ig,c.before=Sc,c.bind=Hs,c.bindAll=Rm,c.bindKey=Ic,c.castArray=Kf,c.chain=wc,c.chunk=i1,c.compact=a1,c.concat=s1,c.cond=Nm,c.conforms=Mm,c.constant=eo,c.countBy=gf,c.create=Ag,c.curry=Ac,c.curryRight=Tc,c.debounce=Ec,c.defaults=Tg,c.defaultsDeep=Eg,c.defer=Ff,c.delay=Of,c.difference=o1,c.differenceBy=l1,c.differenceWith=c1,c.drop=u1,c.dropRight=d1,c.dropRightWhile=p1,c.dropWhile=h1,c.fill=f1,c.filter=yf,c.flatMap=jf,c.flatMapDeep=bf,c.flatMapDepth=wf,c.flatten=xc,c.flattenDeep=g1,c.flattenDepth=m1,c.flip=Wf,c.flow=Um,c.flowRight=Lm,c.fromPairs=y1,c.functions=Lg,c.functionsIn=zg,c.groupBy=Cf,c.initial=v1,c.intersection=j1,c.intersectionBy=b1,c.intersectionWith=w1,c.invert=Og,c.invertBy=Wg,c.invokeMap=kf,c.iteratee=no,c.keyBy=Sf,c.keys=He,c.keysIn=bn,c.map=Aa,c.mapKeys=Bg,c.mapValues=Vg,c.matches=zm,c.matchesProperty=Fm,c.memoize=Ea,c.merge=Gg,c.mergeWith=Oc,c.method=Om,c.methodOf=Wm,c.mixin=to,c.negate=Pa,c.nthArg=Bm,c.omit=Yg,c.omitBy=Hg,c.once=qf,c.orderBy=If,c.over=Vm,c.overArgs=Bf,c.overEvery=Gm,c.overSome=Ym,c.partial=Zs,c.partialRight=Pc,c.partition=Af,c.pick=Zg,c.pickBy=Wc,c.property=Zc,c.propertyOf=Hm,c.pull=S1,c.pullAll=jc,c.pullAllBy=I1,c.pullAllWith=A1,c.pullAt=T1,c.range=Zm,c.rangeRight=$m,c.rearg=Vf,c.reject=Pf,c.remove=E1,c.rest=Gf,c.reverse=Gs,c.sampleSize=Nf,c.set=Kg,c.setWith=Qg,c.shuffle=Mf,c.slice=P1,c.sortBy=Lf,c.sortedUniq=z1,c.sortedUniqBy=F1,c.split=jm,c.spread=Yf,c.tail=O1,c.take=W1,c.takeRight=q1,c.takeRightWhile=B1,c.takeWhile=V1,c.tap=sf,c.throttle=Hf,c.thru=Ia,c.toArray=Uc,c.toPairs=qc,c.toPairsIn=Bc,c.toPath=e0,c.toPlainObject=zc,c.transform=Xg,c.unary=Zf,c.union=G1,c.unionBy=Y1,c.unionWith=H1,c.uniq=Z1,c.uniqBy=$1,c.uniqWith=K1,c.unset=Jg,c.unzip=Ys,c.unzipWith=bc,c.update=em,c.updateWith=nm,c.values=Br,c.valuesIn=tm,c.without=Q1,c.words=Yc,c.wrap=$f,c.xor=X1,c.xorBy=J1,c.xorWith=ef,c.zip=nf,c.zipObject=tf,c.zipObjectDeep=rf,c.zipWith=af,c.entries=qc,c.entriesIn=Bc,c.extend=Fc,c.extendWith=Ma,to(c,c),c.add=t0,c.attempt=Hc,c.camelCase=sm,c.capitalize=Vc,c.ceil=r0,c.clamp=rm,c.clone=Qf,c.cloneDeep=Jf,c.cloneDeepWith=eg,c.cloneWith=Xf,c.conformsTo=ng,c.deburr=Gc,c.defaultTo=Dm,c.divide=i0,c.endsWith=om,c.eq=Yn,c.escape=lm,c.escapeRegExp=cm,c.every=mf,c.find=xf,c.findIndex=mc,c.findKey=Pg,c.findLast=vf,c.findLastIndex=yc,c.findLastKey=Rg,c.floor=a0,c.forEach=Cc,c.forEachRight=_c,c.forIn=Ng,c.forInRight=Mg,c.forOwn=Dg,c.forOwnRight=Ug,c.get=Qs,c.gt=tg,c.gte=rg,c.has=Fg,c.hasIn=Xs,c.head=vc,c.identity=wn,c.includes=_f,c.indexOf=x1,c.inRange=im,c.invoke=qg,c.isArguments=cr,c.isArray=te,c.isArrayBuffer=ig,c.isArrayLike=jn,c.isArrayLikeObject=Me,c.isBoolean=ag,c.isBuffer=Yt,c.isDate=sg,c.isElement=og,c.isEmpty=lg,c.isEqual=cg,c.isEqualWith=ug,c.isError=$s,c.isFinite=dg,c.isFunction=Ct,c.isInteger=Rc,c.isLength=Ra,c.isMap=Nc,c.isMatch=pg,c.isMatchWith=hg,c.isNaN=fg,c.isNative=gg,c.isNil=yg,c.isNull=mg,c.isNumber=Mc,c.isObject=Te,c.isObjectLike=Ee,c.isPlainObject=vi,c.isRegExp=Ks,c.isSafeInteger=xg,c.isSet=Dc,c.isString=Na,c.isSymbol=Tn,c.isTypedArray=qr,c.isUndefined=vg,c.isWeakMap=jg,c.isWeakSet=bg,c.join=C1,c.kebabCase=um,c.last=Fn,c.lastIndexOf=_1,c.lowerCase=dm,c.lowerFirst=pm,c.lt=wg,c.lte=Cg,c.max=s0,c.maxBy=o0,c.mean=l0,c.meanBy=c0,c.min=u0,c.minBy=d0,c.stubArray=io,c.stubFalse=ao,c.stubObject=Km,c.stubString=Qm,c.stubTrue=Xm,c.multiply=p0,c.nth=k1,c.noConflict=qm,c.noop=ro,c.now=Ta,c.pad=hm,c.padEnd=fm,c.padStart=gm,c.parseInt=mm,c.random=am,c.reduce=Tf,c.reduceRight=Ef,c.repeat=ym,c.replace=xm,c.result=$g,c.round=h0,c.runInContext=h,c.sample=Rf,c.size=Df,c.snakeCase=vm,c.some=Uf,c.sortedIndex=R1,c.sortedIndexBy=N1,c.sortedIndexOf=M1,c.sortedLastIndex=D1,c.sortedLastIndexBy=U1,c.sortedLastIndexOf=L1,c.startCase=bm,c.startsWith=wm,c.subtract=f0,c.sum=g0,c.sumBy=m0,c.template=Cm,c.times=Jm,c.toFinite=_t,c.toInteger=ae,c.toLength=Lc,c.toLower=_m,c.toNumber=On,c.toSafeInteger=_g,c.toString=ve,c.toUpper=km,c.trim=Sm,c.trimEnd=Im,c.trimStart=Am,c.truncate=Tm,c.unescape=Em,c.uniqueId=n0,c.upperCase=Pm,c.upperFirst=Js,c.each=Cc,c.eachRight=_c,c.first=vc,to(c,function(){var e={};return it(c,function(n,r){je.call(c.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),c.VERSION=m,Mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),Mn(["drop","take"],function(e,n){fe.prototype[e]=function(r){r=r===s?1:qe(ae(r),0);var i=this.__filtered__&&!n?new fe(this):this.clone();return i.__filtered__?i.__takeCount__=Xe(r,i.__takeCount__):i.__views__.push({size:Xe(r,Ye),type:e+(i.__dir__<0?"Right":"")}),i},fe.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Mn(["filter","map","takeWhile"],function(e,n){var r=n+1,i=r==an||r==Ge;fe.prototype[e]=function(l){var u=this.clone();return u.__iteratees__.push({iteratee:Y(l,3),type:r}),u.__filtered__=u.__filtered__||i,u}}),Mn(["head","last"],function(e,n){var r="take"+(n?"Right":"");fe.prototype[e]=function(){return this[r](1).value()[0]}}),Mn(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");fe.prototype[e]=function(){return this.__filtered__?new fe(this):this[r](1)}}),fe.prototype.compact=function(){return this.filter(wn)},fe.prototype.find=function(e){return this.filter(e).head()},fe.prototype.findLast=function(e){return this.reverse().find(e)},fe.prototype.invokeMap=ce(function(e,n){return typeof e=="function"?new fe(this):this.map(function(r){return hi(r,e,n)})}),fe.prototype.reject=function(e){return this.filter(Pa(Y(e)))},fe.prototype.slice=function(e,n){e=ae(e);var r=this;return r.__filtered__&&(e>0||n<0)?new fe(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==s&&(n=ae(n),r=n<0?r.dropRight(-n):r.take(n-e)),r)},fe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},fe.prototype.toArray=function(){return this.take(Ye)},it(fe.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),l=c[i?"take"+(n=="last"?"Right":""):n],u=i||/^find/.test(n);l&&(c.prototype[n]=function(){var d=this.__wrapped__,p=i?[1]:arguments,f=d instanceof fe,_=p[0],k=f||te(d),T=function(he){var ge=l.apply(c,Ft([he],p));return i&&D?ge[0]:ge};k&&r&&typeof _=="function"&&_.length!=1&&(f=k=!1);var D=this.__chain__,B=!!this.__actions__.length,Z=u&&!D,se=f&&!B;if(!u&&k){d=se?d:new fe(this);var $=e.apply(d,p);return $.__actions__.push({func:Ia,args:[T],thisArg:s}),new Un($,D)}return Z&&se?e.apply(this,p):($=this.thru(T),Z?i?$.value()[0]:$.value():$)})}),Mn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ji[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var l=arguments;if(i&&!this.__chain__){var u=this.value();return n.apply(te(u)?u:[],l)}return this[r](function(d){return n.apply(te(d)?d:[],l)})}}),it(fe.prototype,function(e,n){var r=c[n];if(r){var i=r.name+"";je.call(Lr,i)||(Lr[i]=[]),Lr[i].push({name:n,func:r})}}),Lr[ja(s,R).name]=[{name:"wrapper",func:s}],fe.prototype.clone=Tp,fe.prototype.reverse=Ep,fe.prototype.value=Pp,c.prototype.at=of,c.prototype.chain=lf,c.prototype.commit=cf,c.prototype.next=uf,c.prototype.plant=pf,c.prototype.reverse=hf,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=ff,c.prototype.first=c.prototype.head,si&&(c.prototype[si]=df),c},Mr=lp();nr?((nr.exports=Mr)._=Mr,ns._=Mr):Ze._=Mr}).call(Si)}(Va,Va.exports);var Gy=Va.exports,Yy=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","slave","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],Hy=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","racial","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"];const Kt=Gy,wu=Yy,Cu=Hy;var Zy=mo;mo.generate=mo;function mo(o){var a={number:!1,words:2,alliterative:!1};o=Kt.merge(a,o||{});var s=$y(o);return{raw:s,dashed:s.join("-"),spaced:s.join(" ")}}function $y(o){var a=[];return Kt.times(o.words-1,function(){o.alliterative&&a.length?a.push(Kt.sample(_u(Cu,a[0].substring(0,1)))):a.push(Kt.sample(Cu).toLowerCase())}),o.alliterative?a.push(Kt.sample(_u(wu,a[0].substring(0,1)))):a.push(Kt.sample(wu).toLowerCase()),o.number&&a.push(Kt.random(1,9999)),a}function _u(o,a){var s=a.toLowerCase();return Kt.filter(o,function(m){return m.substring(0,1).toLowerCase()===s})}const Ky=Xc(Zy);/*!
* dashify <https://github.com/jonschlinkert/dashify>
*
* Copyright (c) 2015-2017, Jon Schlinkert.
* Released under the MIT License.
*/var Qy=(o,a)=>{if(typeof o!="string")throw new TypeError("expected a string");return o.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,s=>/[-]/.test(s)?s:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,s=>a&&a.condense?"-":s).toLowerCase()};const Xy=Xc(Qy),Jy=o=>a=>{const{nextStep:s,currentStep:m,authFlow:g}=o;return g==="authorisationCode"&&s===O.permissionsStep?a===O.rcRedirectsStep:s?a===s:m===O.permissionsStep||m===O.serverSideStep||m===O.dataFeedStep||m===O.websiteFeedStep?a===O.permissionsStep:m===O.externalAppStep||m===O.webServicesStep||m===O.applicationTypeStep?a===m:!1},e2=()=>{const{appWizardState:o}=we(),{isMobile:a,isTablet:s,isDesktop:m}=Ht(),{Modal:g,openModal:x,closeModal:y}=Be(),{Modal:b,openModal:S,closeModal:I}=Be(),{Modal:E,openModal:A,closeModal:j}=Be(),{Modal:P,openModal:U,closeModal:L}=Be(),N=Jy(o),R=a||s||m;return t.jsxs(iy,{children:[t.jsxs("div",{className:ee(N(O.applicationTypeStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"About Apps"}),t.jsxs(be,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&lt,!R&&ji,R&&Le),onClick:U,children:[t.jsx(w,{hasGreyText:!0,children:"Every developer will have different use cases for our Platform and it is unlikely you will need to use all of the APIs and tooling we provide. However, the starting point for all integrations is to create an \u2018App\u2019,"}),t.jsx(qa,{width:"100%"})]}),t.jsxs("div",{className:ee(!R&&lt,!R&&bi),children:[t.jsx(w,{hasGreyText:!0,children:"On a basic level an app is the means to authenticate against our services. To create an app, you should follow the steps in the wizard on the left of this page."}),t.jsx(w,{hasGreyText:!0,children:"When you have completed this wizard, you will land on a dedicated page for your App, that will give you the Client Id, and in the case of server-side apps, a Client Secret, that will enable you to authenticate against out APIs. From here you can get started with development against our developer sandbox data."}),t.jsx(w,{hasGreyText:!0,children:"When you are ready to go live with a customer, you will need to complete some additional information and submit your app for review by one of our team. On approval of your app, it will be listed in the AppMarket for your customers to install, this will then grant access to their production data."})]})]})]}),t.jsxs("div",{className:ee(N(O.agencyCloudStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"AgencyCloud Functionality"}),t.jsxs(be,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&lt,!R&&ji,R&&Le),onClick:S,children:[t.jsx(w,{hasGreyText:!0,children:"For the greatest integration with our AgencyCloud Desktop CRM, we support the ability to load client-side apps using an internal web browser, inside of the CRM."}),t.jsx(qa,{})]}),t.jsxs("div",{className:ee(!R&&lt,!R&&bi),children:[t.jsxs(w,{hasGreyText:!0,children:["You can either launch your app from a dedicated menu, for example from a property or a contact, or even replace certain screens. Using our Desktop API your app can receive contextual information based on the screen or location the app is launched from. Providing relevant data for your users. For more information on our Desktop API please ",t.jsx("a",{onClick:ne(re.desktopDocs),children:"see here."})]}),t.jsxs(w,{hasGreyText:!0,children:["To ensure a consistent UI and UX, it is a requirement that apps that integrate with AgencyCloud use our Elements UI library and our Design System. If you want to familiarise yourself with this before moving on, you can ",t.jsx("a",{onClick:ne(re.elementsDocs),children:"view the docs here."})]}),t.jsxs(w,{hasGreyText:!0,children:["Please be aware that we do not support rendering of web applications that use a third-party UI. You cannot simply link out from your integrated app or render a pre-existing app in an iframe. For more information on the requirements, ",t.jsx("a",{onClick:ne(re.acLaunchableDocs),children:"please click here."})]})]})]})]}),t.jsxs("div",{className:ee(N(O.externalAppStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"External Web Applications"}),t.jsx(w,{hasGreyText:!0,children:"You should select this if you wish to integrate our Platform APIs with a pre-existing or future web application that you do not wish to launch from within the AgencyCloud desktop CRM."}),t.jsx(w,{hasGreyText:!0,children:"Your application can be authenticated against our Platform either on the client-side or server-side. If you choose client-side authentication at the next step but later wish to upgrade to a full AgencyCloud integration in the future, you can do this. However, it is important to note, server-side integrations cannot be launched from within AgencyCloud."})]}),t.jsxs("div",{className:ee(N(O.dataFeedStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Data Portal and Reporting Feeds"}),t.jsxs(w,{hasGreyText:!0,children:["This is a server-side only data feed, using our"," ",t.jsx("a",{onClick:ne(re.clientCredentials),children:"Client Credentials authentication flow."})," You should select this if you have no requirement to render your application inside of the AgencyCloud desktop CRM and, you have no requirement for user-centric client-side authentication."]}),t.jsx(w,{hasGreyText:!0,children:"Typically, you will be pulling data to serve another application, to perform data processing or some other analytics function."}),t.jsx(w,{hasGreyText:!0,children:"You should also select this option if you require a permanent connection to our APIs; to pull data on demand as opposed to on the fly, when a user logs in to your application."})]}),t.jsxs("div",{className:ee(N(O.websiteFeedStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Website Feeds"}),t.jsxs(be,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&lt,!R&&ji,R&&Le),onClick:A,children:[t.jsx(w,{hasGreyText:!0,children:"It is possible to get up and running with a website feed from the Platform API. You will want to optimise this flow, implementing webhooks and caching however, the below video is our quick start guide."}),t.jsx(qa,{})]}),t.jsxs("div",{className:ee(!R&&lt,!R&&bi),children:[t.jsxs(w,{hasGreyText:!0,children:["When building a public website for a Reapit Customer, you will have no user authentication so your integration must be server-side, using our"," ",t.jsx("a",{onClick:ne(re.clientCredentials),children:"Client Credentials authentication flow."})]}),t.jsx(w,{hasGreyText:!0,children:"Your application will be read-only and by selecting this option, we will pre-populate the typical API permissions your integration will need for most website development."})]})]})]}),t.jsxs("div",{className:ee(N(O.webServicesStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Web Services to Platform"}),t.jsx(w,{hasGreyText:!0,children:"Select this option if you are migrating from the legacy Reapit SOAP API, or web services. These services will soon be deprecated so it is important to start your migration to the Foundations Platform as soon as possible."}),t.jsxs(w,{hasGreyText:!0,children:["You will get options at the next steps to decide whether client or server-side authentication best serves your application needs however, in most cases web services applications are server-side using our"," ",t.jsx("a",{onClick:ne(re.clientCredentials),children:"Client Credentials authentication flow."})]}),t.jsxs(w,{hasGreyText:!0,children:["Please be aware there is not a 1:1 mapping between the SOAP and our Platform REST API. As such, we suggest reading the ",t.jsx("a",{onClick:ne(re.platformAPIDocs),children:"API docs here"})," and looking at the"," ",t.jsxs(Ua,{to:le.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"to investigate which data sets and permissions you will need before getting started."]})]}),t.jsxs("div",{className:ee(N(O.reapitConnectStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Using Reapit Connect as an Identity Provider"}),t.jsx(w,{hasGreyText:!0,children:"We support using Reapit Connect, our client-side authentication solution, simply as an identity provider for your application."}),t.jsxs(w,{hasGreyText:!0,children:["In this case, your client-side authenticated users will not have any data permissions however, you can access and validate their identity against your own application. For more on"," ",t.jsx("a",{onClick:ne(re.reapitConnectDocs),children:"Reapit Connect visit here"})," and if you are interested in using our Sign In With Reapit button to embed on your own site"," ",t.jsx("a",{onClick:ne(re.loginWithReapitDocs),children:"visit here"})]})]}),t.jsxs("div",{className:ee(N(O.clientSideStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Client Side Apps"}),t.jsxs(w,{hasGreyText:!0,children:["Client-side Apps use our identity provider"," ",t.jsx("a",{onClick:ne(re.reapitConnectDocs),children:"Reapit Connect"})," to authenticate against our API. Your application will need to re-direct to Reapit Connect where we will handle user login and in turn, re-direct back to your app with a code in the URL that you exchange for access and id JWTs, referred to as"," ",t.jsx("a",{onClick:ne(re.authoizationFlowDocs),children:"Authorization Code flow."})," You will need to provide us with URIs to your application at the next step so we know where to return you to on login and on completion of this wizard, you will receive a Client ID you will need to get started."]}),t.jsxs(w,{hasGreyText:!0,children:["To make this process easier, we provide you with an authentication module for client-side apps,"," ",t.jsx("a",{onClick:ne(re.connectSessionDocs),children:"Connect Session"}),", which comes bundled with our"," ",t.jsx("a",{onClick:ne(re.craDocs),children:"Create React App Template"})," for quick start client-side development."]})]}),t.jsxs("div",{className:ee(N(O.serverSideStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Server Side Apps"}),t.jsxs(be,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsx("div",{className:ee(!R&&lt,!R&&ji,R&&Le),onClick:x,children:t.jsx(qa,{})}),t.jsxs("div",{className:ee(!R&&lt,!R&&bi),children:[t.jsxs(w,{hasGreyText:!0,children:["Server-side applications authenticate against our API using the"," ",t.jsx("a",{onClick:ne(re.clientCredentials),children:"Client Credentials authentication flow."})," This process involves the exchange of a Client Id and Secret for a JWT access token to authenticate against all requests."]}),t.jsx(w,{hasGreyText:!0,children:"Unlike client-side applications, you do not have to re-direct to Reapit Connect, nor do your users have to log into your application. Because of this, the flow must only be used on the Server Side to ensure the Client Secret you will be issued at the end of this wizard is held in a secure location."})]})]})]}),t.jsxs("div",{className:ee(N(O.rcRedirectsStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Reapit Connect Redirects"}),t.jsxs(w,{hasGreyText:!0,children:["When using the Reapit Connect"," ",t.jsx("a",{onClick:ne(re.authoizationFlowDocs),children:"Authorization Code flow,"})," you need to register both a re-direct URI and a logout URI. The former is the location in your app, you want Reapit Connect to re-direct to after a successful user login, the latter, after a succesful logout. Only URIs that are registered here will be accepted as a location by Reapit Connect although, you can register multiple locations with a comma separated list."]}),t.jsxs(w,{hasGreyText:!0,children:["We have pre-populated the URIs that you need when using our"," ",t.jsx("a",{onClick:ne(re.craDocs),children:"Create React App Template"})," however, any localhost (for local development), or https URI is acceptable. Please note, the URIs must match those in your app exactly, inclusive of white space and trailing slashes."]})]}),t.jsxs("div",{className:ee(N(O.permissionsStep)?ze:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Permissions"}),t.jsxs(w,{hasGreyText:!0,children:["Permissions are registered as scopes against the access token you receive back from one of our Authentication Flows. They map 1:1 and on a read/write basis to endpoints in our our Platform REST API. As such, it is worth looking at the"," ",t.jsxs(Ua,{to:le.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"before procceeding, to investigate which permissions you think you will need."]}),t.jsx(w,{hasGreyText:!0,children:"For some flows we have pre-populated suggested permissions based on what you have said you wish to acheive with our Platform. These can be removed or added as you see fit and all permissions can be edited later if you wish to add or remove them before your app goes live."})]}),t.jsxs(g,{title:"Server Side Apps",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/s2OEO9RSZ8M",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:y,children:"Close"})})]}),t.jsxs(b,{title:"Desktop API",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/E1df4fThSdw",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:I,children:"Close"})})]}),t.jsxs(E,{title:"Website Feeds",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/EJWB5u1ja_U",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:j,children:"Close"})})]}),t.jsxs(P,{title:"About Apps",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/sjXvs72ZWB8",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:L,children:"Close"})})]})]})},n2=Xn().shape({redirectUris:z().trim().required(Ke.FIELD_REQUIRED).test({test:Ai,message:"Should be a secure https url or http if localhost"}),signoutUris:z().trim().required(Ke.FIELD_REQUIRED).test({test:Ai,message:"Should be a secure https url or http if localhost"}),scopes:z().trim()}),t2=Xn().shape({scopes:z().trim().required("At least one scope is required for a server-side app"),redirectUris:z().optional(),signoutUris:z().optional()}),r2=async(o,a,s)=>{if(o==="authorisationCode"&&a&&a===O.permissionsStep){const m=await s("redirectUris"),g=await s("signoutUris");return m&&g}return!0},ku=(o,a,s,m,g)=>x=>{x.preventDefault(),(async()=>{(!a||await r2(s,m,g))&&o(({currentStep:y,nextStep:b,prevStep:S,stepHistory:I,...E})=>a?{...E,nextStep:null,prevStep:y,currentStep:b,stepHistory:[...I,b],lastStep:b===O.reapitConnectStep}:(I.pop(),{...E,nextStep:null,prevStep:I[I.indexOf(S)-1]??null,currentStep:S,stepHistory:I,lastStep:!1}))})().catch(y=>console.error(y))},i2=(o,a,s,m)=>({redirectUris:g,signoutUris:x,scopes:y})=>{var P,U;const b=g==null?void 0:g.split(",").filter(Boolean),S=x==null?void 0:x.split(",").filter(Boolean),I=y==null?void 0:y.split(",").filter(Boolean),E=((P=a==null?void 0:a.loginIdentity)==null?void 0:P.developerId)??"",A=`${Xy(((U=a==null?void 0:a.loginIdentity)==null?void 0:U.orgName)??"unknown")}-${Ky().dashed}`;if(!E)return;const j={authFlow:o,name:A,scopes:I,developerId:E,isDirectApi:!s.includes(O.agencyCloudStep),categoryIds:s.includes(O.websiteFeedStep)&&I&&["agencyCloud/properties.read","agencyCloud/negotiators.read","agencyCloud/offices.read"].every(L=>I.includes(L))?["14"]:void 0,...o==="clientCredentials"?{}:{redirectUris:b,signoutUris:S}};return m(j)},a2=(o,a,s,m,g)=>()=>{o&&(s(),m(),g(D0),a(`${le.APPS}/${o.id}`))},s2=o=>{o.key==="Enter"&&o.preventDefault()},o2=()=>{const{appWizardState:o,setAppWizardState:a,appsDataState:s,appPipelineState:m}=we(),g=ot(),{isMobile:x}=Ht(),{Modal:y,openModal:b,closeModal:S}=Be(),{currentStep:I,prevStep:E,nextStep:A,stepHistory:j,authFlow:P,lastStep:U}=o,{appsRefresh:L}=s,{appPipelineRefresh:N}=m,{register:R,getValues:W,handleSubmit:G,trigger:q,formState:{errors:Q}}=gr({resolver:mr(P==="authorisationCode"?n2:t2)}),{connectSession:X}=Cn(K),[H,me,ie]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createApp],method:"POST",returnType:Zr.LOCATION});V.useEffect(a2(me,g,L,N,a),[me]);const{headingText:Se,headerText:_e,iconName:Oe}=U0(I);return t.jsxs(Qc,{children:[t.jsxs(Da,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:4,spanSuperWideScreen:5,span4KScreen:7,children:[t.jsx(Zn,{children:"Create App"}),x&&t.jsxs(y,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:S,children:"Close"})})]}),t.jsx("form",{onSubmit:G(i2(P,X,j,ie)),onKeyDown:s2,children:t.jsxs(du,{children:[t.jsx(de,{hasBoldText:!0,children:Se}),t.jsxs(be,{className:Le,children:[t.jsx(ue,{className:so,icon:Oe,iconSize:"large"}),t.jsx(Ve,{hasGreyText:!0,children:_e})]}),t.jsx(be,{children:t.jsx(Vy,{register:R,errors:Q,getValues:W})}),t.jsx(ay,{children:t.jsxs(oe,{alignment:"center",children:[t.jsx(M,{intent:"primary",disabled:!E||H,onClick:ku(a,!1,P,A,q),children:"Prev"}),U?t.jsx(M,{intent:"primary",type:"submit",disabled:H,loading:H,children:"Create App"}):t.jsx(M,{intent:"primary",disabled:!A||H,onClick:ku(a,!0,P,A,q),children:"Next"})]})})]})})]}),t.jsx(Da,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:8,spanSuperWideScreen:11,span4KScreen:13,children:t.jsx(e2,{})}),t.jsx(Vr,{onClick:b})]})},Kr=(o,a)=>()=>{o(a||null)},yo=St("div")({name:"PermissionChip",class:"p11sa0f-permission-chip",propsAsIs:!1}),l2=St("div")({name:"LinkChip",class:"l1vkdn49-link-chip",propsAsIs:!1}),Pi="t11sr6l7-text-overflow",Su="ttq29n6-text-overflow-container",Iu={externalId:"Copy",rotatingExternalId:"Copy",clientSecret:"Copy",rotatingClientSecret:"Copy",appId:"Copy"},Qr=(o,a)=>()=>{o({...Iu,[a]:"Copied"}),setTimeout(()=>{o(s=>({...s,[a]:"Copy"}))},5e3)},Au=({isListed:o,pendingRevisions:a,limitToClientIds:s})=>{const m=!!(s!=null&&s.length);return o&&!a&&!m?"Your app is live and public in the AppMarket":o&&!a&&m?"Your app is live in the AppMarket but private to selected customers":o&&a&&!m?"Your app is live and public in the AppMarket with a pending revision under review":o&&a&&m?"Your app is live and private to selected customers with a pending revision under review":"Your app is not live and in development only"},Tu=({isDirectApi:o,authFlow:a,desktopIntegrationTypeIds:s})=>{const m=!!(s!=null&&s.length);return a==="clientCredentials"?"Your app is a server-side only integration or data feed":o?"You have a client side authenticated integration that will not render within the AgencyCloud desktop CRM":m?"You have a client side authenticated integration that will replace a screen or launch from within the AgencyCloud desktop CRM":"You have a client side authenticated integration that will render within the AgencyCloud desktop CRM"},Eu=o=>()=>{o(!0)},Pu=(o,a,s,m)=>async()=>{await o()&&a(),s&&m()},c2=()=>{const{appsDataState:o,setAppId:a}=we(),[s,m]=V.useState(Iu),[g,x]=V.useState(!1),{appId:y}=Gr(),{connectSession:b}=Cn(K),S=au(b);V.useEffect(Kr(a,y),[y]);const{appDetail:I,appDetailLoading:E,appsDetailRefresh:A}=o,{id:j,name:P,externalId:U,authFlow:L,redirectUris:N,signoutUris:R,scopes:W,rotatingExternalId:G}=I??{},[q,Q,,X]=_n({reapitConnectBrowserSession:K,action:fn[gn.getAppSecret],uriParams:{appId:y},fetchWhenTrue:[y,L==="clientCredentials",g]}),[H,,me]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createAuthClient],method:"POST",uriParams:{appId:y}}),[ie,,Se]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.deleteAuthClient],method:"DELETE",uriParams:{appId:y}});return E?t.jsx(pn,{}):I?t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:P}),t.jsx(de,{children:"Authenticating Your App"}),L==="authorisationCode"&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Client-side Apps use our identity provider"," ",t.jsx("a",{onClick:ne(re.reapitConnectDocs),children:"Reapit Connect"})," to authenticate against our API. Your application will need to re-direct to Reapit Connect where we will handle user login and in turn, re-direct back to your app with a code in the URL that you exchange for access and id JWTs, referred to as"," ",t.jsx("a",{onClick:ne(re.authoizationFlowDocs),children:"Authorization Code flow."})," You will need the Client Id and Redirect Uris below to configure Reapit Connect."]}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["To make this process easier, we provide you with an authentication module for client-side apps,"," ",t.jsx("a",{onClick:ne(re.connectSessionDocs),children:"Connect Session"}),", which comes bundled with our"," ",t.jsx("a",{onClick:ne(re.craDocs),children:"Create React App Template"})," for quick start client-side development."]})]}),L==="clientCredentials"&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Server-side applications authenticate against our API using the"," ",t.jsx("a",{onClick:ne(re.clientCredentials),children:"Client Credentials authentication flow."})," This process involves the exchange of a Client Id and Client Secret for a JWT access token to authenticate against all requests."]}),t.jsxs(w,{hasGreyText:!0,children:["To make this process easier, we provide you with a NodeJS authentication module for server-side apps,"," ",t.jsx("a",{onClick:ne(re.connectSessionDocs),children:"Connect Session"}),"."]}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["For website developers, you might find our code examples useful. We offer examples in the following languages ",t.jsx(l2,{onClick:ne(re.codeExampleNodeWebsite),children:"Node JS"})]})]}),L==="clientCredentials"&&t.jsxs(C0,{className:en,children:[t.jsxs(pr,{className:ee(G&&Le),children:[U&&t.jsxs(Fe,{children:[t.jsxs(be,{children:[t.jsx(ue,{className:ct,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:U})]})]}),t.jsx(yr,{text:U,onCopy:Qr(m,"externalId"),children:t.jsx(M,{intent:"default",children:s.externalId})})]}),t.jsxs(Fe,{children:[t.jsxs(be,{children:[t.jsx(ue,{className:ct,icon:"doorLockInfographic",iconSize:"medium"}),t.jsxs("div",{className:Su,children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Secret"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:q!=null&&q.clientSecret&&S?"*********************************":S?"Click to load client secret":"You need to be an admin to view this secret"})]})]}),q!=null&&q.clientSecret?t.jsx(yr,{text:q==null?void 0:q.clientSecret,onCopy:Qr(m,"clientSecret"),children:t.jsx(M,{intent:"default",children:s.clientSecret})}):t.jsx(M,{onClick:Eu(x),intent:"default",disabled:Q||!S,loading:E,children:"Load Secret"})]}),t.jsx(Fe,{children:t.jsx(be,{className:La,isFlexAlignCenter:!0,children:t.jsx(M,{onClick:Pu(me,A,q,X),intent:"primary",disabled:H||ie||!S||!!G,loading:H,children:"Rotate Authentication"})})})]}),G&&t.jsxs(t.Fragment,{children:[t.jsx(de,{children:"New Authentication Credentials"}),t.jsxs(pr,{children:[t.jsxs(Fe,{children:[t.jsxs(be,{children:[t.jsx(ue,{className:ct,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:G})]})]}),t.jsx(yr,{text:G,onCopy:Qr(m,"rotatingExternalId"),children:t.jsx(M,{intent:"default",children:s.rotatingExternalId})})]}),t.jsxs(Fe,{children:[t.jsxs(be,{children:[t.jsx(ue,{className:ct,icon:"doorLockInfographic",iconSize:"medium"}),t.jsxs("div",{className:Su,children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Secret"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:q!=null&&q.rotatingClientSecret&&S?"*********************************":S?"Click to load client secret":"You need to be an admin to view this secret"})]})]}),q!=null&&q.rotatingClientSecret?t.jsx(yr,{text:q==null?void 0:q.rotatingClientSecret,onCopy:Qr(m,"rotatingClientSecret"),children:t.jsx(M,{intent:"default",children:s.rotatingClientSecret})}):t.jsx(M,{onClick:Eu(x),intent:"default",disabled:Q||!S,loading:E,children:"Load Secret"})]}),t.jsx(Fe,{children:t.jsx(be,{className:La,isFlexAlignCenter:!0,children:t.jsx(M,{onClick:Pu(Se,A,q,X),intent:"success",disabled:H||ie||!S,loading:ie,children:"Use"})})})]})]})]}),t.jsxs(pr,{children:[U&&L==="authorisationCode"&&t.jsxs(Fe,{children:[t.jsxs(be,{children:[t.jsx(ue,{className:ct,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:U})]})]}),t.jsx(yr,{text:U,onCopy:Qr(m,"externalId"),children:t.jsx(M,{intent:"default",children:s.externalId})})]}),j&&t.jsxs(Fe,{children:[t.jsxs(be,{children:[t.jsx(ue,{className:ct,icon:"myAppsInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"App Id"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:j})]})]}),t.jsx(yr,{text:j,onCopy:Qr(m,"appId"),children:t.jsx(M,{intent:"default",children:s.appId})})]}),L==="authorisationCode"&&!!(N!=null&&N.length)&&t.jsxs(Fe,{children:[t.jsx(de,{hasNoMargin:!0,children:"Redirect Uri(s)"}),N==null?void 0:N.map(_e=>t.jsx(w,{className:Pi,hasGreyText:!0,hasNoMargin:!0,children:_e},_e))]}),L==="authorisationCode"&&!!(R!=null&&R.length)&&t.jsxs(Fe,{children:[t.jsx(de,{hasNoMargin:!0,children:"Sign Out Uri(s)"}),R==null?void 0:R.map(_e=>t.jsx(w,{className:Pi,hasGreyText:!0,hasNoMargin:!0,children:_e},_e))]}),t.jsx(Fe,{children:t.jsxs(Fe,{children:[t.jsx(de,{hasNoMargin:!0,children:"Integration Type"}),t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:Tu(I)})]})}),t.jsx(Fe,{children:t.jsxs(Fe,{children:[t.jsx(de,{hasNoMargin:!0,children:"App Status"}),t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:Au(I)})]})}),!!(W!=null&&W.length)&&t.jsxs(Fe,{children:[t.jsx(de,{hasNoMargin:!0,children:"Permissions"}),W==null?void 0:W.map(({name:_e,description:Oe})=>t.jsx(yo,{children:Oe},_e))]})]})]}):t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found"})},u2=({register:o,errors:a,control:s})=>{var L,N,R,W,G,q,Q;const{appEditState:m}=we(),{appEditForm:g}=m,x=Wa({control:s,name:"isAgencyCloudIntegrated"}),y=Wa({control:s,name:"desktopIntegrationTypeIds"}),[b,S]=_n({reapitConnectBrowserSession:K,action:fn[gn.getDesktopIntegrationTypes],fetchWhenTrue:[x]}),{desktopIntegrationTypeIds:I,isAgencyCloudIntegrated:E,launchWindowSizeX:A,launchWindowSizeY:j}=fr,{name:P}=I,U=(L=b==null?void 0:b.data)==null?void 0:L.filter(X=>{var H;return!((H=X.name)!=null&&H.includes("Payment"))});return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["When your application is integrated with AgencyCloud you can either launch it from the dedicated Apps menu in the AgencyCloud software, or from a series of menus embedded within other pages. Your app can receive contextual entity ids as global variables so it can launch with relevant data for your users. For more on our desktop API"," ",t.jsx("a",{onClick:ne(re.desktopDocs),children:"see here."})]}),t.jsx(w,{hasGreyText:!0,children:"You should toggle \u2018AgencyCloud Integration\u2019 only if you are intending your app to be launched from within AgencyCloud"}),t.jsx(w,{hasGreyText:!0,children:"The below list maps to the various menus from which you can launch your app or replace an AgencyCloud Screen. You should select the ones that are relevant to your app only. You can also select the default height and width of the window you wish your app to launch in within AgencyCloud."}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:E.label}),t.jsxs(Jc,{id:"app-edit-is-ac-inegrated",...o("isAgencyCloudIntegrated"),hasGreyBg:!0,children:[t.jsx(za,{children:"Yes"}),t.jsx(za,{children:"No"})]})]})}),S&&t.jsx(Kn,{children:t.jsx(pn,{})}),b&&t.jsxs(Kn,{children:[t.jsx(ki,{id:P,...I,...o("desktopIntegrationTypeIds"),options:U==null?void 0:U.map(({name:X,id:H})=>({name:X,value:H})),defaultValues:g.desktopIntegrationTypeIds.split(",").filter(Boolean)}),((N=a.desktopIntegrationTypeIds)==null?void 0:N.message)&&t.jsx(Pe,{message:(R=a.desktopIntegrationTypeIds)==null?void 0:R.message})]}),t.jsx(xe,{children:t.jsx(pe,{...A,...o("launchWindowSizeX"),disabled:!y.length,errorMessage:(W=a==null?void 0:a.launchWindowSizeX)==null?void 0:W.message,icon:(G=a==null?void 0:a.launchWindowSizeX)!=null&&G.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...j,...o("launchWindowSizeY"),disabled:!y.length,errorMessage:(q=a==null?void 0:a.launchWindowSizeY)==null?void 0:q.message,icon:(Q=a==null?void 0:a.launchWindowSizeY)!=null&&Q.message?"asterisk":null,intent:"danger"})})]})]})},xo={icon:{width:192,height:192},feature:{width:990,height:444},screenshot:{width:1196,height:914}},vo=xo.icon,jo=xo.feature,Xr=xo.screenshot,d2=vo.width/vo.height,p2=jo.width/jo.height,Ga=Xr.width/Xr.height,h2="ayjl3ht-app-description-height",Jr=(o,a)=>s=>{o(s),a()},f2=(o,a)=>()=>{o(null),a()},g2=o=>()=>{var a;return((a=o==null?void 0:o.data)==null?void 0:a.sort((s,m)=>{var y,b;const g=(y=s.name)==null?void 0:y.toUpperCase(),x=(b=m.name)==null?void 0:b.toUpperCase();return!g||!x?0:g<x?-1:g>x?1:0}))??[]},m2=({register:o,errors:a,control:s,getValues:m})=>{var tt,Bn,jr,rt,mn,Pt,yn,Rt,Mi,Rn,ei,Di,Nt,xn,Mt,er,Ui,Dt,Li,Ut,mt,br,wr,Cr,_r,kr,Sr,Ir,Ar,Tr,zi,Fi,Oi,ni,ti,Wi,qi,Bi,Vi,ri,Gi,Yi;const{appEditState:g}=we(),{appEditForm:x}=g,[y,b]=_n({reapitConnectBrowserSession:K,action:fn[gn.getAppCategories],queryParams:{pageSize:25}}),[,,S]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.fileUpload],method:"POST",returnType:Zr.RESPONSE}),I=Wa({control:s,name:"isFree"}),E=Lt=>S(Lt),[A,j]=V.useState(null),{Modal:P,openModal:U,closeModal:L}=Be(),N=V.useMemo(g2(y),[y]),{name:R,supportEmail:W,telephone:G,homePage:q,launchUri:Q,termsAndConditionsUrl:X,privacyPolicyUrl:H,pricingUrl:me,categoryIds:ie,description:Se,summary:_e,isFree:Oe,iconImageUrl:kn,screen1ImageUrl:an,screen2ImageUrl:sn,screen3ImageUrl:Ge,screen4ImageUrl:on,screen5ImageUrl:ln,videoUrl1:Qt,videoUrl2:Qe,deletionProtection:Ye}=fr,{iconImageUrl:vr,screen1ImageUrl:nt,screen2ImageUrl:Xt,screen3ImageUrl:qn,screen4ImageUrl:Et,screen5ImageUrl:Jt}=m();return t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"The detail included on this page populates your app listing in the AppMarket. While you are in development, you can complete this in your own time however, when you are ready to submit your app for approval, it all needs to be completed."}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["For information on listing your app ",t.jsx("a",{onClick:ne(re.listingAppDocs),children:"see here"}),". If you are looking for guidance on what we look for when reviewing app, there is a dedicated page"," ",t.jsx("a",{onClick:ne(re.reviewingAppDocs),children:"here."})]}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(Kn,{children:t.jsx(pe,{...R,...o("name"),errorMessage:(tt=a==null?void 0:a.name)==null?void 0:tt.message,icon:(Bn=a==null?void 0:a.name)!=null&&Bn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...W,...o("supportEmail"),errorMessage:(jr=a==null?void 0:a.supportEmail)==null?void 0:jr.message,icon:(rt=a==null?void 0:a.supportEmail)!=null&&rt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...G,...o("telephone"),errorMessage:(mn=a==null?void 0:a.telephone)==null?void 0:mn.message,icon:(Pt=a==null?void 0:a.telephone)!=null&&Pt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...q,...o("homePage"),errorMessage:(yn=a==null?void 0:a.homePage)==null?void 0:yn.message,icon:(Rt=a==null?void 0:a.homePage)!=null&&Rt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Q,...o("launchUri"),errorMessage:(Mi=a==null?void 0:a.launchUri)==null?void 0:Mi.message,icon:(Rn=a==null?void 0:a.launchUri)!=null&&Rn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...X,...o("termsAndConditionsUrl"),errorMessage:(ei=a==null?void 0:a.termsAndConditionsUrl)==null?void 0:ei.message,icon:(Di=a==null?void 0:a.termsAndConditionsUrl)!=null&&Di.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...H,...o("privacyPolicyUrl"),errorMessage:(Nt=a==null?void 0:a.privacyPolicyUrl)==null?void 0:Nt.message,icon:(xn=a==null?void 0:a.privacyPolicyUrl)!=null&&xn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Qt,...o("videoUrl1"),errorMessage:(Mt=a==null?void 0:a.videoUrl1)==null?void 0:Mt.message,icon:(er=a==null?void 0:a.videoUrl1)!=null&&er.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Qe,...o("videoUrl2"),errorMessage:(Ui=a==null?void 0:a.videoUrl2)==null?void 0:Ui.message,icon:(Dt=a==null?void 0:a.videoUrl2)!=null&&Dt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...me,...o("pricingUrl"),disabled:I,errorMessage:(Li=a==null?void 0:a.pricingUrl)==null?void 0:Li.message,icon:(Ut=a==null?void 0:a.pricingUrl)!=null&&Ut.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Oe,...o("isFree"),errorMessage:(mt=a==null?void 0:a.isFree)==null?void 0:mt.message,icon:(br=a==null?void 0:a.isFree)!=null&&br.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Ye,...o("deletionProtection"),errorMessage:(wr=a==null?void 0:a.deletionProtection)==null?void 0:wr.message,icon:(Cr=a==null?void 0:a.deletionProtection)!=null&&Cr.message?"asterisk":null,intent:"danger"})}),t.jsxs(Kn,{children:[b&&t.jsx(pn,{}),N.length&&t.jsxs(pe,{children:[t.jsx(nn,{children:ie.label}),t.jsx(ki,{id:"app-edit-categories-select",...o("categoryIds"),noneSelectedLabel:"Please select one or more categories that best describes your app. These will be used by customers to find your app in the AppMarket",options:N.map(Lt=>({value:Lt.id??"",name:Lt.name??""})),defaultValues:x.categoryIds.split(",").filter(Boolean)}),((_r=a==null?void 0:a.categoryIds)==null?void 0:_r.message)&&t.jsx(Pe,{message:(kr=a==null?void 0:a.categoryIds)==null?void 0:kr.message})]})]}),t.jsx(Kn,{children:t.jsx(pe,{..._e,...o("summary"),errorMessage:(Sr=a==null?void 0:a.summary)==null?void 0:Sr.message,icon:(Ir=a==null?void 0:a.summary)!=null&&Ir.message?"asterisk":null,intent:"danger"})}),t.jsxs(Kn,{children:[t.jsx(nn,{children:Se.label}),t.jsx(B0,{control:s,name:"description",render:({field:{onChange:Lt,onBlur:ii,value:Za}})=>t.jsx(ty,{...Se,containerClass:h2,defaultContent:Za,onChange:Lt,onBlur:ii,actions:["bold","italic","paragraph","olist","ulist","link",{name:"test",icon:"<b>H<sub>5</sub></b>",title:"Add heading 5",result:()=>Kc.exec("formatBlock","<h5>")}]})}),((Ar=a==null?void 0:a.description)==null?void 0:Ar.message)&&t.jsx(Pe,{message:(Tr=a==null?void 0:a.description)==null?void 0:Tr.message})]}),t.jsxs(xe,{children:[t.jsx($r,{...o("iconImageUrl"),label:kn.label,onFileView:Jr(j,U),defaultValue:vr,onFileUpload:E,placeholderText:"Dimensions: 192px x 192px",fileName:Yr(),aspect:d2,resizeDimensions:vo}),((zi=a==null?void 0:a.iconImageUrl)==null?void 0:zi.message)&&t.jsx(Pe,{message:(Fi=a==null?void 0:a.iconImageUrl)==null?void 0:Fi.message})]}),t.jsxs(xe,{children:[t.jsx($r,{...o("screen1ImageUrl"),label:an.label,onFileView:Jr(j,U),defaultValue:nt,onFileUpload:E,placeholderText:"Dimensions: 990px x 444px",fileName:Yr(),aspect:p2,resizeDimensions:jo}),((Oi=a==null?void 0:a.screen1ImageUrl)==null?void 0:Oi.message)&&t.jsx(Pe,{message:(ni=a==null?void 0:a.screen1ImageUrl)==null?void 0:ni.message})]}),t.jsxs(xe,{children:[t.jsx($r,{...o("screen2ImageUrl"),label:sn.label,onFileView:Jr(j,U),defaultValue:Xt,onFileUpload:E,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((ti=a==null?void 0:a.screen2ImageUrl)==null?void 0:ti.message)&&t.jsx(Pe,{message:(Wi=a==null?void 0:a.screen2ImageUrl)==null?void 0:Wi.message})]}),t.jsxs(xe,{children:[t.jsx($r,{...o("screen3ImageUrl"),label:Ge.label,onFileView:Jr(j,U),defaultValue:qn,onFileUpload:E,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((qi=a==null?void 0:a.screen3ImageUrl)==null?void 0:qi.message)&&t.jsx(Pe,{message:(Bi=a==null?void 0:a.screen3ImageUrl)==null?void 0:Bi.message})]}),t.jsxs(xe,{children:[t.jsx($r,{...o("screen4ImageUrl"),label:on.label,onFileView:Jr(j,U),defaultValue:Et,onFileUpload:E,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((Vi=a==null?void 0:a.screen4ImageUrl)==null?void 0:Vi.message)&&t.jsx(Pe,{message:(ri=a==null?void 0:a.screen4ImageUrl)==null?void 0:ri.message})]}),t.jsxs(xe,{children:[t.jsx($r,{...o("screen5ImageUrl"),label:ln.label,onFileView:Jr(j,U),defaultValue:Jt,onFileUpload:E,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((Gi=a==null?void 0:a.screen5ImageUrl)==null?void 0:Gi.message)&&t.jsx(Pe,{message:(Yi=a==null?void 0:a.screen5ImageUrl)==null?void 0:Yi.message})]}),t.jsxs(P,{title:"Image Preview",children:[t.jsx(be,{className:en,isFlexAlignCenter:!0,isFlexJustifyCenter:!0,children:t.jsx(_0,{src:A})}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:f2(j,L),children:"Close"})})]})]})]})},y2=({register:o,errors:a})=>{var g,x,y,b;const{redirectUris:s,signoutUris:m}=fr;return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["When using the Reapit Connect"," ",t.jsx("a",{onClick:ne(re.authoizationFlowDocs),children:"Authorization Code flow,"})," you need to register both a re-direct URI and a logout URI. The former is the location in your app, you want Reapit Connect to re-direct to after a successful user login, the latter, after a succesful logout. Only URIs that are registered here will be accepted as a location by Reapit Connect although, you can register multiple locations with a comma separated list."]}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(Kn,{children:t.jsx(pe,{...s,...o("redirectUris"),errorMessage:(g=a==null?void 0:a.redirectUris)==null?void 0:g.message,icon:(x=a==null?void 0:a.redirectUris)!=null&&x.message?"asterisk":null,intent:"danger"})}),t.jsx(Kn,{children:t.jsx(pe,{...m,...o("signoutUris"),errorMessage:(y=a==null?void 0:a.signoutUris)==null?void 0:y.message,icon:(b=a==null?void 0:a.signoutUris)!=null&&b.message?"asterisk":null,intent:"danger"})})]})]})},x2="dqurj2d-docs-animated-style",v2=({isAnimated:o})=>t.jsxs("svg",{className:ee(o&&x2,_i),id:"erekCw3TbW21",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",height:"140px",children:[t.jsx("path",{d:"M92.6107,118.751c0-1.914-1.5509-3.465-3.4638-3.465h-1.4623v-33.5396c-1.7976,0-3.4989-.5863-4.9148-1.5746-.952.6711-2.0477,1.167-3.2624,1.4081-.5556.111-1.1226.1665-1.683.1665-.3736,0-.7323-.05-1.0958-.0975l-16.1458-.3054c-.7856.2352-1.6028.4017-2.4654.4017-.8602,0-1.6764-.1663-2.4631-.4017l-16.1458.3056c-.362.0475-.7233.0974-1.0966.0974-.5569,0-1.1218-.0555-1.6889-.1676-1.2112-.2411-2.3048-.7359-3.2578-1.407-1.4159.9882-3.1138,1.5746-4.9101,1.5746L28.554,115.286h-1.4625c-1.9142,0-3.4648,1.551-3.4648,3.465c0,1.915,1.5506,3.465,3.4648,3.465h62.0553c1.913,0,3.4639-1.551,3.4639-3.465Z",fill:"#506478"}),t.jsx("path",{d:"M17.0043,88.7831c.6344.2019,1.2751.2981,1.9065.2981c2.8655,0,5.5122-1.9881,6.3746-5.0665l.35-1.2468c.237,2.2638,1.4787,4.2584,3.3362,5.3748.5994.3551,1.2384.6484,1.948.7984.4388.0949.8761.1401,1.3058.1401c3.1114,0,5.8929-2.3353,6.5213-5.7121l.1623-.8651c.1665,2.4069,1.4602,4.5272,3.3835,5.6728.7722.4613,1.6409.7659,2.5797.8672.2245.0259.4478.0359.6679.0359c3.3779,0,6.2723-2.7314,6.6161-6.3919l.0491-.5264c.8894,10.6514,13.8828,8.0692,13.8828.3424l.1623.8651c.6313,3.3783,3.411,5.7121,6.5212,5.7121.4311,0,.8669-.0454,1.3074-.1401.7061-.15,1.3484-.4433,1.9449-.7984c1.8607-1.1166,3.1023-3.111,3.3394-5.3748l.3499,1.2468c.8626,3.0784,3.5092,5.0665,6.376,5.0665.6302,0,1.2708-.0962,1.9052-.2981c3.5245-1.1215,5.5274-5.0748,4.4756-8.8279L86.7774,59.651C85.5881,55.4075,81.926,52.5,77.7718,52.5h-50.5431c-4.1561,0-7.818,2.9075-9.0075,7.151L12.53,79.9552c-1.0518,3.7533.9514,7.7066,4.4743,8.8279Z",fill:"#607890"}),t.jsx("rect",{width:"15.75",height:"10.5",rx:"1",ry:"1",transform:"translate(36.75 94.5)",fill:"#d8dee4"}),t.jsx("rect",{width:"15.75",height:"10.5",rx:"1",ry:"1",transform:"translate(63 94.5)",fill:"#d8dee4"}),t.jsx("g",{id:"manage-app-listing-one",transform:"translate(39.12742,25.990749)",children:t.jsx("path",{d:"M64.5593,22.0386c-.9453-5.879-6.2367-10.3914-12.613-10.3914-2.3987,0-4.7048.6384-6.706,1.829C42.2069,8.55954,36.7363,5.5,30.6533,5.5c-9.3971,0-17.0546,7.3539-17.0694,16.3926-.0001.056-.0002.1141.0018.1701-6.04098.9785-10.80557,6.0431-10.81556,12.1243C2.759,40.9666,8.62547,46.4815,15.6738,46.4815h46.8668c7.0484,0,12.9329-5.5149,12.9441-12.2945.0101-6.1331-4.8148-11.2298-10.9254-12.1484v0Z",transform:"translate(-39.12742,-25.990749)",fill:"#d8dee4"})}),t.jsx("path",{d:"M121.209,133.349h-50.2457c-.001,0-.0019,0-.0029,0-4.2515-.012-7.6987-3.459-7.7103-7.711v-105.9911c.0116-4.2518,3.4591-7.6993,7.7109-7.7109h50.251c4.251.0116,7.699,3.4588,7.711,7.7103c0,.001,0,.0019,0,.0029v105.9888c0,.001,0,.001,0,.002-.015,4.253-3.459,7.697-7.711,7.709-.001,0-.002,0-.003,0Z",fill:"#d8dee4",stroke:"#506478",strokeWidth:"4"}),t.jsx("path",{d:"M121.214,135.349h-50.2556c-5.3544-.013-9.6952-4.354-9.7083-9.708v-12.297c32.0121,0,41.1849,0,69.6729,0v12.3c-.017,5.354-4.354,9.692-9.709,9.705Z",fill:"#607890"}),t.jsx("rect",{width:"38.5",height:"38.5",rx:"19.25",ry:"19.25",transform:"translate(73.5001 26.25)",fill:"#fff"}),t.jsx("rect",{width:"43.8946",height:"15.6767",rx:"1",ry:"1",transform:"translate(73.7937 85.5774)",fill:"#d8dee4"}),t.jsx("rect",{width:"31.3533",height:"6.27067",rx:"1",ry:"1",transform:"translate(73.7937 75.25)",fill:"#d8dee4"}),t.jsx("circle",{r:"18.375",transform:"translate(63.875 51.625)",fill:"#fff"}),t.jsx("g",{id:"manage-app-listing-two",transform:"translate(60.5,53.5) rotate(0)",children:t.jsx("g",{id:"manage-app-listing-three",transform:"scale(1,1)",children:t.jsx("path",{d:"M57.3649,25c-.8426,0-1.6097.3968-2.1056.9476s-.7714,1.2255-.9028,1.9198v.001l-.8431,4.4579c-1.0435.3462-2.058.7685-3.0393,1.264l-3.7543-2.5598c-.5836-.3978-1.2549-.6809-1.9954-.7199-.7411-.039-1.5636.2249-2.1587.82l-4.4328,4.4329c-.5961.5956-.8585,1.4185-.8204,2.1587.038.7405.3206,1.4132.7184,1.9978l2.5486,3.738c-.4945.9866-.9144,2.0059-1.2577,3.0542l-4.4535.8431c-.6943.1315-1.3698.4069-1.9207.9029-.5508.4959-.9476,1.2644-.9476,2.1071v6.2688c0,.8427.3963,1.6098.9476,2.1057.5509.496,1.2264.7724,1.9207.9038l4.4608.8451c.3462,1.0425.7675,2.0561,1.263,3.0364l-2.5606,3.7544c-.3982.5841-.6804,1.2568-.7184,1.9974-.0381.7405.2239,1.563.8205,2.1586l4.4327,4.4329c.5957.5961,1.4181.8576,2.1587.819.7405-.039,1.4122-.3211,1.9963-.7193l3.7379-2.5482c.9866.4945,2.0064.9134,3.0551,1.2572l.8432,4.4535c.1314.6944.4068,1.3699.9028,1.9208.4959.5509,1.263.9476,2.1056.9476L63.6361,82c.8426,0,1.6097-.3963,2.1056-.9476.496-.5509.7714-1.226.9029-1.9198v-.0015l.8441-4.4573c1.0434-.3463,2.0579-.7685,3.0392-1.264l3.7534,2.5588c.584.3982,1.2562.6804,1.9962.7194.7406.039,1.5636-.223,2.1597-.8191l4.4327-4.4329c.5957-.5961.8581-1.4195.8191-2.1596-.0385-.7406-.3212-1.4123-.7199-1.9964l-2.5486-3.738c.4945-.9866.9144-2.0059,1.2577-3.0547l4.4535-.8431c.6943-.1315,1.3698-.4079,1.9207-.9038.5509-.496.9476-1.263.9476-2.1057v-6.2693c0-.8426-.3963-1.6106-.9476-2.1071-.5509-.496-1.2259-.7714-1.9198-.9029l-4.4587-.8441c-.3462-1.043-.7685-2.0566-1.264-3.0375L82.9696,39.72c.3982-.5841.6809-1.2563.7199-1.9964.039-.7406-.2239-1.564-.8205-2.1596l-4.4318-4.4329c-.5961-.5956-1.419-.859-2.1596-.82-.7401.039-1.4118.3221-1.9955.7198l-3.7379,2.5487c-.9866-.494-2.0064-.9134-3.0551-1.2572l-.8441-4.4545c-.1315-.6944-.4069-1.3686-.9029-1.9198-.4959-.5509-1.2629-.9476-2.1056-.9476L57.3649,25Zm3.1352,17.7026c5.9756,0,10.7954,4.8209,10.7954,10.7966c0,5.9752-4.82,10.7961-10.7954,10.7966-5.9756,0-10.7964-4.8209-10.7964-10.7966c0-5.9761,4.8208-10.7966,10.7964-10.7966Z",transform:"translate(-60.5,-53.5)",fill:"#7e9bfa"})})})]}),j2="dhbkz5x-docs-svg-style",b2="o1em0cms-offset-style-one",w2="o1juy2tl-offset-style-two",C2=({isAnimated:o})=>t.jsx("svg",{className:ee(o&&j2,_i),id:"e7CDlwhB8m51",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",height:"140px",children:t.jsxs("g",{clipPath:"url(#e7CDlwhB8m525)",children:[t.jsxs("g",{children:[t.jsx("g",{id:"app-listing-docs-one",transform:"translate(69.99835,61.58215)",children:t.jsx("path",{d:"M119.024,61.4515L69.9983,44.21L20.9727,61.4515L69.9983,78.9543L119.024,61.4515Z",transform:"translate(-69.99835,-61.58215)",fill:"#798da1"})}),t.jsx("g",{id:"app-listing-docs-two",transform:"translate(94.509052,61.58215)",children:t.jsx("path",{d:"M119.022,61.4515L69.9961,44.21v34.7443L119.022,61.4515Z",transform:"translate(-94.509052,-61.58215)",fill:"#9faebc"})}),t.jsxs("g",{transform:"translate(.000001 0)",children:[t.jsxs("g",{transform:"translate(.000001 0)",children:[t.jsx("path",{d:"M88.5528,8.83691h-38.2352c-3.7098,0-6.7278,3.07939-6.7278,6.86359v82.1929c0,3.7846,3.018,6.8636,6.7278,6.8636h38.2352c3.7098,0,6.7286-3.079,6.7286-6.8636v-82.1929c0-3.7842-3.0188-6.86359-6.7286-6.86359v0Z",fill:"#506478"}),t.jsx("path",{d:"M88.529,12.8105h-5.6823c-.5361,0-.9703.4429-.9703.9889c0,1.3117-1.0515,2.3843-2.3365,2.3843h-20.2552c-1.2859,0-2.3374-1.0726-2.3374-2.3843c0-.546-.4341-.9889-.9703-.9889h-5.6823c-1.5652,0-2.8338,1.2941-2.8338,2.8898v64.8486h43.9019v-64.8486c0-1.5957-1.2686-2.8898-2.8338-2.8898Z",fill:"#fff"})]}),t.jsxs("g",{transform:"translate(0 0.000001)",children:[t.jsx("path",{d:"M50.8828,45.4146l18.576-18.2154l18.576,18.2154v25.1546h-37.152v-25.1546Z",fill:"#506478"}),t.jsx("path",{d:"M50.8828,45.4146l18.576-18.2154l18.576,18.2154v14.3121L50.8828,45.4146Z",fill:"#d8dee4"}),t.jsx("path",{d:"M88.036,70.5692h-10.8737L61.7578,34.7519L69.46,27.1992L88.036,45.4146v25.1546Z",fill:"#9faebc"}),t.jsx("path",{d:"M88.036,45.4146v14.3121L69.46,52.6606L61.7578,34.7519L69.46,27.1992L88.036,45.4146Z",fill:"#7e9bfa"})]})]}),t.jsx("g",{id:"app-listing-docs-three",transform:"translate(69.649327,82.061558)",children:t.jsxs("g",{transform:"translate(-69.649326,-79.061558)",children:[t.jsx("path",{d:"M70.011522,75.96449c-.190118.78125-.061612,3.42125,0,5.28l3.903961-3.524822-3.903961-1.755178Z",transform:"translate(.000001 0.000003)",fill:"#506478",strokeWidth:"0.28"}),t.jsx("path",{d:"M69.992961,76.053166l-.017109,5.286723l3.95674-3.620221-3.939631-1.666502Z",transform:"matrix(-1.168966 0 0-1.168966 151.807857 171.062202)",fill:"#607890",strokeWidth:"0.28"})]})}),t.jsx("path",{d:"M69.9983,79.0023L20.9727,61.4512v63.1168l49.0256,15.777v-61.3427Z",fill:"#607890"}),t.jsx("path",{d:"M119.022,124.568v-63.1168L69.9961,79.0023v61.3427l49.0259-15.777Z",fill:"#506478"}),t.jsx("g",{id:"app-listing-docs-four",transform:"translate(36.9986,80.849051)",children:t.jsx("path",{d:"M20.9715,61.4521L4,81.8288L53.9483,100.246L69.9972,78.955L20.9715,61.4521Z",transform:"translate(-36.9986,-80.849051)",fill:"#d8dee4"})}),t.jsx("g",{id:"app-listing-docs-five",transform:"translate(102.997547,80.848101)",children:t.jsx("path",{d:"M119.022,61.4512l16.977,20.3766L86.0506,100.245L69.9961,78.954L119.022,61.4512Z",transform:"translate(-102.997547,-80.848101)",fill:"#798da1"})}),t.jsx("g",{id:"app-listing-docs-six",transform:"translate(89.264528,45.746041)",children:t.jsx("g",{id:"app-listing-docs-seven",transform:"rotate(-67.423922)",children:t.jsx("g",{id:"app-listing-docs-eight",transform:"skewX(-1.018603) skewY(0) scale(1,0.999842)",children:t.jsx("rect",{width:"12.6821",height:"12.724",rx:"3",ry:"3",transform:"translate(-6.34105,-6.362)",fill:"#ffe5c7"})})})}),t.jsx("g",{id:"app-listing-docs-nine",className:b2,children:t.jsx("g",{id:"app-listing-docs-ten",transform:"rotate(-25.945515)",children:t.jsx("g",{id:"app-listing-docs-eleven",transform:"skewX(0.740377) skewY(0) scale(0.999999,0.999917)",children:t.jsx("rect",{width:"25.2093",height:"25.3778",rx:"5",ry:"5",transform:"translate(-12.60465,-12.6889)",fill:"#7e9bfa"})})})}),t.jsx("g",{id:"app-listing-docs-twelve",className:w2,children:t.jsx("g",{id:"app-listing-docs-thirteen",transform:"rotate(18.101295)",children:t.jsx("g",{id:"app-listing-docs-fourteen",transform:"skewX(0.486255) skewY(0) scale(1,0.999964)",children:t.jsx("rect",{width:"9.83494",height:"9.95171",rx:"2",ry:"2",transform:"translate(-4.91747,-4.975855)",fill:"#ffe5c7"})})})})]}),t.jsx("clipPath",{id:"e7CDlwhB8m525",children:t.jsx("rect",{width:"140",height:"140",rx:"0",ry:"0",fill:"#fff"})})]})}),_2=o=>a=>{a.preventDefault(),a.stopPropagation(),o()},Ya=(o,a)=>()=>{o(a)},k2=()=>{const{appsDataState:o,appEditState:a}=we(),[s,m]=V.useState(!1),[g,x]=V.useState(!1),{Modal:y,openModal:b,closeModal:S}=Be(),I=o.appDetail??{},{appUnsavedFields:E,appIncompleteFields:A}=a;return t.jsxs(t.Fragment,{children:[t.jsxs(pr,{children:[t.jsxs(Fa,{children:[t.jsx(v2,{isAnimated:s}),t.jsx(de,{children:"Manage App Listing"}),t.jsx(w,{hasGreyText:!0,children:"This page is the starting point for completing your app listing, and initiating the approvals process for your app to go live with customer data."}),t.jsx(w,{hasGreyText:!0,children:"As an app developer, you need to provide us with a number of pieces of information about your integration and have it approved by our team, prior to going live with customer data. For apps that wish to integrate with the AgencyCloud CRM, and be publicly listed in the AppMarket, the approvals process is more involved than for simple server-side or single customer private apps. Regardless of your target audience, you should start to complete your app listing as soon as possible."}),t.jsx(w,{hasGreyText:!0,children:"You can check the status of your app listing at any time by using the button below, prior to submitting for approval."}),t.jsx(M,{intent:"primary",onMouseEnter:Ya(m,!0),onMouseLeave:Ya(m,!1),onClick:_2(b),children:"Check Status"})]}),t.jsxs(Fa,{children:[t.jsx(C2,{isAnimated:g}),t.jsx(de,{children:"App Listing Documentation"}),t.jsx(w,{hasGreyText:!0,children:"As you make changes, you should save your changes in the left hand side menu. You can do this as many times as you like until your app is listed, or live in the AppMarket."}),t.jsxs(w,{hasGreyText:!0,children:["When you are ready for your app to be reviewed by a member of our team, click the \u2018Submit Review\u2019 button. If you are looking for guidance on what we look for when reviewing app, there is a dedicated page ",t.jsx("a",{onClick:ne(re.reviewingAppDocs),children:"here."})]}),t.jsx(w,{hasGreyText:!0,children:"When your app is live, you will need to create revisions to your app for our team to review. You can only have one live revision outstanding at any given time."}),t.jsx(w,{hasGreyText:!0,children:"For guidelines on completing your app listing, visit the documentation link below before getting started."}),t.jsx(M,{intent:"default",onMouseEnter:Ya(x,!0),onMouseLeave:Ya(x,!1),onClick:ne(re.listingAppDocs),children:"View Docs"})]})]}),t.jsxs(y,{title:"App Listing Status",children:[t.jsxs("div",{className:Le,children:[t.jsx(w,{hasNoMargin:!0,children:"Integration Type"}),t.jsx(w,{hasGreyText:!0,children:Tu(I)}),t.jsx(w,{hasNoMargin:!0,children:"AppMarket Status"}),t.jsx(w,{hasGreyText:!0,children:Au(I)}),t.jsx(w,{hasNoMargin:!0,children:"App Listing Status"}),A.length?t.jsxs("div",{className:wi,children:[t.jsx(w,{hasGreyText:!0,children:"The following fields in your app listing must be completed before you can submit for review:"}),A.map(j=>t.jsx(yo,{children:fr[j].label},j))]}):t.jsx(w,{hasGreyText:!0,children:"Your app listing data is complete and you can submit for review at any time."}),t.jsx(w,{hasNoMargin:!0,children:"Unsaved Changes"}),Object.keys(E).length?t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"The following fields have been edited, save to avoid losing data:"}),Object.keys(E).map(j=>t.jsx(yo,{children:fr[j].label},j))]}):t.jsx(w,{hasGreyText:!0,children:"You have no unsaved changes to your app listing"})]}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:S,children:"Close"})})]})]})},S2=({register:o,errors:a,control:s})=>{var L,N,R,W,G,q,Q;const{appEditState:m}=we(),{appEditForm:g}=m,[x,y]=_n({reapitConnectBrowserSession:K,action:fn[gn.getAppPermissions]}),[b,S]=_n({reapitConnectBrowserSession:K,action:fn[gn.getProducts]}),I=Wa({control:s,name:"isPrivateApp"}),{scopes:E,products:A,isPrivateApp:j,limitToClientIds:P}=fr,U=x==null?void 0:x.filter(X=>{var H;return!((H=X.name)!=null&&H.includes("payment"))});return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Permissions are registered as scopes against the access token you receive back from one of our Authentication Flows. They map 1:1 and on a read/write basis to endpoints in our Platform REST API. As such, it is worth looking at the"," ",t.jsxs(Ua,{to:le.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"before proceeding, to investigate which permissions you think you will need."]}),y&&t.jsx(pn,{}),t.jsx(ut,{hasMargin:!0,children:U&&t.jsx(Kn,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:E.label}),t.jsx(ki,{id:"app-edit-scopes-select",...E,...o("scopes"),options:U.map(({name:X,description:H})=>({name:H,value:X})),defaultValues:g.scopes.split(",").filter(Boolean)}),((L=a.scopes)==null?void 0:L.message)&&t.jsx(Pe,{message:(N=a.scopes)==null?void 0:N.message})]})})}),t.jsx(w,{hasGreyText:!0,children:"This section refers to products that are available within the Reapit Group of Companies. For UK based developers, this will typically default to Agency Cloud however, as we launch the Reapit AppMarket in other countries and with different products, you may wish for your application to list in these alternative AppMarkets. You can select more than one option but at least one option must be selected."}),S&&t.jsx(pn,{}),t.jsx(ut,{hasMargin:!0,children:(b==null?void 0:b.data)&&t.jsx(Kn,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:A.label}),t.jsx(ki,{id:"app-edit-products-select",...A,...o("products"),options:(R=b==null?void 0:b.data)==null?void 0:R.map(X=>({value:X.id??"",name:X.name??""})),defaultValues:g.products.split(",").filter(Boolean)}),((W=a.products)==null?void 0:W.message)&&t.jsx(Pe,{message:(G=a.products)==null?void 0:G.message})]})})}),t.jsxs(w,{hasGreyText:!0,children:["You should toggle \u2018Private App\u2019 if you only want your app to be private to a select group of customers (max of 3). Simply enter their \u2018Customer ID\u2019 as a comma separated list. For more information on how to find the Customer ID,"," ",t.jsx("a",{onClick:ne(re.customerIdFindDocs),children:" please see here."})]}),S&&t.jsx(pn,{}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:j.label}),t.jsxs(Jc,{id:"app-edit-is-private-app",...o("isPrivateApp"),hasGreyBg:!0,children:[t.jsx(za,{children:"Yes"}),t.jsx(za,{children:"No"})]})]})}),t.jsx(k0,{children:t.jsx(pe,{...P,...o("limitToClientIds"),disabled:!I,errorMessage:(q=a==null?void 0:a.limitToClientIds)==null?void 0:q.message,icon:(Q=a==null?void 0:a.limitToClientIds)!=null&&Q.message?"asterisk":null,intent:"danger"})})]})]})};var rn=(o=>(o.general="general",o.authentication="authentication",o.permissions="permissions",o.acIntegration="ac-integration",o.appListing="app-listing",o))(rn||{});const I2=o=>t.jsxs(lo,{children:[t.jsx(hn,{path:le.APPS_EDIT_AUTHENTICATION.split("edit/")[1],element:t.jsx(y2,{...o})}),t.jsx(hn,{path:le.APPS_EDIT_PERMISSIONS.split("edit/")[1],element:t.jsx(S2,{...o})}),t.jsx(hn,{path:le.APPS_EDIT_APP_LISTING.split("edit/")[1],element:t.jsx(m2,{...o})}),t.jsx(hn,{path:le.APPS_EDIT_AC_INTEGRATION.split("edit/")[1],element:t.jsx(u2,{...o})}),t.jsx(hn,{path:le.APPS_EDIT_GENERAL.split("edit/")[1],element:t.jsx(k2,{...o})})]}),A2={USER_SESSION:"authorisationCode",CLIENT_SECRET:"clientCredentials"},{USER_SESSION:Ha,CLIENT_SECRET:Ru}=A2,{FIELD_REQUIRED:et,MAXIMUM_CHARACTER_LENGTH:Ri,FIELD_WRONG_EMAIL_FORMAT:Nu}=Ke,{name:T2,telephone:bo,supportEmail:E2,launchUri:wo,iconImageUrl:P2,homePage:Mu,description:R2,summary:N2,screen1ImageUrl:M2,authFlow:Ni,scopes:Du,redirectUris:Uu,signoutUris:Lu,limitToClientIds:zu,isListed:Wn,termsAndConditionsUrl:Fu,privacyPolicyUrl:Ou,pricingUrl:Wu,isFree:D2,products:U2,videoUrl1:L2,videoUrl2:z2,launchWindowSizeX:F2,launchWindowSizeY:O2}=fr,qu=Xn().shape({[T2.name]:z().trim().required(et).max(100,Ri(100)).test(tn),[Wn.name]:V0(),[bo.name]:z().when(Wn.name,{is:!0,then:z().trim().required(et).matches(ou,bo.errorMessage).max(20,Ri(20)).test(tn),otherwise:z().trim().matches(ou,{excludeEmptyString:!0,message:bo.errorMessage}).max(20,Ri(20)).test(tn)}),[E2.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().required(et).matches(lu,Nu),otherwise:z().trim().matches(lu,{excludeEmptyString:!0,message:Nu})}),[wo.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().when(Ni.name,(o,a)=>o===Ha?a.required(Ke.FIELD_REQUIRED).test({name:"isValidLaunchUri",test:Ai,message:wo.errorMessage}):a),otherwise:z().notRequired()}).test({name:"isValidLaunchUri",message:wo.errorMessage,test:o=>o?Ai(o):!0}),[P2.name]:z().when(Wn.name,{is:!0,then:z().required(et),otherwise:z().notRequired()}),[M2.name]:z().when(Wn.name,{is:!0,then:z().required(et),otherwise:z().notRequired()}),[Mu.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().required(et),otherwise:z().notRequired()}).test({name:"isValidHomePage",message:Mu.errorMessage,test:o=>o?Ai(o)||Z0(o):!0}),[R2.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().required(et).min(150,Ke.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5)).max(2e5,Ke.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5)),otherwise:z().trim().test({name:"isValidDescription",message:Ke.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5),test:o=>o?o.length>=150&&o.length<=2e5:!0})}),[N2.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().required(et).min(50,Ke.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150)).max(150,Ke.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150)).test(tn),otherwise:z().trim().test({name:"isValidSummary",message:Ke.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150),test:o=>o?o.length>=50&&o.length<=150:!0}).test(tn)}),[Ni.name]:z().trim().required(et).oneOf([Ha,Ru]),[Du.name]:z().when(Ni.name,(o,a)=>o===Ru?a.required(Du.errorMessage):a),[Uu.name]:z().trim().when(Ni.name,(o,a)=>o===Ha?a.required(Ke.FIELD_REQUIRED).test({name:"isValidUrlWithCustomSchemeRedirectUris",test:cu,message:Uu.errorMessage}):a),[Lu.name]:z().trim().when(Ni.name,(o,a)=>o===Ha?a.required(Ke.FIELD_REQUIRED).test({name:"isValidUrlWithCustomSchemeSignoutUris",test:cu,message:Lu.errorMessage}):a),[zu.name]:z().trim().test({name:"isValidLimitToClientIds",test:o=>o?$0(o):!0,message:zu.errorMessage}).test(tn),[Fu.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().required(et),otherwise:z().notRequired()}).test({name:"isValidTermsAndConditionsUrl",message:Fu.errorMessage,test:o=>o?Ti(o):!0}),[Ou.name]:z().trim().when(Wn.name,{is:!0,then:z().trim().required(et),otherwise:z().notRequired()}).test({name:"isValidPrivacyPolicyUrl",message:Ou.errorMessage,test:o=>o?Ti(o):!0}),[Wu.name]:z().trim().when([D2.name,Wn.name],{is:(o,a)=>!o&&a,then:o=>o.required("Required if not free")}).test({name:"isValidPricingUrl",message:Wu.errorMessage,test:o=>o?Ti(o):!0}),[L2.name]:z().trim().test({name:"isValidVideo1",message:"Video needs to be a valid https url",test:o=>o?Ti(o):!0}),[z2.name]:z().trim().test({name:"isValidVideo2",message:"Video needs to be a valid https url",test:o=>o?Ti(o):!0}),[U2.name]:z().required("At least one product must be selected"),[F2.name]:z().trim().max(4,Ri(4)).test(tn),[O2.name]:z().trim().max(4,Ri(4)).test(tn)}),W2=(o,a)=>()=>{(async()=>{var s;try{await qu.validate({...o,isListed:!0},{abortEarly:!1}),a([])}catch(m){const g=(s=m==null?void 0:m.inner)==null?void 0:s.reduce((x,y)=>(x.includes(y.path)||x.push(y.path),x),[]);a(g)}})().catch(s=>console.error(s))},q2=(o,a,s)=>{var S;const{isListed:m,scopes:g}=a,x=o==null?void 0:o.isListed,y=(S=o==null?void 0:o.scopes)==null?void 0:S.map(I=>I.name),b=!!(g!=null&&g.filter(I=>!(y!=null&&y.includes(I))).length);return!!(m&&x&&b&&s)},B2=(o,a,s)=>{var S,I;const m=a==null?void 0:a.isListed,g=(S=a==null?void 0:a.scopes)==null?void 0:S.map(E=>E.name),x=o==null?void 0:o.isListed,y=(I=o==null?void 0:o.scopes)==null?void 0:I.map(E=>E.name),b=!!(g!=null&&g.filter(E=>!(y!=null&&y.includes(E))).length);return!!(m&&x&&b&&s)},V2=(o,a)=>()=>{a(o)},G2=(o,a)=>()=>{o&&a(o)},Y2=(o,a,s)=>()=>{s.isRevalidating&&(o("isListed",s.isListed,{shouldValidate:!0}),a({...s,isRevalidating:!1,isSaving:!0}))},H2=(o,a,s,m,g,x,y,b,S,I)=>()=>{a.isSaving&&s(async E=>{const A=xu(E),j=await m(A);o({isListed:E.isListed,isRevalidating:!1,isSaving:!1}),j&&(x(),y(),g()),q2(b,A,I)&&S()})()},Z2=(o,a,s)=>async()=>{o({actionedBy:s}),a()},$2=()=>{var Ge;const{appId:o}=Gr(),{appEditState:a,setAppId:s,appsDataState:m}=we(),{globalDataState:g}=Hr(),{appEditForm:x,setAppEditSaving:y,appEditSaving:b,setAppUnsavedFields:S,setIncompleteFields:I,appHasInstallations:E}=a,{appsRefresh:A,appsDetailRefresh:j,appRefreshRevisions:P,appDetail:U,appRevisions:L}=m,N=L!=null&&L.data?L.data[0]:null,R=(Ge=g==null?void 0:g.currentDeveloper)==null?void 0:Ge.email,{Modal:W,openModal:G,closeModal:q}=Be(),[,,Q]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createAppRevsion],method:"POST",uriParams:{appId:o},returnType:Zr.LOCATION}),[,,X]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createConsentEmails],method:"POST",uriParams:{appId:o,revisionId:N==null?void 0:N.id}}),{register:H,handleSubmit:me,control:ie,getValues:Se,setValue:_e,reset:Oe,formState:{errors:kn,dirtyFields:an}}=gr({resolver:mr(qu),delayError:500,mode:"onChange",reValidateMode:"onBlur",defaultValues:{...x}}),sn=Object.keys(an).length;return V.useEffect(Kr(s,o),[o]),V.useEffect(G2(an,S),[sn]),V.useEffect(W2(Se(),I),[sn]),V.useEffect(V2(x,Oe),[x]),V.useEffect(Y2(_e,y,b),[b]),V.useEffect(H2(y,b,me,Q,A,j,P,U,G,E),[b]),t.jsxs("form",{children:[t.jsx(I2,{register:H,errors:kn,control:ie,getValues:Se}),t.jsxs(W,{title:"Additional Permissions Requested",children:[t.jsx(w,{hasGreyText:!0,children:"As you have asked for additional permissions for your application and it is currently live and in use, we will need the consent of all clients that have installed your app before we can approve."}),t.jsx(w,{hasGreyText:!0,children:"By sending the request below, we will email the person that installed your app, requesting that they agree to the new permission(s). When all your installed customers have agreed to the new permissions, we will review your app revision as normal. If you choose not to send the request emails, we will do it for you as part of the review process."}),t.jsxs(w,{hasGreyText:!0,children:["If you do, you will be able to track the requests by selecting \u2018App Consents\u2019 on your app listing. For more information, please visit"," ",t.jsx("a",{onClick:ne(re.appPermissionsDocs),target:"_blank",rel:"noreferrer",children:"the docs here"}),"."]}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{onClick:q,intent:"default",children:"Close"}),t.jsx(M,{fixedWidth:!0,onClick:Z2(X,q,R),intent:"primary",children:"Send Requests"})]})]})]})},K2=(o,a)=>s=>{a&&o(`${le.APPS}/${a}/edit/${s.target.value}`)},Q2=()=>{const o=ot(),a=ur(),{appId:s}=Gr(),{appsDataState:m,setAppId:g}=we(),{isMobile:x}=Ht(),{Modal:y,openModal:b,closeModal:S}=Be();V.useEffect(Kr(g,s),[s]);const{appDetail:I,appDetailLoading:E}=m,{pathname:A}=a;return E?t.jsx(pn,{}):I?t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:I.name}),x&&t.jsxs(y,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:S,children:"Close"})})]}),t.jsx(eu,{isFullWidth:!0,name:"app-edit-tabs",onChange:K2(o,s),options:[{id:rn.general,value:rn.general,text:"About Listings",isChecked:A.includes(rn.general)||A===le.APPS_EDIT.replace(":appId",s??"")},{id:rn.appListing,value:rn.appListing,text:"AppMarket Listing",isChecked:A.includes(rn.appListing)},I.authFlow==="authorisationCode"&&{id:rn.authentication,value:rn.authentication,text:"Authentication",isChecked:A.includes(rn.authentication)},{id:rn.permissions,value:rn.permissions,text:"Permissions",isChecked:A.includes(rn.permissions)},I.authFlow==="authorisationCode"&&{id:rn.acIntegration,value:rn.acIntegration,text:"AgencyCloud Integration",isChecked:A.includes(rn.acIntegration)}].filter(Boolean)}),t.jsx($2,{}),t.jsx(Vr,{onClick:b})]}):t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found"})},X2=()=>{const o=ot(),{appId:a}=we(),[s,m]=V.useState(!1),[g,x]=V.useState(!1);return t.jsxs(pr,{children:[t.jsxs(Fa,{children:[t.jsx(uu,{className:_i,children:t.jsx(K0,{isAnimated:s})}),t.jsx(de,{children:"Pipeline Deployments"}),t.jsx(w,{hasGreyText:!0,children:"Pipelines are configurations used to deploy applications to our infrastructure. Think of them like a CI / CD runner like Github Actions, Travis or CircleCI"}),t.jsx(w,{hasGreyText:!0,children:"A Pipeline can be created via the developer portal or via our CLI NPM package."}),t.jsx(w,{hasGreyText:!0,children:"When you have created a pipeline for your app, you can either deploy it from the command line from a zip file, or by pulling directly from a Github or Bitbucket repo. This will give you a link to your deployed service in the Reapit Platform Cloud."}),t.jsx(M,{intent:"primary",onClick:Qn(o,le.APP_PIPELINE_NEW.replace(":appId",a)),onMouseOver:()=>{m(!0)},onMouseOut:()=>{m(!1)},children:"Create Pipeline"})]}),t.jsxs(Fa,{children:[t.jsx(uu,{className:_i,children:t.jsx(Q0,{isAnimated:g})}),t.jsx(de,{children:"Pipeline Documentation"}),t.jsx(w,{hasGreyText:!0,children:"For more on how to get started with Pipelines and deploying to Reapit infrastructure as a Service (IAAS), visit the doucmentation link below."}),t.jsx(w,{hasGreyText:!0,children:"Please note, this service is a public Alpha and there may be some reliabilty issues while we refine our processes. As such, for now you should only use our infra for internal testing, pre-production applications and non-mission critical services."}),t.jsx(M,{intent:"default",onClick:ne(re.pipelineDocs),onMouseOver:()=>{x(!0)},onMouseOut:()=>{x(!1)},children:"View Docs"})]})]})},Bu="f141c8gf-four-col-table",Vu=["DOWNLOAD_SOURCE","INSTALL","BUILD","TEST","DEPLOY"],J2=({tasks:o,s3BuildLogsLocation:a,buildStatus:s,created:m})=>{if(!o||!o.length)return t.jsx(It,{isInline:!0,isFullWidth:!0,isExpanded:!0,intent:"primary",children:"No progress reported for this deployment"});const g=m;g.setDate(1);const x=new Date().getTime()<g.getTime();return t.jsxs(t.Fragment,{children:[t.jsxs(Zt,{children:[t.jsxs(co,{className:Bu,children:[t.jsx(At,{children:"Task"}),t.jsx(At,{children:"Status"}),t.jsx(At,{children:"Started"}),t.jsx(At,{children:"Finished"})]}),o.sort((y,b)=>Vu.indexOf(y.functionName)-Vu.indexOf(b.functionName)).map(y=>t.jsxs(uo,{className:Bu,children:[t.jsx($t,{children:Oa(y.functionName)}),t.jsxs($t,{children:[t.jsx(Ii,{intent:ho(y.buildStatus)}),Oa(y.buildStatus)]}),t.jsx($t,{children:y.startTime?ju(y.startTime):"-"}),t.jsx($t,{children:y.endTime?ju(y.endTime):"-"})]},y.id))]}),t.jsx("div",{className:ee(po),children:t.jsx(M,{intent:"primary",disabled:!a||!["FAILED","SUCCEEDED"].includes(s)||x,onClick:()=>{a&&ne(a)()},children:x?"Logs Expired":a?"Download Logs":"Logs Unavailable"})})]})},ex=(o,a,s)=>()=>{s&&(a(),o(!1))},nx=(o,a)=>()=>{o&&o.items&&a(o.items)},tx=(o,a,s,m)=>g=>{var y;const x=(o==null?void 0:o.id)||m;!g||!x||((y=g.pipeline)==null?void 0:y.id)!==x||(a.length?s(a.map(b=>b.id===g.id?g:b)):s([g]))},rx=()=>{const[o,a]=V.useState(1),[s,m]=V.useState([]),{appPipelineState:g,appId:x}=we(),{connectSession:y}=Cn(K),{appPipeline:b,setAppPipelineDeploying:S,appPipelineDeploying:I,appPipelinePusherChannel:E}=g,[A,j,,P]=_n({reapitConnectBrowserSession:K,action:fn[gn.getPipelineDeployments],uriParams:{pipelineId:b==null?void 0:b.id},headers:{Authorization:y==null?void 0:y.idToken},fetchWhenTrue:[y==null?void 0:y.idToken],queryParams:{page:o}});return L0(E,"pipeline-runner-update",tx(b,s,m,x)),V.useEffect(nx(A,m),[A]),V.useEffect(ex(S,P,I),[I]),t.jsx(t.Fragment,{children:j?t.jsx(pn,{}):t.jsxs(t.Fragment,{children:[t.jsx(Zt,{className:en,rows:s.map(({type:U,created:L,buildStatus:N,buildVersion:R,currentlyDeployed:W,tasks:G,s3BuildLogsLocation:q})=>({cells:[{label:"Release Type",value:U?z0(U):"Unknown",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Created",value:L?vu(L):"-",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Status",value:"",children:t.jsxs(t.Fragment,{children:[t.jsx(Ii,{intent:ho(N)}),Oa(N)]}),cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Version",value:R,cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Currently Deployed",value:W?"Deployed":"Not Deployed",cellHasDarkText:!0,narrowTable:{showLabel:!0}}],expandableContent:{content:t.jsx(J2,{tasks:G,s3BuildLogsLocation:q,buildStatus:N,created:new Date(L)})}}))}),!A||A.items.length===0&&t.jsx(w,{hasGreyText:!0,children:"This pipeline has not yet been deployed."}),A&&A.items.length>=1&&t.jsx(oo,{currentPage:A.meta.currentPage,numberPages:A.meta.totalPages,callback:a})]})})},ix=o=>{switch(o){case"configure":return le.APP_PIPELINE_CONFIGURE;case"deployments":return le.APP_PIPELINE;case"environment":return le.APP_PIPELINE_ENVIRONMENT}},ax=(o,a)=>s=>{const m=s.target.value,g=ix(m);a&&o(g.replace(":appId",a))},Co=()=>{const o=ur(),a=ot(),{appId:s}=we(),{pathname:m}=o;return t.jsx(eu,{isFullWidth:!0,name:"pipeline-tabs",onChange:ax(a,s),options:[{id:"deployments",value:"deployments",text:"Deployments",isChecked:!m.includes("configure")&&!m.includes("environment")},{id:"configure",value:"configure",text:"Configure",isChecked:m.includes("configure")},{id:"environment",value:"environment",text:"Environment Variables",isChecked:m.includes("environment")}]})};var sx={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--page",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Gu=o=>{const a=sx.appEnv==="production",s=!o;if(s&&a)return"https://bitbucket.org/site/addons/authorize?addon_key=reapit";if(s)return"https://bitbucket.org/site/addons/authorize?addon_key=reapit-dev";if(o&&a)return"https://github.com/apps/reapit";if(o)return"https://github.com/apps/reapit-dev"},ox=()=>{var b,S,I,E,A,j;const{appPipelineState:o}=we(),{appPipeline:a}=o,s=`https://${a==null?void 0:a.subDomain}.iaas.paas.reapit.cloud`,m=!!((S=(b=a==null?void 0:a.repository)==null?void 0:b.repositoryUrl)!=null&&S.includes("github")),g=!!((E=(I=a==null?void 0:a.repository)==null?void 0:I.repositoryUrl)!=null&&E.includes("bitbucket")),x=!!((A=a==null?void 0:a.repository)!=null&&A.installationId),y=!!(a!=null&&a.bitbucketClientId);return t.jsxs(t.Fragment,{children:[t.jsx(Co,{}),t.jsxs(pr,{className:en,children:[t.jsx(Fe,{children:t.jsxs(be,{isFlexAlignCenter:!0,children:[t.jsx(ue,{className:ct,icon:"refreshInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Status"}),t.jsxs(w,{hasNoMargin:!0,hasGreyText:!0,children:[t.jsx(Ii,{intent:ho((a==null?void 0:a.buildStatus)??"")})," ",Oa((a==null?void 0:a.buildStatus)??"")]})]})]})}),t.jsx(Fe,{children:t.jsxs(be,{isFlexAlignCenter:!0,children:[t.jsx(ue,{className:ct,icon:"apiDocsInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Repository"}),t.jsxs(w,{hasNoMargin:!0,hasGreyText:!0,children:[t.jsx(Ii,{intent:m||g?"success":"danger"})," ",(j=a==null?void 0:a.repository)!=null&&j.repositoryUrl?t.jsx("a",{href:a.repository.repositoryUrl,target:"_blank",rel:"noreferrer",children:a.repository.repositoryUrl}):"Not configured"]})]})]})}),t.jsx(Fe,{children:t.jsxs(be,{isFlexAlignCenter:!0,children:[t.jsx(ue,{className:ct,icon:"globeInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Location"}),t.jsx(w,{hasNoMargin:!0,hasGreyText:!0,children:a!=null&&a.subDomain?t.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s}):"Awaiting provision request"})]})]})}),t.jsx(Fe,{children:t.jsxs(be,{isFlexAlignCenter:!0,children:[t.jsx(ue,{className:ct,icon:"webhooksInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Github / Bitbucket App"}),t.jsxs(be,{children:[t.jsx("div",{className:S0,children:t.jsx(Ii,{intent:m?x?"success":"critical":g?y?"success":"critical":"danger"})}),t.jsx(w,{hasNoMargin:!0,hasGreyText:!0,children:x?"Github app installed successfully":y?"Bitbucket app installed successfully":!m&&!g?"You need to confgure a repo before installing either the Github or Bitbucket app":t.jsxs(t.Fragment,{children:["To deploy from repos, configure either the Reapit"," ",t.jsx("a",{href:Gu(!0),target:"_blank",rel:"noreferrer",children:"Github"})," ","or"," ",t.jsx("a",{href:Gu(!1),target:"_blank",rel:"noreferrer",children:"Bitbucket"})," ","app."]})})]})]})]})})]}),t.jsx(rx,{})]})},lx=Xn().shape({name:z().required("Required - defaults to your app name").test(tn),branch:z().required('Required - eg "main", "master"').test(tn),repository:Xn().shape({repositoryUrl:z().trim().test({name:"isValidDescription",message:"Should be a secure https url if supplied",test:o=>o?su.test(o):!0}).test(tn)}),buildCommand:z().trim().required('A build command is required eg "build" or "bundle"').test(tn),packageManager:z().required("Required - Please select a package manager"),outDir:z().required('Required eg "dist" or "public').test(tn)}),cx=(o,a,s,m)=>async g=>{const x={...g,packageManager:g.packageManager===ft.YARN_BERRY?ft.YARN_BERRY:g.packageManager===ft.YARN?ft.YARN:ft.NPM,appId:m??"",appType:mu.REACT};x.repository||delete x.repository,await o(x)&&(a(!1),s())},ux=(o,a,s)=>()=>{s&&a&&o(le.APP_PIPELINE.replace(":appId",a))},dx=(o,a,s)=>()=>{a&&(o(),s(!1))},px=(o,a)=>{if(o){const{name:s,branch:m,repository:g,buildCommand:x,packageManager:y,outDir:b}=o;return{name:s,branch:m,repository:g,buildCommand:x,outDir:b,packageManager:y}}return{name:a==null?void 0:a.name,buildCommand:"build",outDir:"build",branch:"main",packageManager:ft.NPM}},Yu=()=>{var R,W,G,q,Q,X,H,me;const o=ot(),a=ur(),{connectSession:s}=Cn(K),{appPipelineState:m,appId:g,appsDataState:x}=we(),{appPipelineRefresh:y,appPipelineSaving:b,appPipeline:S,setAppPipelineSaving:I}=m,{appDetail:E}=x,{register:A,handleSubmit:j,formState:{errors:P}}=gr({resolver:mr(lx),defaultValues:px(S,E)}),[,,U,L]=Re({reapitConnectBrowserSession:K,action:Ue[S?Ne.updatePipeline:Ne.createPipeline],method:S?"PUT":"POST",uriParams:{pipelineId:g},headers:{Authorization:s==null?void 0:s.idToken}}),N=j(cx(U,I,y,g));return V.useEffect(ux(o,g,L),[L,g]),V.useEffect(dx(N,b,I),[b]),t.jsxs(t.Fragment,{children:[!a.pathname.includes("new")&&t.jsx(Co,{}),t.jsx(w,{hasGreyText:!0,children:"Tell us about how we should build your application here. We assume that your application is a front end app and that, it uses either yarn or npm to run scripts decalared in a package.json file. We assume also that your application is bundled and that bundle is output to a local directory that we can deploy for you."}),t.jsx("form",{children:t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Name"}),t.jsx(Tt,{...A("name")}),((R=P.name)==null?void 0:R.message)&&t.jsx(Pe,{message:P.name.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Deployment Branch"}),t.jsx(Tt,{...A("branch")}),((W=P.branch)==null?void 0:W.message)&&t.jsx(Pe,{message:P.branch.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Github Repository"}),t.jsx(Tt,{...A("repository.repositoryUrl"),placeholder:"https://github.com/org/repo"}),((q=(G=P.repository)==null?void 0:G.repositoryUrl)==null?void 0:q.message)&&t.jsx(Pe,{message:(Q=P.repository)==null?void 0:Q.repositoryUrl.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Package Manager"}),t.jsxs(I0,{id:"package-manager-select",...A("packageManager"),children:[t.jsx("option",{value:ft.NPM,children:"NPM"}),t.jsx("option",{value:ft.YARN,children:"YARN"}),t.jsx("option",{value:ft.YARN_BERRY,children:"YARN BERRY"})]}),((X=P.packageManager)==null?void 0:X.message)&&t.jsx(Pe,{message:P.packageManager.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Build Command"}),t.jsx(Tt,{...A("buildCommand")}),((H=P.buildCommand)==null?void 0:H.message)&&t.jsx(Pe,{message:P.buildCommand.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Build Directory"}),t.jsx(Tt,{...A("outDir")}),((me=P.outDir)==null?void 0:me.message)&&t.jsx(Pe,{message:P.outDir.message})]})})]})})]})},hx=Xn().shape({value:z().matches(/^\w+$/,"Can only container letters and underscores").required("Required - env needs a value")}),fx=({appId:o,connectSession:a,keyValue:s,isOpen:m})=>{var A,j;const[g,,x]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.upsertPipelineEnvironment],uriParams:{pipelineId:o},method:"PUT",headers:{Authorization:a==null?void 0:a.idToken}}),{register:y,handleSubmit:b,formState:{errors:S},reset:I}=gr({resolver:mr(hx)}),E=b(async P=>{await x({key:s,value:P.value})&&I()});return t.jsx(A0,{isOpen:m,children:t.jsx("div",{className:ee(wi,po),children:t.jsxs("form",{onSubmit:E,children:[t.jsx(de,{children:"Update Environment Variable"}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Key"}),t.jsx(Tt,{...y("key"),value:s||"",disabled:!0}),((A=S.key)==null?void 0:A.message)&&t.jsx(Pe,{message:S.key.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Value"}),t.jsx(Tt,{...y("value")}),((j=S.value)==null?void 0:j.message)&&t.jsx(Pe,{message:S.value.message})]})})]}),t.jsx(oe,{alignment:"center",children:t.jsx(M,{loading:g,disabled:g,intent:"primary",children:"Save"})})]})})})},gx=Xn().shape({key:z().matches(/^[a-zA-Z_]+$/,"Can only container letters and underscores").notOneOf([G0("existingKeys")],"Key already exists").required("Required - key cannot be blank"),value:z().required("Required - env needs a value").matches(/^[a-zA-Z0-9\-_]+$/,"Can only container letters, numbers, underscores and hyphens"),existingKeys:Y0()}),mx=()=>{var H,me;const{connectSession:o}=Cn(K),{appId:a}=we(),{Modal:s,openModal:m,closeModal:g}=Be(),[x,y]=V.useState([]),[b,S]=V.useState(!1),[I,E]=V.useState([]),[A,j]=_n({reapitConnectBrowserSession:K,action:fn[gn.getPipelineEnvironment],uriParams:{pipelineId:a},headers:{Authorization:o==null?void 0:o.idToken},fetchWhenTrue:[o==null?void 0:o.idToken]}),[P,,U]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.upsertPipelineEnvironment],uriParams:{pipelineId:a},method:"PUT",headers:{Authorization:o==null?void 0:o.idToken}}),[L,,N]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.deletePipelineEnvironment],uriParams:{pipelineId:a},method:"DELETE",headers:{Authorization:o==null?void 0:o.idToken}}),{register:R,handleSubmit:W,formState:{errors:G},setValue:q,resetField:Q}=gr({resolver:mr(gx),defaultValues:{existingKeys:[]}});V.useEffect(()=>{A&&(y(A),q("existingKeys",A))},[A]);const X=W(async({key:ie,value:Se,existingKeys:_e})=>{await U({key:ie,value:Se,existingKeys:_e})&&(Q("key"),Q("value"),g(),y([...x,ie]))});return t.jsxs(t.Fragment,{children:[t.jsx(Co,{}),t.jsx(w,{hasGreyText:!0,children:"You can add your Environment variables for your application here. If you supply any key value pair we will write them to the process.ENV object at compile time when building your app."}),t.jsx(w,{hasGreyText:!0,children:"All variables are stored in a secure and encrypted format however, if you are building a web app environment variables are inherently insecure. As such, you should only store values that can be exposed on the client side."}),t.jsx(w,{hasGreyText:!0,children:"Currently we do not surface your variables over an API when you have stored them for security reasons. If you need to confirm a variable value, we would advise updating it and re-deploying your app."}),j?t.jsx(pn,{}):t.jsxs(t.Fragment,{children:[x.length?t.jsxs(Zt,{className:en,children:[t.jsxs(co,{children:[t.jsx(At,{children:"Variable Key"}),t.jsx(At,{children:"Update Variable"})]}),x.map(ie=>t.jsxs(nu,{children:[t.jsxs(uo,{children:[t.jsx($t,{children:ie}),t.jsx($t,{children:t.jsxs(oe,{children:[t.jsx(M,{intent:"default",onClick:()=>{Q("key"),Q("value"),S(ie===b?!1:ie)},children:"Update"}),t.jsx(M,{intent:"danger",loading:L&&I.includes(ie),disabled:L&&I.includes(ie),onClick:async()=>{E([...I,ie]),await N(void 0,{uriParams:{key:ie}}),E(I.filter(Se=>Se!==ie)),y(x.filter(Se=>Se!==ie))},children:"Delete"})]})})]}),t.jsx(fx,{appId:a,connectSession:o,keyValue:ie,isOpen:typeof b=="string"&&ie===b})]},ie))]}):t.jsx(It,{className:en,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No environment variables currently configured for your pipeline. You can create an environment variable below."}),t.jsx(oe,{alignment:"left",children:t.jsx(M,{intent:"primary",onClick:m,children:"Create Environment Variable"})})]}),t.jsx(s,{title:"Add new Environment Variable",className:ee(wi,po),children:t.jsxs("form",{onSubmit:X,children:[t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Key"}),t.jsx(Tt,{...R("key")}),((H=G.key)==null?void 0:H.message)&&t.jsx(Pe,{message:G.key.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(nn,{children:"Value"}),t.jsx(Tt,{...R("value")}),((me=G.value)==null?void 0:me.message)&&t.jsx(Pe,{message:G.value.message})]})})]}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{intent:"default",onClick:g,children:"Close"}),t.jsx(M,{intent:"primary",type:"submit",disabled:P,loading:P,children:"Create"})]})]})})]})},yx=()=>{const o=ur(),{connectSession:a}=Cn(K),{appsDataState:s,appPipelineState:m}=we(),{isMobile:g}=Ht(),{Modal:x,openModal:y,closeModal:b}=Be(),{pathname:S}=o,{appDetail:I,appDetailLoading:E}=s,{appPipeline:A,appPipelineLoading:j}=m,P=S.includes("configure")?"configure":S.includes("environment")?"environment":"deployments";return t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"App Pipeline"}),g&&t.jsxs(x,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:b,children:"Close"})})]}),j||!a||E?t.jsx(pn,{}):!A&&I?t.jsx(X2,{}):A&&I?t.jsx(t.Fragment,{children:P==="configure"?t.jsx(Yu,{}):P==="deployments"?t.jsx(ox,{}):t.jsx(mx,{})}):t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found, please select an app from the My Apps page."}),t.jsx(Vr,{onClick:y})]})},xx=()=>{const{isMobile:o}=Ht(),{Modal:a,openModal:s,closeModal:m}=Be();return t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"New Pipeline"}),o&&t.jsxs(a,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:m,children:"Close"})})]}),t.jsx(Yu,{}),t.jsx(Vr,{buttonOnClick:s})]})},vx=o=>()=>{const a=setTimeout(()=>{o(!1)},1e4);return()=>clearTimeout(a)},jx=(o,a)=>()=>{o(!a)},bx=()=>{const{setAppId:o}=we(),[a,s]=V.useState(!0),{appId:m}=Gr();return V.useEffect(Kr(o,m),[m]),V.useEffect(vx(s),[]),t.jsxs(fo,{children:[t.jsxs(It,{onClick:jx(s,a),isExpanded:a,intent:"primary",children:["Pipelines are in public beta and under active development. Please give us feeback and report bugs via"," ",t.jsx("a",{href:re.iaasBugs,target:"_blank",rel:"noopener noreferrer",children:"Github"})," ","or"," ",t.jsx("a",{href:"mailto:iaasbeta@reapitfoundations.zendesk.com?subject=IAAS%20Beta",target:"_blank",rel:"noopener noreferrer",children:"email."})]}),t.jsxs(lo,{children:[t.jsx(hn,{path:le.APP_PIPELINE_NEW.split("pipeline/")[1],element:t.jsx(xx,{})}),t.jsx(hn,{path:"*",element:t.jsx(yx,{})})]})]})},wx=({offices:o})=>t.jsxs("div",{className:T0,children:[t.jsx(de,{children:"Total Offices"}),t.jsx(w,{hasGreyText:!0,children:o.length}),t.jsxs(Zt,{className:en,"data-num-columns-excl-action-col":"2","data-has-expandable-action":"false",children:[t.jsxs(co,{children:[t.jsx(At,{children:"Office Name"}),t.jsx(At,{children:"Office ID"}),t.jsx(At,{})]}),o.map(({name:a,id:s})=>t.jsx(nu,{children:t.jsxs(uo,{children:[t.jsx($t,{children:a}),t.jsx($t,{children:s})]})},s))]})]}),Cx=Xn().shape({appId:z().trim().required(Ke.FIELD_REQUIRED),terminatedBy:z(),terminatedReason:z().trim().required(Ke.FIELD_REQUIRED).min(10,"Must be a minimum of 10 characters").test(tn),terminatesOn:z().trim().required(Ke.FIELD_REQUIRED)}),_x=(o,a,s)=>async m=>{await a({...m,terminatedBy:o})&&s(null)},kx=(o,a,s)=>()=>{s&&(o(),a())},Sx=(o,a,s)=>()=>{s&&(a(),o(s))},Ix=(o,a)=>()=>{o(a)},Ax=()=>{var _e,Oe;const{appId:o}=Gr(),{setAppId:a}=we(),[s,m]=V.useState(null),[g,x]=V.useState(null),[y,b]=V.useState(1),{connectSession:S}=Cn(K),{Modal:I,openModal:E,closeModal:A}=Be(),{Modal:j,openModal:P,closeModal:U}=Be(),{isMobile:L}=Ht(),N=S==null?void 0:S.loginIdentity.developerId,R=(S==null?void 0:S.loginIdentity.email)??"",[W,G,,q]=_n({reapitConnectBrowserSession:K,action:fn[gn.getInstallations],queryParams:{appId:o,pageNumber:y,pageSize:12,isInstalled:!0,developerId:N},fetchWhenTrue:[N]}),[Q,,X,H]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.terminateInstallation],uriParams:{installationId:s}}),{register:me,handleSubmit:ie,formState:{errors:Se}}=gr({resolver:mr(Cx),defaultValues:{appId:o,terminatedBy:"",terminatedReason:"",terminatesOn:new Date().toISOString()}});return V.useEffect(Kr(a,o),[o]),V.useEffect(kx(q,A,H),[H]),t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"Installations"}),L&&t.jsxs(j,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(oe,{alignment:"right",children:t.jsx(M,{intent:"default",onClick:U,children:"Close"})})]}),G?t.jsx(pn,{}):W!=null&&W.totalCount?t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["The table below gives you the information you need to understand Reapit Client organisations that have installed your application for use. In addition, you can force terminate a customer installation by using the call to action on each row. For more information on the installations table",t.jsx("a",{onClick:ne(re.installationsTableDocs),children:" see here"}),"."]}),t.jsx(Zt,{className:en,rows:(_e=W==null?void 0:W.data)==null?void 0:_e.map(({customerName:kn,appName:an,client:sn,customerAddress:Ge,created:on,installedBy:ln,id:Qt,officeGroup:Qe})=>{var Ye;return{cells:[{label:"Customer Name",value:kn??"",icon:"flatInfographic",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Reapit Customer Code",value:sn??"",narrowTable:{showLabel:!0}},{label:"Customer Address",value:ry(Ge),narrowTable:{showLabel:!0}},{label:"Date Installed",value:Ci(on).format("DD-MM-YYYY"),narrowTable:{showLabel:!0}},{label:"Installed By",value:t.jsx("a",{href:`mailto:${ln}?subject=Your%20recent%20installation%20of%20${an}%20in%20the%20Reapit%20AppMarket`,target:"_blank",rel:"noreferrer",children:ln}),narrowTable:{showLabel:!0}}],expandableContent:{content:t.jsxs(t.Fragment,{children:[t.jsxs(oe,{alignment:"center",children:[(Ye=Qe==null?void 0:Qe.offices)!=null&&Ye.length?t.jsx(M,{intent:"primary",onClick:Ix(x,Qe.offices),children:"Show Installed Offices"}):null,t.jsx(M,{type:"button",intent:"danger",onClick:Sx(m,E,Qt),children:"Uninstall"})]}),g&&(Qe==null?void 0:Qe.offices)===g&&t.jsx(wx,{offices:g})]})}}})}),t.jsx(oo,{callback:b,currentPage:y,numberPages:Math.ceil(((W==null?void 0:W.totalCount)??1)/12)}),t.jsxs(I,{title:"Confirm Uninstallation",children:[t.jsx(w,{children:"Please provide a reason for terminating this installation"}),t.jsxs("form",{onSubmit:ie(_x(R,X,m)),children:[t.jsx(ut,{hasMargin:!0,children:t.jsx(Kn,{children:t.jsx(pe,{label:"Uninstallation Reason",type:"text",...me("terminatedReason"),inputAddOnText:(Oe=Se.terminatedReason)==null?void 0:Oe.message,intent:"danger"})})}),t.jsxs(oe,{alignment:"right",children:[t.jsx(M,{intent:"default",type:"button",onClick:A,children:"Close"}),t.jsx(M,{disabled:Q,loading:Q,intent:"danger",type:"submit",children:"Uninstall"})]})]})]})]}):W?t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No installations for the application."}):null,t.jsx(Vr,{onClick:P})]})},Tx=(o,a,s,m,g)=>()=>{m&&(async()=>{const x=await o({actionedBy:g});a(null),x&&s()})().catch(x=>console.error(x))},Ex=(o,a)=>()=>{a&&o(a)},Px=(o,a,s)=>async()=>{await o({actionedBy:s})&&a()},Rx=()=>{const{globalDataState:o}=Hr(),[a,s]=V.useState(null),{appsDataState:m,setAppId:g}=we(),{currentDeveloper:x}=o,y=x==null?void 0:x.id,b=x==null?void 0:x.email,{appId:S}=Gr();V.useEffect(Kr(g,S),[S]);const{appDetail:I,appRevisions:E}=m,{name:A}=I??{},j=E!=null&&E.data?E.data[0]:null,[P,U,,L]=_n({reapitConnectBrowserSession:K,action:fn[gn.getRevisionConsents],uriParams:{appId:S,revisionId:j==null?void 0:j.id},fetchWhenTrue:[S,j,I==null?void 0:I.pendingRevisions,I==null?void 0:I.isListed]}),[,,N]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.createConsentEmails],method:"POST",uriParams:{appId:S,revisionId:j==null?void 0:j.id}}),[R]=_n({reapitConnectBrowserSession:K,action:fn[gn.getInstallations],queryParams:{appId:S,pageNumber:1,pageSize:999,isInstalled:!0,developerId:y},fetchWhenTrue:[y]}),[,,W]=Re({reapitConnectBrowserSession:K,action:Ue[Ne.resendConsentEmail],method:"POST",uriParams:{appId:S,revisionId:j==null?void 0:j.id,consentId:a}});return V.useEffect(Tx(W,s,L,a,b),[a]),t.jsx(t.Fragment,{children:U||!P?t.jsx(pn,{}):P.length?t.jsxs(t.Fragment,{children:[t.jsxs(Zn,{children:[A," Consents"]}),t.jsx(Zt,{numberColumns:6,rows:P.map(G=>{var q,Q,X,H;return{cells:[{label:"Client",value:(Q=(q=R==null?void 0:R.data)==null?void 0:q.find(me=>me.id===G.installationId))==null?void 0:Q.customerName,icon:"property",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Email",value:G.installedBy,narrowTable:{showLabel:!0}},{label:"Date Sent",value:Ci(G.sentDate).format("DD/MM/YYYY HH:mm"),narrowTable:{showLabel:!0}},{label:"Status",value:`${(X=G.status)==null?void 0:X.charAt(0).toUpperCase()}${(H=G.status)==null?void 0:H.slice(1)}`,narrowTable:{showLabel:!0}},{label:"Date Accepted",value:G.approvalDate?Ci(G.approvalDate).format("DD/MM/YYYY HH:mm"):"-",narrowTable:{showLabel:!0}}],ctaContent:{headerContent:"Resend Email",icon:"email",onClick:Ex(s,G.id)}}})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Zn,{children:[A," Consents"]}),t.jsx(It,{className:en,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of any consents for this app - it looks like you need to send an email requesting that your customers agree to your new permission settings. You can do this below or our team will do it as part of the review process."}),t.jsx(oe,{alignment:"left",children:t.jsx(M,{fixedWidth:!0,onClick:Px(N,L,b),intent:"primary",children:"Send Requests"})})]})})};var Nx={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--page",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Mx=()=>{const o=ot(),a=ur(),{pathname:s}=a,{appsDataState:m,appId:g,appEditState:x}=we(),{globalDataState:y}=Hr(),{currentDeveloper:b}=y,{appLatestRevision:S,appHasInstallations:I}=x,{apps:E,appsLoading:A,appDetail:j}=m,{isAppsList:P,isAppsNew:U,isAppsWelcome:L,isAppsEdit:N,isAppsDetail:R,isAppsInstallations:W,isAppPipelines:G,isAppConsents:q}=hu(s),Q=(b==null?void 0:b.id)&&Nx.pipelineWhitelist.includes(b.id)&&(j==null?void 0:j.authFlow)!=="clientCredentials",X=B2(j,S,I);return t.jsx(fo,{children:t.jsx(F0,{children:t.jsx(be,{isFlexAuto:!0,children:A||!E?t.jsx(t.Fragment,{children:t.jsx(tu,{className:La,children:t.jsx(pn,{})})}):!E.totalCount&&!L&&P?t.jsx(E0,{to:le.APPS_WELCOME}):t.jsxs(t.Fragment,{children:[!!E.totalCount&&t.jsxs(P0,{children:[t.jsxs(R0,{className:ze,children:[t.jsx(hr,{onClick:Qn(o,le.APPS),active:P,children:"My Apps"}),(N||R||W||G||q)&&t.jsxs(t.Fragment,{children:[t.jsx(hr,{onClick:Qn(o,`${le.APPS}/${g}`),active:R,children:"App Details"}),t.jsx(hr,{onClick:Qn(o,`${le.APPS}/${g}/edit/general`),active:N,children:"Edit App"}),t.jsx(hr,{onClick:Qn(o,`${le.APPS}/${g}/installations`),active:W,children:"Installations"}),Q&&t.jsx(hr,{onClick:Qn(o,`${le.APPS}/${g}/pipeline`),active:G,children:"Pipeline"}),X&&t.jsx(hr,{onClick:Qn(o,`${le.APPS}/${g}/consents`),active:q,children:"App Consents"})]}),t.jsx(hr,{onClick:Qn(o,le.APPS_NEW),active:U,children:"New App"})]}),t.jsx(xr,{})]}),t.jsx(tu,{className:La,children:t.jsx(fo,{children:t.jsxs(lo,{children:[t.jsx(hn,{index:!0,element:t.jsx(zy,{})}),t.jsx(hn,{path:le.APPS_NEW.replace("/apps/",""),element:t.jsx(o2,{})}),t.jsx(hn,{path:le.APPS_WELCOME.replace("/apps/",""),element:t.jsx(oy,{})}),t.jsx(hn,{path:le.APP_INSTALLATIONS.replace("/apps/",""),element:t.jsx(Ax,{})}),t.jsx(hn,{path:`${le.APPS_EDIT.replace("/apps/","")}/*`,element:t.jsx(Q2,{})}),t.jsx(hn,{path:le.APPS_CONSENTS.replace("/apps/",""),element:t.jsx(Rx,{})}),Q&&t.jsx(hn,{path:`${le.APP_PIPELINE.replace("/apps/","")}/*`,element:t.jsx(bx,{})}),t.jsx(hn,{path:le.APP_DETAIL.replace("/apps/",""),element:t.jsx(c2,{})})]})})})]})})})})};var Dx={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--page",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Hu=()=>{const{connectSession:o}=Cn(K);return o?t.jsx(O0,{cluster:"eu",clientKey:Dx.PUSHER_KEY,authEndpoint:`${W0.DEPLOYMENT_SERVICE_HOST}pusher/auth`,auth:{headers:{Authorization:o.idToken}},children:t.jsx(q0,{children:t.jsx(Mx,{})})}):null};export{Hu as Apps,Hu as default};
