import{y as P,r as u,j as e,b1 as S,aV as E,aW as m,aX as I,bB as U,b0 as k,a as j,k as C,c as d,b3 as A,d as D,F as w,e as _,ab as T,aq as R,G as B,$ as O,aT as q,aU as o,aY as z,aB as N}from"./vendor-D_Z2viGi.js";import{l as F,i as L,m as W,h as Y,e as $,p as V,j as G,U as H}from"./pusher-event-wrapper-BuN7vY15.js";import{n as f,R as g,o as b,u as K,e as M,f as J,r as v,g as Q,G as X,E as Z,j as ee}from"./index--hoyknbN.js";const ae=({pipeline:a,connectSession:n})=>{var p,c;const l=P(),[s,r]=u.useState(a),[i,h]=u.useState(!1),t=F(`private-${n==null?void 0:n.loginIdentity.developerId}`);return L(t,"pipeline-update",W(s,r,a.id??null)),e.jsxs(S,{children:[e.jsxs(E,{children:[e.jsx(m,{children:s.name}),e.jsxs(m,{children:[e.jsx(I,{intent:Y(s.buildStatus)}),$(s.buildStatus)]}),e.jsx(m,{children:e.jsx("a",{target:"_blank",href:(p=s.repository)==null?void 0:p.repositoryUrl,rel:"noreferrer",children:(c=s.repository)==null?void 0:c.repositoryUrl})}),e.jsx(U,{isOpen:i,onClick:()=>h(!i)})]}),e.jsx(k,{isOpen:i,children:e.jsx(j,{isFlexAlignCenter:!0,isFlexJustifyCenter:!0,children:e.jsxs(C,{children:[e.jsx(d,{intent:"primary",onClick:f(l,g.APP_PIPELINE_CONFIGURE.replace(":appId",s.appId)),children:"Configure"}),e.jsx(d,{intent:"primary",onClick:f(l,g.APP_PIPELINE.replace(":appId",s.appId)),children:"Deployments"}),V(s.buildStatus)&&e.jsx(d,{intent:"default",onClick:b(`https://${s.subDomain}.iaas.paas.reapit.cloud`),children:"View App"})]})})})]})};var se={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const y=()=>{var c;const{connectSession:a}=K(v),[n,l]=u.useState(1),{globalDataState:s}=M(),{currentDeveloper:r}=s,i=r==null?void 0:r.id,h=i?{developerId:i}:{},[t,p]=J({reapitConnectBrowserSession:v,action:Q[X.paginatePipeline],headers:{Authorization:`Bearer ${a==null?void 0:a.idToken}`},fetchWhenTrue:[a==null?void 0:a.idToken],queryParams:{...h,page:n}});return a?e.jsxs(j,{children:[e.jsxs(A,{children:[e.jsx(D,{className:w,iconSize:"large",icon:"webDeveloperInfographic"}),e.jsx(_,{hasGreyText:!0,children:"Infrastructure as a Service management. Pipelines are for deploying your Reapit apps to our infrastructure to simplify your development process"}),e.jsx(d,{intent:"default",onClick:b(Z.pipelineDocs),children:"View Docs"})]}),e.jsx(T,{children:e.jsx(ee,{children:e.jsxs(G,{cluster:"eu",clientKey:se.PUSHER_KEY,authEndpoint:`${H.DEPLOYMENT_SERVICE_HOST}pusher/auth`,auth:{headers:{Authorization:`Bearer ${a==null?void 0:a.idToken}`}},children:[e.jsx(R,{children:"Pipelines"}),p||!r?e.jsx(B,{}):e.jsxs(e.Fragment,{children:[e.jsxs(O,{"data-has-expandable-action":!0,"data-num-columns-excl-action-col":"3",children:[e.jsxs(q,{children:[e.jsx(o,{children:"Name"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Repository"}),e.jsx(o,{})]}),(c=t==null?void 0:t.items)==null?void 0:c.map(x=>e.jsx(ae,{connectSession:a,pipeline:x},x.id))]}),e.jsx("div",{className:z,children:t&&e.jsx(N,{currentPage:t.meta.currentPage,numberPages:t.meta.totalPages,callback:l})})]})]})})})]}):null};export{y as IaaS,y as default};
