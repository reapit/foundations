import{h as kt,r as V,ax as Qc,j as t,w as ot,ay as Yt,az as Xc,aA as Ma,aB as Zn,as as we,ar as Me,a2 as xn,$ as de,Y as ce,aC as so,a0 as w,a8 as ue,a9 as U,c as ee,aD as lt,aE as yi,aF as ji,aG as g0,aH as Ue,aI as m0,M as An,a1 as cr,a7 as bi,aw as pe,V as ur,a5 as Ye,aJ as dr,aK as Be,aL as Ua,a3 as pr,aM as Le,aN as oo,aO as qr,aP as $n,aQ as wi,aR as lo,ac as yn,aS as v0,aT as Ci,aU as Pe,aV as x0,aW as _i,aX as Vr,aY as y0,aZ as ct,a_ as La,a6 as Ht,au as ut,a$ as xe,b0 as Je,b1 as Jc,b2 as Oa,av as Kn,b3 as Gr,b4 as j0,a4 as Fa,b5 as b0,ah as co,ai as cn,b6 as eu,Q as Si,b7 as uo,b8 as It,b9 as po,ba as Zt,bb as ki,bc as ho,bd as w0,be as At,bf as C0,bg as _0,bh as nu,bi as S0,aj as tu,ad as k0,bj as I0,bk as A0,bl as hr}from"./vendor-DhPpirnB.js";import{u as be,f as E0,d as ru,A as F,a as T0,b as P0,g as R0,c as fr,e as za,h as fo,i as D0,r as N0,P as M0,j as U0,U as L0,k as O0}from"./pusher-event-wrapper-DyApY2OO.js";import{o as te,E as ie,n as Qn,R as oe,d as Ii,r as Q,e as En,g as Tn,G as Pn,u as Oe,c as Fe,U as Ne,b as iu,f as Yr,h as au,I as Hr,i as go}from"./index-BiZWlcS5.js";import{c as Xn,a as L,e as $e,u as gr,o as mr,h as su,d as Wa,C as F0,f as z0,t as ou,b as lu,g as W0,i as B0}from"./error-messages-inRSKQd9.js";import{s as en,y as q0,i as Ai,a as V0,b as cu,c as G0,d as Ei}from"./yup-dxpoe7i0.js";import{f as Y0}from"./FileSaver.min-mdNOLSZa.js";import{P as H0}from"./papaparse.min-QmXV1ea_.js";import{S as Ba,C as Zr,I as uu,W as Z0,a as $0}from"./webhooks-animated-docs-icon-lWCVLBE9.js";const K0=kt("div")({name:"HtmlContentWrap",class:"hy0i3hj-html-content-wrap",propsAsIs:!1}),Q0=["bold","italic","underline","strikethrough","heading1","heading2","paragraph","quote","olist","ulist","code","line","link"],X0=({onChange:s,hasError:a,actions:o=Q0,containerClass:m="",defaultContent:g,placeholder:x,actionbarClass:y="pell-actionbar",buttonClass:b="pell-button",contentClass:k="pell-content",dataTest:v="",onBlur:P,onPaste:I})=>{const E=V.useRef(null);return V.useEffect(()=>{if(Qc.init({element:E&&E.current,onChange:T=>s&&s(T),styleWithCSS:!1,defaultParagraphSeparator:"div",actions:o,classes:{actionbar:y,button:b,content:k}}),E&&E.current){const T=E.current.getElementsByClassName(k)[0];x&&T.setAttribute("placeholder",x)}},[]),V.useEffect(()=>{if(E&&E.current){const T=E.current.getElementsByClassName(k)[0];g!==T.innerHTML&&(T.innerHTML=g||"")}},[g]),V.useEffect(()=>{if(E&&E.current){const T=M=>{var R;M.preventDefault();const z=((R=M.clipboardData)==null?void 0:R.getData("text/plain"))??"",D=window.getSelection();if(!(D!=null&&D.rangeCount))return!1;D.deleteFromDocument(),D.getRangeAt(0).insertNode(document.createTextNode(z))};return E.current.addEventListener("paste",T),()=>{var M;return(M=E.current)==null?void 0:M.removeEventListener("paste",T)}}},[E]),t.jsx(K0,{children:t.jsx("div",{onPaste:I,onBlur:P,ref:E,"data-test":v,className:`pell ${a&&"pell--is-danger"} ${m}`})})},J0=s=>{let a="";return s&&(s.buildingNumber&&(a=a.concat(`${s.buildingNumber}`)),s.buildingName&&(a=a.concat(` ${s.buildingName}`)),s.line1&&(a=a.concat(` ${s.line1}`)),s.line2&&(a=a.concat(` ${s.line2}`)),s.line3&&(a=a.concat(` ${s.line3}`)),s.line4&&(a=a.concat(` ${s.line4}`)),s.postcode&&(a=a.concat(` ${s.postcode}`)),s.country&&(a=a.concat(` ${s.country}`))),a},dt="s1gxdqv9-step-option-item-selected",du=kt("div")({name:"StepContainer",class:"sjtd378-step-container",propsAsIs:!1}),pt=kt("div")({name:"StepOptionItem",class:"s16agsy2-step-option-item",propsAsIs:!1}),ht=kt("div")({name:"StepOptionItemText",class:"se3ab8l-step-option-item-text",propsAsIs:!1}),pu=kt("div")({name:"StepFormContainer",class:"s1cum27r-step-form-container",propsAsIs:!1}),e2=kt("div")({name:"HelperContentContainer",class:"hzqukf0-helper-content-container",propsAsIs:!1}),Jn="s1u7t7z0-step-is-hidden",n2=kt("div")({name:"ControlsContainer",class:"c4zt2p6-controls-container",propsAsIs:!1}),t2=V.memo(()=>t.jsxs("svg",{width:"100%",viewBox:"0 0 415 224",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("rect",{width:"100%",height:"224",rx:"4",fill:"#d8dee4"}),t.jsx("path",{d:"M100.25 153.375C100.25 149.121 102.099 145.053 105.32 142.219C105.983 141.632 106.217 140.701 105.907 139.873C105.597 139.044 104.802 138.496 103.918 138.496H70.5C65.8122 138.496 62 142.308 62 146.995V155.496C62 160.183 65.8122 163.996 70.5 163.996H100.492C101.253 163.996 101.954 163.588 102.337 162.929C102.719 162.27 102.711 161.458 102.328 160.799C100.951 158.441 100.25 155.942 100.25 153.375ZM74.75 155.5C72.4082 155.5 70.5 153.591 70.5 151.25C70.5 148.908 72.4084 147 74.75 147C77.0918 147 78.9999 148.908 78.9999 151.25C78.9999 153.592 77.0918 155.5 74.75 155.5Z",fill:"#9faebc"}),t.jsx("path",{d:"M149.123 134.25C148.736 134.25 148.349 134.271 147.971 134.305C144.431 128.993 138.485 125.75 132.123 125.75C122.229 125.75 114.065 133.302 113.096 142.946C108.204 143.893 104.498 148.211 104.498 153.375C104.498 159.231 109.267 164 115.123 164H149.123C157.325 164 163.998 157.328 163.998 149.125C163.998 140.922 157.325 134.25 149.123 134.25Z",fill:"#9faebc"}),t.jsx("path",{d:"M132.843 157.167H135.136V169.985H132.843V157.167Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.259 156.584H135.72V170.568H132.259V156.584ZM133.427 157.75V169.402H134.551V157.75H133.427Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M150.037 168.841H152.329V177.992H150.037V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M149.452 168.258H152.913V178.575H149.452V168.258ZM150.621 169.424V177.409H151.745V169.424H150.621Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M115.65 168.841H117.943V177.992H115.65V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115.066 168.258H118.527V178.575H115.066V168.258ZM116.234 169.424V177.409H117.358V169.424H116.234Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M132.843 168.841H135.136V177.992H132.843V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.259 168.258H135.72V178.575H132.259V168.258ZM133.427 169.424V177.409H134.551V169.424H133.427Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M115.65 169.985V167.697H152.329V169.985L115.65 169.985Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115.066 170.568L115.066 167.114L152.913 167.114V170.568L115.066 170.568ZM116.234 169.401L151.745 169.401V168.28H116.234V169.401Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M154.621 180.28C154.621 182.175 153.082 183.711 151.182 183.711C149.283 183.711 147.744 182.175 147.744 180.28C147.744 178.384 149.283 176.848 151.182 176.848C153.082 176.848 154.621 178.384 154.621 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.182 177.431C149.606 177.431 148.328 178.706 148.328 180.28C148.328 181.853 149.606 183.128 151.182 183.128C152.759 183.128 154.037 181.853 154.037 180.28C154.037 178.706 152.759 177.431 151.182 177.431ZM147.159 180.28C147.159 178.062 148.961 176.265 151.182 176.265C153.404 176.265 155.205 178.062 155.205 180.28C155.205 182.497 153.404 184.294 151.182 184.294C148.961 184.294 147.159 182.497 147.159 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M137.428 180.28C137.428 182.175 135.889 183.711 133.989 183.711C132.09 183.711 130.551 182.175 130.551 180.28C130.551 178.384 132.09 176.848 133.989 176.848C135.889 176.848 137.428 178.384 137.428 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.989 177.431C132.413 177.431 131.135 178.706 131.135 180.28C131.135 181.853 132.413 183.128 133.989 183.128C135.566 183.128 136.844 181.853 136.844 180.28C136.844 178.706 135.566 177.431 133.989 177.431ZM129.966 180.28C129.966 178.062 131.768 176.265 133.989 176.265C136.211 176.265 138.012 178.062 138.012 180.28C138.012 182.497 136.211 184.294 133.989 184.294C131.768 184.294 129.966 182.497 129.966 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M138.574 154.879C138.574 157.406 136.522 159.454 133.989 159.454C131.457 159.454 129.405 157.406 129.405 154.879C129.405 152.352 131.457 150.303 133.989 150.303C136.522 150.303 138.574 152.352 138.574 154.879Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.989 150.887C131.78 150.887 129.989 152.674 129.989 154.879C129.989 157.084 131.78 158.871 133.989 158.871C136.199 158.871 137.99 157.084 137.99 154.879C137.99 152.674 136.199 150.887 133.989 150.887ZM128.82 154.879C128.82 152.03 131.135 149.72 133.989 149.72C136.844 149.72 139.159 152.03 139.159 154.879C139.159 157.728 136.844 160.038 133.989 160.038C131.135 160.038 128.82 157.728 128.82 154.879Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M120.235 180.28C120.235 182.175 118.696 183.711 116.796 183.711C114.897 183.711 113.358 182.175 113.358 180.28C113.358 178.384 114.897 176.848 116.796 176.848C118.696 176.848 120.235 178.384 120.235 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.796 177.431C115.22 177.431 113.942 178.706 113.942 180.28C113.942 181.853 115.22 183.128 116.796 183.128C118.373 183.128 119.651 181.853 119.651 180.28C119.651 178.706 118.373 177.431 116.796 177.431ZM112.773 180.28C112.773 178.062 114.575 176.265 116.796 176.265C119.018 176.265 120.819 178.062 120.819 180.28C120.819 182.497 119.018 184.294 116.796 184.294C114.575 184.294 112.773 182.497 112.773 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M155.5 108.75H70.5C65.8122 108.75 62 112.562 62 117.249V125.749C62 130.437 65.8122 134.249 70.5 134.249H110.14C110.896 134.249 111.593 133.846 111.976 133.191C116.175 125.979 123.897 121.499 132.125 121.499C138.746 121.499 145.087 124.372 149.529 129.379C149.886 129.783 150.383 130.033 150.923 130.089C153.494 130.331 156.035 131.147 158.466 132.524C159.227 132.953 160.179 132.877 160.859 132.316C162.856 130.684 164 128.291 164 125.754V117.254C164 112.562 160.188 108.75 155.5 108.75ZM74.75 125.749C72.4082 125.749 70.5 123.841 70.5 121.499C70.5 119.158 72.4084 117.25 74.75 117.25C77.0918 117.25 78.9999 119.158 78.9999 121.499C78.9999 123.841 77.0918 125.749 74.75 125.749Z",fill:"#23A4DE"}),t.jsx("path",{d:"M155.5 79H70.5001C65.8122 79 62 82.8122 62 87.5V96.0001C62 100.688 65.8122 104.5 70.5001 104.5H155.5C160.188 104.5 164 100.688 164 96.0001V87.5C164 82.8122 160.188 79 155.5 79ZM74.75 96.0001C72.4082 96.0001 70.5001 94.0918 70.5001 91.7502C70.5001 89.4084 72.4082 87.5 74.75 87.5C77.0918 87.5 78.9999 89.4084 78.9999 91.75C78.9999 94.0918 77.0918 96.0001 74.75 96.0001Z",fill:"#798da1"}),t.jsx("path",{d:"M116.817 56.7389L118.758 57.8594L140.378 20.4131L138.437 19.2926L116.817 56.7389Z",fill:"#9faebc"}),t.jsx("path",{d:"M159.614 53.7471H116.373V55.9881H159.614V53.7471Z",fill:"#9faebc"}),t.jsx("path",{d:"M117.229 55.0057L138.857 67.4932L139.978 65.5525L118.35 53.065L117.229 55.0057Z",fill:"#9faebc"}),t.jsx("path",{d:"M136.016 22.4603L157.645 34.9478L158.765 33.007L137.137 20.5196L136.016 22.4603Z",fill:"#9faebc"}),t.jsx("path",{d:"M117.235 32.9987L118.355 34.9395L139.984 22.452L138.863 20.5113L117.235 32.9987Z",fill:"#9faebc"}),t.jsx("path",{d:"M135.626 20.4136L157.246 57.8599L159.187 56.7394L137.567 19.2931L135.626 20.4136Z",fill:"#9faebc"}),t.jsx("path",{d:"M120.329 31.5127H118.088V56.4877H120.329V31.5127Z",fill:"#9faebc"}),t.jsx("path",{d:"M157.913 31.5127H155.672V56.4877H157.913V31.5127Z",fill:"#9faebc"}),t.jsx("path",{d:"M137.496 64.8497L138.475 66.5449L157.285 55.6842L156.307 53.989L137.496 64.8497Z",fill:"#9faebc"}),t.jsx("path",{d:"M160.883 57.2166C159.587 59.4711 156.698 60.2406 154.443 58.9446C152.189 57.6486 151.419 54.7596 152.715 52.5051C154.011 50.2506 156.9 49.4811 159.155 50.7771C161.423 52.0866 162.192 54.9621 160.883 57.2166Z",fill:"#9faebc"}),t.jsx("path",{d:"M123.271 35.4949C121.975 37.7494 119.086 38.5189 116.832 37.2229C114.577 35.9269 113.808 33.0379 115.104 30.7834C116.4 28.5289 119.289 27.7594 121.543 29.0554C123.798 30.3649 124.567 33.2404 123.271 35.4949Z",fill:"#9faebc"}),t.jsx("path",{d:"M115.117 57.2166C113.821 54.9621 114.591 52.0866 116.845 50.7771C119.1 49.4811 121.975 50.2506 123.285 52.5051C124.581 54.7596 123.811 57.6351 121.557 58.9446C119.289 60.2406 116.413 59.4711 115.117 57.2166Z",fill:"#9faebc"}),t.jsx("path",{d:"M152.729 35.4949C151.433 33.2404 152.202 30.3649 154.457 29.0554C156.711 27.7594 159.587 28.5289 160.896 30.7834C162.192 33.0379 161.423 35.9134 159.168 37.2229C156.914 38.5189 154.025 37.7494 152.729 35.4949Z",fill:"#9faebc"}),t.jsx("path",{d:"M138.001 70.4328C135.395 70.4328 133.289 68.3268 133.289 65.7213C133.289 63.1158 135.395 61.0098 138.001 61.0098C140.606 61.0098 142.712 63.1158 142.712 65.7213C142.712 68.3133 140.606 70.4328 138.001 70.4328Z",fill:"#9faebc"}),t.jsx("path",{d:"M138.001 26.9899C135.395 26.9899 133.289 24.8839 133.289 22.2784C133.289 19.6729 135.395 17.5669 138.001 17.5669C140.606 17.5669 142.712 19.6729 142.712 22.2784C142.712 24.8839 140.606 26.9899 138.001 26.9899Z",fill:"#9faebc"}),t.jsx("path",{d:"M247.126 167.402L216.555 178.52L215.396 182.652C213.75 188.534 207.497 193.344 201.502 193.344V196.123H264.904L247.126 167.402Z",fill:"#607890"}),t.jsx("path",{d:"M259.185 182.652L254.912 167.402L237.29 156.284L219.668 167.402L216.555 178.52H247.126L248.285 182.652C249.931 188.533 256.184 193.344 262.179 193.344L267.629 196.123L273.079 193.344C267.084 193.344 260.831 188.533 259.185 182.652Z",fill:"#506478"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M157.9 172.532C151.905 172.532 147 167.528 147 161.414V139.178L316.678 94.7065V128.06L327.577 139.178V161.414C327.577 167.529 322.672 172.532 316.677 172.532H305.777V172.532H157.9Z",fill:"#607890"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M305.776 28H316.676C322.671 28 327.576 33.003 327.576 39.1178V139.178H316.678V139.179H147V39.1181C147 33.0032 151.905 28.0002 157.9 28.0002H305.776L305.776 28Z",fill:"#798da1"}),t.jsx("path",{d:"M237.288 161.414C240.298 161.414 242.738 158.925 242.738 155.855C242.738 152.785 240.298 150.296 237.288 150.296C234.278 150.296 231.838 152.785 231.838 155.855C231.838 158.925 234.278 161.414 237.288 161.414Z",fill:"#fff"}),t.jsx("path",{d:"M293.607 198.902H180.973C179.468 198.902 178.248 197.658 178.248 196.123C178.248 194.587 179.468 193.343 180.973 193.343H293.607C295.112 193.343 296.332 194.587 296.332 196.123C296.332 197.658 295.112 198.902 293.607 198.902Z",fill:"#607890"}),t.jsx("path",{d:"M317.892 44.9788V62.2251C263.897 62.2251 209.903 62.2246 155.908 62.2246V44.9788C155.908 40.0763 159.466 36.0986 163.851 36.0986H309.949C314.335 36.0986 317.892 40.0763 317.892 44.9788Z",fill:"#23A4DE"}),t.jsx("path",{d:"M317.922 58.4512V139.451C284.941 139.451 185.437 139.451 155.922 139.451V58.4512C209.922 58.4512 263.922 58.4512 317.922 58.4512Z",fill:"#fff"}),t.jsx("path",{d:"M285.858 50.6068C284.023 50.6068 282.537 49.1202 282.537 47.2863V47.2403C282.537 45.4061 284.024 43.9199 285.858 43.9199C287.691 43.9199 289.178 45.4065 289.178 47.2403V47.2863C289.178 49.1206 287.691 50.6068 285.858 50.6068Z",fill:"#fff"}),t.jsx("path",{d:"M296.463 50.6068C294.629 50.6068 293.143 49.1202 293.143 47.2863V47.2403C293.143 45.4061 294.629 43.9199 296.463 43.9199C298.297 43.9199 299.783 45.4065 299.783 47.2403V47.2863C299.783 49.1206 298.297 50.6068 296.463 50.6068Z",fill:"#fff"}),t.jsx("path",{d:"M307.068 50.6068C305.234 50.6068 303.748 49.1202 303.748 47.2863V47.2403C303.748 45.4061 305.235 43.9199 307.068 43.9199C308.903 43.9199 310.389 45.4065 310.389 47.2403V47.2863C310.389 49.1206 308.903 50.6068 307.068 50.6068Z",fill:"#fff"}),t.jsx("rect",{x:"175.922",y:"67.6875",width:"34.0186",height:"59.9375",rx:"4",fill:"#798da1"}),t.jsx("rect",{x:"218.039",y:"72.5474",width:"33.6558",height:"33.6558",rx:"4",fill:"#9faebc"}),t.jsx("rect",{x:"218.039",y:"113.045",width:"24.299",height:"7.2897",rx:"3.64485",fill:"#23A4DE"}),t.jsx("path",{d:"M339.571 67H274.788C267.737 67 262 72.5564 262 79.3861V118.638C262 125.468 267.737 131.024 274.788 131.024H339.571C346.622 131.024 352.359 125.468 352.359 118.638V79.3861C352.359 72.5564 346.622 67 339.571 67Z",fill:"#fff"}),t.jsx("path",{d:"M339.57 67H321.247C314.196 67 308.459 72.5564 308.459 79.3861L295.098 118.638C295.098 125.468 300.835 131.024 307.886 131.024H339.57C346.621 131.024 352.358 125.468 352.358 118.638V79.3861C352.358 72.5564 346.621 67 339.57 67Z",fill:"#fff"}),t.jsx("path",{d:"M339.571 67H274.788C267.737 67 262 72.5564 262 79.3861V118.638C262 125.468 267.737 131.024 274.788 131.024H339.571C346.622 131.024 352.359 125.468 352.359 118.638V79.3861C352.359 72.5564 346.622 67 339.571 67ZM294.792 86.7046L281.339 99.7333L293.303 111.319C294.337 112.321 294.337 113.945 293.303 114.945C292.27 115.946 290.594 115.946 289.56 114.945L275.723 101.545C274.689 100.543 274.689 98.9215 275.723 97.9199L291.047 83.0795C292.082 82.078 293.758 82.078 294.792 83.0795C295.825 84.0794 295.825 85.703 294.792 86.7046ZM317.932 80.6731L303.934 119.058C303.447 120.395 301.934 121.094 300.556 120.622C299.178 120.151 298.454 118.686 298.941 117.351L312.94 78.9656C313.427 77.6308 314.938 76.9301 316.318 77.4018C317.696 77.8735 318.42 79.3382 317.932 80.6731ZM338.636 100.104L323.312 114.945C322.278 115.946 320.601 115.946 319.567 114.945C318.535 113.945 318.535 112.321 319.567 111.319L333.02 98.2908L321.057 86.7046C320.022 85.703 320.022 84.0794 321.057 83.0795C322.089 82.078 323.766 82.078 324.8 83.0795L338.636 96.4791C339.67 97.4807 339.67 99.1026 338.636 100.104Z",fill:"#7e9bfa"})]})),r2=()=>{const s=ot(),{isMobile:a,isTablet:o,isDesktop:m}=Yt(),g=a||o||m;return t.jsxs(Xc,{children:[t.jsxs(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:4,spanSuperWideScreen:5,span4KScreen:7,children:[t.jsx(Zn,{children:"Apps"}),t.jsx(du,{children:t.jsxs(we,{isFlexColumn:!0,isFlexJustifyAround:!0,children:[t.jsxs("div",{className:Me,children:[t.jsx("div",{className:xn,children:t.jsx(de,{hasBoldText:!0,hasNoMargin:!0,children:"View Docs"})}),t.jsxs(we,{isFlexColumn:!0,className:xn,children:[t.jsxs(we,{children:[t.jsx(ce,{className:so,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{hasGreyText:!0,children:"We have invested a considerable amount of time to ensure our documentation is as comprehensive as possible, from detailed references, to our APIs to a glossary of terms and frequently asked questions."})]}),t.jsx(w,{hasGreyText:!0,children:"Having first watched the video, you may want to have a deep dive into the documentation before creating your first app."}),t.jsx("div",{className:Me,children:t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:"If you get stuck at any point when working with Foundations, make the docs your first port of call."})}),t.jsx(ue,{alignment:"left",children:t.jsx(U,{onClick:te(ie.baseDocs),intent:"default",children:"View Docs"})})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:xn,children:t.jsx(de,{hasBoldText:!0,hasNoMargin:!0,children:"Create APP"})}),t.jsxs(we,{isFlexColumn:!0,className:xn,children:[t.jsxs(we,{children:[t.jsx(ce,{className:so,icon:"welcomeInfographic",iconSize:"large"}),t.jsx(w,{hasGreyText:!0,children:"Creating an app is the starting point for authenticating against the Foundations APIs. Your app might be a web application, possibly rendered inside of the AgencyCloud CRM, or a simple data feed to serve a website."})]}),t.jsx("div",{className:Me,children:t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:"In all cases, you will need to use the app creation wizard that will walk you through creating your app, explain key concepts along the way and link out to our documentation where relevant."})}),t.jsx(ue,{alignment:"left",children:t.jsx(U,{intent:"primary",size:2,onClick:Qn(s,oe.APPS_NEW),children:"Create App"})})]})]})]})})]}),t.jsxs(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:8,spanSuperWideScreen:11,span4KScreen:13,children:[t.jsx(Zn,{children:"About Foundations"}),t.jsxs(we,{isFlexAlignStart:!g,isFlexColumn:g,children:[t.jsxs("div",{className:ee(!g&&lt,!g&&yi,g&&Me),children:[t.jsx(w,{hasGreyText:!0,children:"Reapit Foundations is a Platform as a Service that enables developers to access, update and enhance data within the Reapit AgencyCloud desktop CRM."}),t.jsx(t2,{})]}),t.jsxs("div",{className:ee(!g&&lt,!g&&ji),children:[t.jsx(w,{hasGreyText:!0,children:"There are a number of aspects to The Platform documented within this Developer Portal, specifically, APIs, Webhooks, a UI Library and Data Analytics solutions. We also have an AppMarket to facilitate the publishing and installation of the software you build on top of the Platform."}),t.jsx(w,{hasGreyText:!0,children:"Every developer will have different use cases for using our Platform and it is unlikely you will need to use all of the APIs and tooling we provide. However, the starting point for all integrations is to create an \u2018App\u2019, which on a basic level is the means to authenticate against our services."}),t.jsx(w,{hasGreyText:!0,children:"To get started, create your first app using the wizard on the left of this page. This will allow you to authenticate against our APIs."})]})]})]})]})},i2="cbaewf6-card-cursor",a2=({app:s})=>{const a=ot(),{id:o,name:m,isDirectApi:g,developer:x,iconUri:y}=s;return t.jsx(g0,{className:ee(Ue,i2),onClick:Qn(a,`${oe.APPS}/${o}`),hasMainCard:!0,mainCardHeading:m,mainCardSubHeading:x,mainCardSubHeadingAdditional:g?"Integration":"",mainCardAvatarUrl:y??t.jsx(m0,{placeholder:"placeholderSmall",size:50})})},hu=s=>{const a=s===oe.APPS,o=s===oe.APPS_NEW,m=s===oe.APPS_WELCOME,g=/^\/apps\/[a-z0-9-]+\/installations/.test(s),x=/^\/apps\/[a-z0-9-]+\/edit/.test(s),y=/^\/apps\/[a-z0-9-]+\/pipeline/.test(s),b=/^\/apps\/[a-z0-9-]+\/consents/.test(s),k=!x&&!o&&!g&&!y&&!b&&/^\/apps\/[a-z0-9-]+/.test(s);return{isAppsList:a,isAppsNew:o,isAppsWelcome:m,isAppsEdit:x,isAppsDetail:k,isAppsInstallations:g,isAppPipelines:y,isAppConsents:b}},s2=Xn().shape({reapitReference:L().trim().required($e.FIELD_REQUIRED).test(en),status:L().trim().required($e.FIELD_REQUIRED).test(en)}),o2=(s,a)=>a==="pending"?"Account Information is being verified":s?"Account Verification":"Account Information Required",l2=(s,a,o)=>()=>{o&&(s(),a())},c2=({closeModal:s,refetchDeveloper:a,developer:o})=>{var D,R;const{globalDataState:m}=Ii(),{register:g,handleSubmit:x,formState:{errors:y}}=gr({resolver:mr(s2),defaultValues:{...o,companyName:o.company,status:"pending",reapitReference:""}}),{connectSession:b}=An(Q),[k]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getDeveloperMembers],uriParams:{developerId:b==null?void 0:b.loginIdentity.developerId},queryParams:{role:"admin",status:"active"},fetchWhenTrue:[b==null?void 0:b.loginIdentity.developerId]}),[v,,P,I]=Oe({method:"PUT",reapitConnectBrowserSession:Q,action:Fe[Ne.updateDeveloper],uriParams:{developerId:b==null?void 0:b.loginIdentity.developerId}});V.useEffect(l2(s,a,I),[I]);const{currentMember:E}=m,T=iu(b),M=E==null?void 0:E.role,z=o.status;return T?z==="pending"?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"We are currently verifying your account information. This is typically done within 1 \u2013 2 working days. You will be notified via email when this has been completed and you can continue with your app submission."}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:s,children:"Close"})})]}):M!=="admin"?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before an app can be submitted (either privately or publicly), we will first need to verify your account information (which can only be submitted by an Admin) as API Consumption charges will apply."}),t.jsx(w,{children:"Please contact one of the Admins listed below:"}),t.jsx(cr,{className:bi,rows:(D=k==null?void 0:k.data)==null?void 0:D.map(G=>({cells:[{label:"Name",value:G.name??"",icon:"contact",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Email Admin",value:"",children:t.jsx("a",{href:`mailto:${G.email}?subject=Developer%20Portal%20\u2013%20Listing%20our%20app&body=Before%20we%20can%20submit%20an%20app,%20we%20need%20to%20verify%20our%20Reapit%20Reference.%20Please%20can%20you%20login%20to%20the%20Developer%20Portal,%20submit%20the%20app%20and%20enter%20the%20required%20information.%20The%20Reapit%20Reference%20can%20be%20found%20on%20any%20Reapit%20correspondence%20under%20the%20\u2018Account\u2019%20section.`,target:"_blank",rel:"noopener noreferrer",children:"Send Email"}),icon:"email",cellHasDarkText:!0,narrowTable:{showLabel:!0}}]}))}),t.jsx(w,{children:"Alternatively, you can request the option to become an Admin. Simply ask one of the Admins above to visit the \u2018Organisation\u2019 page to view the member options."}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:s,children:"Close"})})]}):t.jsxs("form",{onSubmit:x(G=>P(G)),children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before an app can be submitted (either privately or publicly), we will first need to verify your account information as API Consumption charges will apply."}),t.jsx(pe,{className:bi,...g("reapitReference"),inputAddOnText:(R=y==null?void 0:y.reapitReference)==null?void 0:R.message,type:"text",label:"Reapit Reference",placeholder:"Enter your Reapit reference here",intent:"danger"}),t.jsx(w,{children:"You can find your Reapit Reference from any Reapit correspondence under the \u2018Account\u2019 section."}),t.jsx(w,{children:"The verification process is typically completed within 1 \u2013 2 working days. You will be notified via email when this has been completed and you can continue with your app submission."}),t.jsxs(ue,{alignment:"right",children:[t.jsx(U,{intent:"default",onClick:s,children:"Close"}),t.jsx(U,{intent:"primary",type:"submit",disabled:v,loading:v,children:"Submit"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before you can list an app in the AppMarket ('Submit for approval'), you will first need to submit your account information."}),t.jsxs(w,{children:["Please"," ",t.jsxs("a",{href:"mailto:jhennessy@reapit.com?subject=Submitting%20my%20app%20for%20approval%20/%20listing%20in%20the%20AppMarket",target:"_blank",rel:"noopener noreferrer",children:[" ","click here"]})," ","to contact a member of the team."]}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:s,children:"Close"})})]})};var u2=["PROVISIONING","PROVISION_REQUEST","FAILED_TO_PROVISION","PRE_PROVISIONED","DELETING","DELETED","SCHEDULED_FOR_DELETION","DELETION_REQUEST","CREATED"],fu=["IN_PROGRESS","DELETING","PROVISION_REQUEST","PROVISIONING","QUEUED","SCHEDULED_FOR_DELETION","DELETION_REQUEST","CREATED","DELETED"],gu=["PROVISIONING","PROVISION_REQUEST"],d2=["PRE_PROVISIONED","PROVISIONING","PROVISION_REQUEST","FAILED_TO_PROVISION"],ft=(s=>(s.NPM="npm",s.YARN="yarn",s.YARN_BERRY="yarn-berry",s))(ft||{}),mu=(s=>(s.NODE="node",s.REACT="react",s))(mu||{}),p2=(s=>(s.BUILD="BUILD",s.RELEASE="RELEASE",s.REPO="REPO",s))(p2||{}),h2=(s=>(s.PAYMENT="payment",s.DEPLOYMENT="deployment",s))(h2||{}),f2=(s=>(s.FEATURED_HERO="featuredHeroApps",s.HERO="heroApps",s.FILTERS="appsFilters",s.FEATURED="featuredApps",s.SIMPLE="simpleApps",s))(f2||{}),g2=(s=>(s.APPLICATION_INSTALL="application.install",s.APPLICATION_UNINSTALL="application.uninstall",s.APPLICANTS_CREATED="applicants.created",s.APPLICANTS_MODIFIED="applicants.modified",s.APPOINTMENTS_CANCELLED="appointments.cancelled",s.APPOINTMENTS_CONFIRMED="appointments.confirmed",s.APPOINTMENTS_CREATED="appointments.created",s.APPOINTMENTS_MODIFIED="appointments.modified",s.COMPANIES_CREATED="companies.created",s.COMPANIES_MODIFIED="companies.modified",s.CONTACTS_CREATED="contacts.created",s.CONTACTS_MODIFIED="contacts.modified",s.CONTACTS_OPTEDOUT="contacts.optedout",s.CONVEYANCING_MODIFIED="conveyancing.modified",s.DOCUMENTS_CREATED="documents.created",s.DOCUMENTS_MODIFIED="documents.modified",s.ENQUIRIES_ACCEPTED="enquiries.accepted",s.ENQUIRIES_CREATED="enquiries.created",s.ENQUIRIES_MODIFIED="enquiries.modified",s.ENQUIRIES_REJECTED="enquiries.rejected",s.IDENTITYCHECKS_CREATED="identitychecks.created",s.IDENTITYCHECKS_MODIFIED="identitychecks.modified",s.LANDLORDS_CREATED="landlords.created",s.LANDLORDS_MODIFIED="landlords.modified",s.OFFERS_ACCEPTED="offers.accepted",s.OFFERS_CREATED="offers.created",s.OFFERS_MODIFIED="offers.modified",s.OFFERS_REJECTED="offers.rejected",s.OFFERS_WITHDRAWN="offers.withdrawn",s.OFFICES_CREATED="offices.created",s.OFFICES_MODIFIED="offices.modified",s.PROPERTIES_CREATED="properties.created",s.PROPERTIES_MODIFIED="properties.modified",s.PROPERTIES_SELLING_ASKINGPRICECHANGED="properties.selling.askingpricechanged",s.PROPERTIES_SELLING_COMPLETED="properties.selling.completed",s.PROPERTIES_SELLING_EXCHANGED="properties.selling.exchanged",s.PROPERTIES_SELLING_WITHDRAWN="properties.selling.withdrawn",s.PROPERTIES_SELLING_INSTRUCTED="properties.selling.instructed",s.PROPERTIES_SELLING_LOSTINSTRUCTION="properties.selling.lostinstruction",s.PROPERTIES_SELLING_UNDEROFFER="properties.selling.underoffer",s.TENANCIES_CREATED="tenancies.created",s.TENANCIES_MODIFIED="tenancies.modified",s.VENDORS_CREATED="vendors.created",s.VENDORS_MODIFIED="vendors.modified",s.WORKSORDERS_CANCELLED="worksorders.cancelled",s.WORKSORDERS_COMPLETE="worksorders.complete",s.WORKSORDERS_MODIFIED="worksorders.modified",s.WORKSORDERS_RAISED="worksorders.raised",s))(g2||{});const m2=s=>{var o;const a=s;return a.description||delete a.description,a.summary||delete a.summary,a.supportEmail||delete a.supportEmail,a.telephone||delete a.telephone,a.homePage||delete a.homePage,a.launchUri||delete a.launchUri,a.videoUrl1||delete a.videoUrl1,a.videoUrl2||delete a.videoUrl2,a.categoryIds||delete a.categoryIds,a.redirectUris&&!a.redirectUris.length&&delete a.redirectUris,a.signoutUris&&!a.signoutUris.length&&delete a.signoutUris,(o=a.desktopIntegrationTypeIds)!=null&&o.length||(delete a.launchWindowSizeX,delete a.launchWindowSizeY),a},vu=({name:s,categoryIds:a,telephone:o,supportEmail:m,launchUri:g,iconImageUrl:x,screen5ImageUrl:y,screen4ImageUrl:b,screen3ImageUrl:k,screen2ImageUrl:v,screen1ImageUrl:P,videoUrl1:I,videoUrl2:E,homePage:T,isAgencyCloudIntegrated:M,summary:z,description:D,termsAndConditionsUrl:R,developerId:G,isFree:q,deletionProtection:W,privacyPolicyUrl:K,pricingUrl:X,isListed:H,scopes:me,redirectUris:re,signoutUris:ke,limitToClientIds:_e,desktopIntegrationTypeIds:qe,products:un,isPrivateApp:jn,launchWindowSizeX:bn,launchWindowSizeY:tn})=>{const rn={name:s,telephone:o,supportEmail:m,launchUri:g,iconImageUrl:x,screen5ImageUrl:y,screen4ImageUrl:b,screen3ImageUrl:k,screen2ImageUrl:v,screen1ImageUrl:P,videoUrl1:I,videoUrl2:E,homePage:T,summary:z,description:D,termsAndConditionsUrl:R,developerId:G,isFree:q,deletionProtection:W,isListed:H,privacyPolicyUrl:K,pricingUrl:X,isDirectApi:!M,categoryIds:a.split(",").filter(Boolean),scopes:me.split(",").filter(Boolean),redirectUris:re.split(",").filter(Boolean),signoutUris:ke.split(",").filter(Boolean),limitToClientIds:jn?_e.split(",").filter(Boolean):[],desktopIntegrationTypeIds:qe.split(",").filter(Boolean),products:un.split(",").filter(Boolean),launchWindowSizeX:Number(bn),launchWindowSizeY:Number(tn)};return m2(rn)},v2=s=>{if(!s)return!1;try{return Xn().shape({name:L().required(),branch:L().required(),repository:Xn().shape({repositoryUrl:L().trim().required().matches(su)}),buildCommand:L().trim().required(),packageManager:L().trim().required().test(q0),outDir:L().required()}).validateSync(s),!0}catch{return!1}},x2=(s,a)=>()=>{a&&s(!0)},y2=s=>()=>{s(!0)},j2=(s,a,o,m,g,x,y)=>async()=>{var k,v,P,I;const b=await s(y);if(g&&b&&typeof b!="boolean"&&b.subDomain&&x){const E=E0(g,x),T=vu(E),M=`https://${b.subDomain}.iaas.paas.reapit.cloud`,z=`https://${b.subDomain}.iaas.paas.reapit.cloud/login`;(k=T==null?void 0:T.redirectUris)!=null&&k.includes(M)||((v=T==null?void 0:T.redirectUris)==null||v.push(M)),(P=T==null?void 0:T.signoutUris)!=null&&P.includes(z)||((I=T==null?void 0:T.signoutUris)==null||I.push(z)),await a(T)&&(o(),m())}},b2=s=>()=>{s()},w2=(s,a)=>async()=>{await s()&&a()},C2=()=>{var un;const s=ur(),a=ot(),{connectSession:o}=An(Q),{appPipelineState:m,appId:g,appsDataState:x}=be(),{Modal:y,openModal:b,closeModal:k}=Ye(),{appPipeline:v,setAppPipelineSaving:P,setAppPipelineDeploying:I}=m,{pathname:E}=s,T=E.includes("new")||E.includes("configure"),{appDetail:M,appsDetailRefresh:z,appRefreshRevisions:D}=x,R=(o==null?void 0:o.loginIdentity.developerId)??null,G=v2(v),q=!!((un=v==null?void 0:v.repository)!=null&&un.installationId),W=!!(v!=null&&v.bitbucketClientId),K=q||W,[X,,H]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.deletePipeline],uriParams:{appId:v==null?void 0:v.id},method:"DELETE",headers:{Authorization:o==null?void 0:o.idToken}}),[me,re,ke]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createPipelineDeployment],uriParams:{pipelineId:v==null?void 0:v.id},headers:{Authorization:o==null?void 0:o.idToken},returnType:Yr.RESPONSE}),[,,_e]=Oe({reapitConnectBrowserSession:Q,method:"PUT",action:Fe[Ne.updatePipeline],uriParams:{pipelineId:v==null?void 0:v.id},headers:{Authorization:o==null?void 0:o.idToken},returnType:Yr.RESPONSE}),[,,qe]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createAppRevsion],method:"POST",uriParams:{appId:g},returnType:Yr.LOCATION});return V.useEffect(x2(I,re),[re]),t.jsxs("div",{className:Ue,children:[t.jsx(ce,{className:dr,icon:"webDeveloperInfographic",iconSize:"large"}),t.jsx(de,{children:"Pipeline"}),T?t.jsx(Be,{hasGreyText:!0,children:"When you create an app, we create a pre-provisioned pipeline for your app. You should configure your build steps on this page before using the deployments page to manage your releases to our infra."}):v?t.jsx(Be,{hasGreyText:!0,children:"When you have a pipeline for your application, you can manage deployments from this page. Each table row refers to a deployment, and by expading the content, you can follow progress in real time."}):t.jsx(Be,{hasGreyText:!0,children:"To get started with Reapit IAAS pipelines, first take the time to read the documentation. Then visit this page to configure your first pipeline."}),t.jsxs(ue,{children:[T&&t.jsx(U,{loading:X,intent:"primary",onClick:y2(P),children:"Save Config"}),d2.includes(v==null?void 0:v.buildStatus)?t.jsx(U,{onClick:j2(_e,qe,z,D,M,R,{...v??{},buildStatus:"PROVISION_REQUEST"}),disabled:gu.includes(v==null?void 0:v.buildStatus),loading:gu.includes(v==null?void 0:v.buildStatus),intent:"primary",children:"Provision"}):v&&!T&&G?t.jsx(t.Fragment,{children:t.jsx(U,{loading:me||v.buildStatus==="IN_PROGRESS",intent:"primary",onClick:b2(ke),disabled:u2.includes(v.buildStatus)||fu.includes(v.buildStatus)||v.buildStatus==="QUEUED"||!K,children:"Deploy"})}):v&&!G&&!E.includes("configure")?t.jsx(U,{intent:"primary",onClick:Qn(a,`${oe.APPS}/${g}/pipeline/configure`),children:"Configure"}):null,v&&t.jsx(U,{loading:X,intent:"danger",disabled:fu.includes(v.buildStatus),onClick:b,children:"Delete Pipeline"}),t.jsx(U,{intent:"default",onClick:te(ie.iaasDocs),children:"View Docs"})]}),t.jsxs(y,{title:"Delete Pipeline",children:[t.jsx(w,{hasGreyText:!0,children:"Are you sure you want to delete this pipeline? This will tear down any infrastructure you have provisioned and cannot be recovered."}),t.jsxs(ue,{alignment:"right",children:[t.jsx(U,{intent:"default",onClick:k,children:"Close"}),t.jsx(U,{intent:"danger",onClick:w2(H,k),children:"Delete"})]})]})]})},_2=s=>{var m;const a=H0.unparse({fields:["App Name","Client","Customer Name","Created On","Uninstalled On","Status","Installed By","Uninstalled By"],data:((m=s.data)==null?void 0:m.map(({client:g,appName:x,customerName:y,created:b,terminatesOn:k,status:v,installedBy:P,uninstalledBy:I})=>[x,g,y,b,k,v,P,I]))||[]}),o=new Blob([a],{type:"data:text/csv;charset=utf-8,"});Y0.saveAs(o,"installs.csv")},S2=()=>{var y;const[s,a]=V.useState(!1),{appsDataState:o}=be(),m=(y=o.appDetail)==null?void 0:y.id,{connectSession:g}=An(Q),[x]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getInstallations],queryParams:{appId:m,isInstalled:!0,developerId:g==null?void 0:g.loginIdentity.developerId,pageSize:999},fetchWhenTrue:[s,g]});return V.useEffect(()=>{x&&x.data&&(_2(x),s&&x&&a(!1))},[x,s]),t.jsx(ue,{children:t.jsx(U,{intent:"primary",loading:s,disabled:s||!g,onClick:()=>a(!0),children:"Download CSV"})})};var k2={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Ti=(s,a,o,m)=>()=>{if(m==="confirmed"||!a)return s({...ru,isRevalidating:!0,isListed:a});s({...ru,isRevalidating:!0}),o()},I2=(s,a,o)=>()=>{o&&s({name:a==null?void 0:a.loginIdentity.name,email:a==null?void 0:a.loginIdentity.email,rejectionReason:"Cancelled by developer",rejectedByDeveloper:!0})},A2=(s,a)=>()=>{s!=null&&s.data&&s.data[0]&&s.data[0].id&&a(s.data[0].id)},E2=(s,a,o,m)=>()=>{m&&(s(),o(),a(null))},T2=(s,a)=>async o=>{o==null||o.stopPropagation(),await s()&&a(oe.APPS)},P2=(s,a,o)=>()=>{o&&(a(),s())},R2=s=>a=>{a==null||a.stopPropagation(),s()},vr=()=>{var Tt;const s=ur(),{appId:a,appEditState:o,appsDataState:m}=be(),{globalDataState:g,globalRefreshCurrentDeveloper:x}=Ii(),y=ot(),[b,k]=V.useState(null),{connectSession:v}=An(Q),{Modal:P,openModal:I,closeModal:E}=Ye(),{Modal:T,openModal:M,closeModal:z}=Ye(),D=au(v),R=iu(v),{pathname:G}=s,{isAppsEdit:q,isAppsDetail:W,isAppPipelines:K,isAppConsents:X,isAppsInstallations:H}=hu(G),{currentDeveloper:me}=g,{setAppEditSaving:re,appUnsavedFields:ke,appIncompleteFields:_e}=o,{appsRefresh:qe}=m,{appsDetailRefresh:un,appRefreshRevisions:jn,appRevisions:bn,appDetail:tn,appDetailRefreshing:rn,appDetailLoading:an,appRevisionsRefreshing:Kt}=m,Ke=!Object.keys(_e).length,Ve=!!(tn!=null&&tn.pendingRevisions),xr=!!((Tt=m.appDetail)!=null&&Tt.isListed),nt=rn||Kt,Qt=!!Object.keys(ke).length,{deletionProtection:Bn,id:Et,name:Xt}=tn??{},[,,tt,qn]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.cancelRevision],uriParams:{appId:a,revisionId:b}}),[,,yr,rt]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.deleteApp],method:"DELETE",uriParams:{appId:a}});V.useEffect(A2(bn,k),[bn]),V.useEffect(P2(qe,z,rt),[rt]),V.useEffect(E2(un,k,jn,qn),[qn]);const dn=me==null?void 0:me.status;return q?t.jsxs("div",{className:ee(Ue,Me),children:[t.jsx(ce,{className:dr,icon:"editAppInfographic",iconSize:"large"}),Ke&&!xr&&!an&&!Ve?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Ready For Review"}),t.jsxs(Be,{hasGreyText:!0,children:["As your app listing is now complete, you can submit it for review by one of our team, so you can go live with customer data. For more on this process"," ",t.jsx("a",{onClick:te(ie.appApprovalDocs),children:"visit here."})]}),t.jsx(Be,{hasGreyText:!0,children:"You also have the option of saving any additional changes as you make them before submitting."}),t.jsxs(ue,{children:[Qt&&t.jsx(U,{intent:"primary",loading:nt,onClick:Ti(re,!1,I,dn),children:"Save Changes"}),t.jsx(U,{intent:"primary",loading:nt,onClick:Ti(re,!0,I,dn),children:"Submit Review"})]})]}):Ve?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Revision Outstanding"}),t.jsx(Be,{hasGreyText:!0,children:"You have recently submitted an app listing revision for approval."}),t.jsxs(Be,{hasGreyText:!0,children:["For more on this process ",t.jsx("a",{onClick:te(ie.appApprovalDocs),children:"visit here."})]}),t.jsx(Be,{hasGreyText:!0,children:"If you no longer want your app revision to be approved, you can cancel below."}),t.jsx(ue,{children:t.jsx(U,{intent:"primary",loading:nt,onClick:I2(tt,v,b),children:"Cancel Revision"})})]}):xr?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Listed Application"}),t.jsxs(Be,{hasGreyText:!0,children:["As your app is live with customer data, you will need to submit any app changes for approval by one of our team. For more on this process ",t.jsx("a",{onClick:te(ie.appApprovalDocs),children:"visit here."})]}),t.jsx(Be,{hasGreyText:!0,children:"You also have the option of de-listing your app and reverting to a sandbox only integration."}),t.jsxs(ue,{children:[t.jsx(U,{intent:"primary",loading:nt,onClick:Ti(re,!1,I,dn),children:"De-list app"}),Qt&&t.jsx(U,{intent:"primary",loading:nt,onClick:Ti(re,!0,I,dn),children:"Create Revision"})]})]}):Qt?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Unsaved Changes"}),t.jsx(Be,{hasGreyText:!0,children:"Before you list your app you can save the details at any point below. After app listing, you will have to create an app revision for our team to review."}),t.jsx(ue,{children:t.jsx(U,{intent:"primary",loading:nt,onClick:Ti(re,!1,I,dn),children:"Save Changes"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"App Listings"}),t.jsx(Be,{hasGreyText:!0,children:"Actions will appear below as you perform tasks on this page"})]}),t.jsx(P,{title:o2(R,dn),children:me&&t.jsx(c2,{developer:me,closeModal:E,refetchDeveloper:x})})]}):W?t.jsxs("div",{className:ee(Ue,Me),children:[t.jsx(ce,{className:dr,icon:"appMarketInfographic",iconSize:"large"}),t.jsx(w,{children:"Preview in AppMarket"}),t.jsx(Be,{hasGreyText:!0,children:"Clicking below will take you to your current AppMarket listing, to view your app as users will see it."}),t.jsxs(ue,{children:[t.jsx(U,{intent:"primary",onClick:te(`${k2.marketplaceUrl}/${a}`),children:"Preview"}),t.jsx(U,{intent:"danger",onClick:R2(M),children:"Delete App"})]}),t.jsxs(T,{title:`Confirm ${Xt} Deletion`,children:[D?Bn?t.jsxs(w,{children:["\u2018",Xt,"\u2019 has deletion protection enabled to avoid accidental data loss. If you really want to delete the app, visit ",t.jsx(Ua,{to:`${oe.APPS}/${Et}/edit/app-listing`,children:"this page"}),", uncheck the delete protection checkbox and save the revision."]}):t.jsxs(w,{children:["Are your sure you want to remove the app \u2018",Xt,"\u2019? By clicking \u2018delete\u2019 it will remove all app data including all revisions and listings."]}):t.jsx(w,{children:"Unfortunately, your user account does not have the correct permissions to delete this app. Only an Admin of your developer organisation can delete apps."}),t.jsxs(ue,{alignment:"right",children:[t.jsx(U,{intent:"default",onClick:z,children:"Cancel"}),t.jsx(U,{fixedWidth:!0,intent:"danger",disabled:Bn||!D,onClick:T2(yr,y),children:"Delete"})]})]})]}):K?t.jsx(C2,{}):X?t.jsxs("div",{className:ee(Ue,Me),children:[t.jsx(ce,{className:dr,icon:"editAppInfographic",iconSize:"large"}),t.jsx(w,{children:"App Consents"}),t.jsx(Be,{hasGreyText:!0,children:"This page is visible because you have requested new permissions as part of your current outstanding app revision. An email will be sent to each of the customers who installed your app, requesting they agree to the new permissions you have requested."}),t.jsx(Be,{hasGreyText:!0,children:"Each customer will have to agree to the new permission before our team can approve your revision. You can either track this process here or reach out to your customer to expedite their response to our message."}),t.jsx(Be,{hasGreyText:!0,children:"You can also request that the email is re-sent to each customer individually."}),t.jsx(ue,{children:t.jsx(U,{intent:"default",onClick:te(ie.appPermissionsDocs),children:"View Docs"})})]}):H?t.jsxs("div",{className:ee(Ue,Me),children:[t.jsx(ce,{className:dr,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{children:"Apps Documentation"}),t.jsx(Be,{hasGreyText:!0,children:"This is the dashboard for your applications created using the Reapit Foundations platform. If you have not created an app before or you need help, please take the time to view our getting started guide."}),t.jsx(ue,{className:dr,children:t.jsx(U,{intent:"default",onClick:te(ie.developerPortalDocs),children:"View Docs"})}),t.jsx(S2,{})]}):t.jsxs("div",{className:ee(Ue,Me),children:[t.jsx(ce,{className:dr,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{children:"Apps Documentation"}),t.jsx(Be,{hasGreyText:!0,children:"This is the dashboard for your applications created using the Reapit Foundations platform. If you have not created an app before or you need help, please take the time to view our getting started guide."}),t.jsx(ue,{children:t.jsx(U,{intent:"default",onClick:te(ie.developerPortalDocs),children:"View Docs"})})]})},D2=()=>{var I;const{isMobile:s}=Yt(),{appsDataState:a}=be(),{Modal:o,openModal:m,closeModal:g}=Ye(),{apps:x,appsSetPageNumber:y}=a,b=(x==null?void 0:x.pageNumber)??1,k=(x==null?void 0:x.totalCount)??0,v=(x==null?void 0:x.pageSize)??0,P=Math.ceil((k??1)/(v??1));return t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"My Apps"}),s&&t.jsxs(o,{title:"Controls",children:[t.jsx(vr,{}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:g,children:"Close"})})]}),t.jsx(pr,{className:xn,children:(I=x==null?void 0:x.data)==null?void 0:I.map(E=>t.jsx(Le,{children:t.jsx(a2,{app:E})},E.id))}),P>1&&t.jsx(oo,{callback:y,currentPage:b,numberPages:P}),t.jsx(qr,{onClick:m})]})},gt=(s,a,o="clientCredentials")=>()=>{s(m=>({...m,nextStep:a,authFlow:o}))},N2=()=>{const{appWizardState:s,setAppWizardState:a}=be(),{nextStep:o}=s;return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{className:ee(o===F.agencyCloudStep&&dt),onClick:gt(a,F.agencyCloudStep,"authorisationCode"),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"logoSettingsInfographic"}),t.jsx(ht,{children:"AgencyCloud Functionality"}),o===F.agencyCloudStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.externalAppStep&&dt),onClick:gt(a,F.externalAppStep),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"userHouseInfographic"}),t.jsx(ht,{children:"Create an External Web Application"}),o===F.externalAppStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.dataFeedStep&&dt),onClick:gt(a,F.dataFeedStep),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"feedInfographic"}),t.jsx(ht,{children:"Data / Portal / Reporting Feed"}),o===F.dataFeedStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.websiteFeedStep&&dt),onClick:gt(a,F.websiteFeedStep),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"feedAltInfographic"}),t.jsx(ht,{children:"Website Feed"}),o===F.websiteFeedStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.webServicesStep&&dt),onClick:gt(a,F.webServicesStep),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"globeInfographic"}),t.jsx(ht,{children:"WebServices to Platform"}),o===F.webServicesStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.reapitConnectStep&&dt),onClick:gt(a,F.reapitConnectStep,"authorisationCode"),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"doorLockInfographic"}),t.jsx(ht,{children:"Reapit Connect as ID Provider"}),o===F.reapitConnectStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.clientSideStep&&dt),onClick:gt(a,F.clientSideStep,"authorisationCode"),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"devicesInfographic"}),t.jsx(ht,{children:"Client Side App"}),o===F.clientSideStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.serverSideStep&&dt),onClick:gt(a,F.serverSideStep),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"serverInfographic"}),t.jsx(ht,{children:"Server Side Integration"}),o===F.serverSideStep&&t.jsx(ce,{icon:"check",intent:"primary"})]})]})},M2=s=>()=>{s&&s(a=>({...a,nextStep:F.permissionsStep}))},mo=({register:s,errors:a})=>{var m,g;const{setAppWizardState:o}=be();return V.useEffect(M2(o),[]),t.jsxs(pu,{children:[t.jsx(pe,{className:wi,label:"Login Redirect URI",type:"text",...s("redirectUris"),defaultValue:"http://localhost:8080",inputAddOnText:(m=a==null?void 0:a.redirectUris)==null?void 0:m.message,intent:"danger"}),t.jsx(pe,{label:"Logout Redirect URI",type:"text",...s("signoutUris"),defaultValue:"http://localhost:8080/login",inputAddOnText:(g=a==null?void 0:a.signoutUris)==null?void 0:g.message,intent:"danger"})]})},xu=()=>{const{appWizardState:s,setAppWizardState:a}=be(),{nextStep:o}=s;return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{className:ee($n,o===F.clientSideStep&&dt),onClick:gt(a,F.clientSideStep,"authorisationCode"),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"devicesInfographic"}),t.jsx(ht,{children:"Client Side App"}),o===F.clientSideStep&&t.jsx(ce,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.serverSideStep&&dt),onClick:gt(a,F.serverSideStep),children:[t.jsx(ce,{className:$n,fontSize:"2rem",icon:"serverInfographic"}),t.jsx(ht,{children:"Server Side Integration"}),o===F.serverSideStep&&t.jsx(ce,{icon:"check",intent:"primary"})]})]})};var U2=L2;function L2(s,a,o){var m=null,g=null,x=function(){m&&(clearTimeout(m),g=null,m=null)},y=function(){var k=g;x(),k&&k()},b=function(){if(!a)return s.apply(this,arguments);var k=this,v=arguments,P=o&&!m;if(x(),g=function(){s.apply(k,v)},m=setTimeout(function(){if(m=null,!P){var I=g;return g=null,I()}},a),P)return g()};return b.cancel=x,b.flush=y,b}const O2=lo(U2),F2=s=>s.map(a=>{const{description:o,name:m}=a;return{value:m,name:o}}),z2=(s,a,o,m,g)=>()=>{const x=g().scopes??s.join(",");if((x||o)&&a){const y=a.filter(v=>{var T,M;const P=v.name&&x.includes(v.name),I=o&&((T=v.description)==null?void 0:T.toLowerCase().includes(o.toLowerCase())),E=!((M=v.name)!=null&&M.includes("payment"));return(P||I)&&E}),b=[...new Set([...y.map(v=>JSON.stringify(v))])].map(v=>JSON.parse(v)),k=F2(b);m(k)}},W2=s=>()=>{s(a=>({...a,lastStep:!0}))},qa=({register:s,getValues:a,errors:o})=>{var z,D;const{appWizardState:m,setAppWizardState:g}=be(),{connectSession:x}=An(Q),[y,b]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getAppPermissions],fetchWhenTrue:[x]}),[k,v]=V.useState(""),[P,I]=V.useState([]),E=V.useCallback(O2(R=>v(R.target.value),500),[500]),{currentStep:T}=m,M=(T&&T0[T].permissions)??[];return V.useEffect(z2(M,y,k,I,a),[y,k]),V.useEffect(W2(g),[]),t.jsx(pu,{children:b?t.jsx(yn,{}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{className:v0,onChange:E,icon:"searchSystem",placeholder:"Search permissions to get started"}),t.jsx(Ci,{id:"select-permissions",defaultValues:M,noneSelectedLabel:P.length?"Options will appear below when you search":"Please select options from below",...s("scopes"),options:P}),((z=o==null?void 0:o.scopes)==null?void 0:z.message)&&t.jsx(Pe,{message:(D=o==null?void 0:o.scopes)==null?void 0:D.message})]})})},B2=({register:s,errors:a,getValues:o})=>{const{appWizardState:m}=be(),{currentStep:g}=m;return t.jsxs(we,{className:ee(x0,Ue),isFlexColumn:!0,children:[g===F.applicationTypeStep&&t.jsx(N2,{}),g===F.agencyCloudStep&&t.jsx(mo,{register:s,errors:a}),g===F.externalAppStep&&t.jsx(xu,{}),g===F.dataFeedStep&&t.jsx(qa,{register:s,getValues:o,errors:a}),g===F.websiteFeedStep&&t.jsx(qa,{register:s,getValues:o,errors:a}),g===F.webServicesStep&&t.jsx(xu,{}),g===F.reapitConnectStep&&t.jsx(mo,{register:s,errors:a}),g===F.serverSideStep&&t.jsx(qa,{register:s,getValues:o,errors:a}),g===F.clientSideStep&&t.jsx(mo,{register:s,errors:a}),g===F.permissionsStep&&t.jsx(qa,{register:s,getValues:o,errors:a})]})};var Va={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/Va.exports,function(s,a){(function(){var o,m="4.17.21",g=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",b="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",v=500,P="__lodash_placeholder__",I=1,E=2,T=4,M=1,z=2,D=1,R=2,G=4,q=8,W=16,K=32,X=64,H=128,me=256,re=512,ke=30,_e="...",qe=800,un=16,jn=1,bn=2,tn=3,rn=1/0,an=9007199254740991,Kt=17976931348623157e292,Ke=NaN,Ve=4294967295,xr=Ve-1,nt=Ve>>>1,Qt=[["ary",H],["bind",D],["bindKey",R],["curry",q],["curryRight",W],["flip",re],["partial",K],["partialRight",X],["rearg",me]],Bn="[object Arguments]",Et="[object Array]",Xt="[object AsyncFunction]",tt="[object Boolean]",qn="[object Date]",yr="[object DOMException]",rt="[object Error]",dn="[object Function]",Tt="[object GeneratorFunction]",pn="[object Map]",Pt="[object Number]",Ni="[object Null]",Rn="[object Object]",Jr="[object Promise]",Mi="[object Proxy]",Rt="[object RegExp]",hn="[object Set]",Dt="[object String]",Jt="[object Symbol]",Ui="[object Undefined]",Nt="[object WeakMap]",Li="[object WeakSet]",Mt="[object ArrayBuffer]",mt="[object DataView]",jr="[object Float32Array]",br="[object Float64Array]",wr="[object Int8Array]",Cr="[object Int16Array]",_r="[object Int32Array]",Sr="[object Uint8Array]",kr="[object Uint8ClampedArray]",Ir="[object Uint16Array]",Ar="[object Uint32Array]",Oi=/\b__p \+= '';/g,Fi=/\b(__p \+=) '' \+/g,zi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ei=/&(?:amp|lt|gt|quot|#39);/g,ni=/[&<>"']/g,Wi=RegExp(ei.source),Bi=RegExp(ni.source),qi=/<%-([\s\S]+?)%>/g,Vi=/<%([\s\S]+?)%>/g,ti=/<%=([\s\S]+?)%>/g,Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yi=/^\w*$/,Ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ri=/[\\^$.*+?()[\]{}|]/g,Za=RegExp(ri.source),$a=/^\s+/,Yu=/\s/,Hu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zu=/\{\n\/\* \[wrapped with (.+)\] \*/,$u=/,? & /,Ku=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qu=/[()=,{}\[\]\/\s]/,Xu=/\\(\\)?/g,Ju=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,So=/\w*$/,ed=/^[-+]0x[0-9a-f]+$/i,nd=/^0b[01]+$/i,td=/^\[object .+?Constructor\]$/,rd=/^0o[0-7]+$/i,id=/^(?:0|[1-9]\d*)$/,ad=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hi=/($^)/,sd=/['\n\r\u2028\u2029\\]/g,Zi="\\ud800-\\udfff",od="\\u0300-\\u036f",ld="\\ufe20-\\ufe2f",cd="\\u20d0-\\u20ff",ko=od+ld+cd,Io="\\u2700-\\u27bf",Ao="a-z\\xdf-\\xf6\\xf8-\\xff",ud="\\xac\\xb1\\xd7\\xf7",dd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pd="\\u2000-\\u206f",hd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",To="\\ufe0e\\ufe0f",Po=ud+dd+pd+hd,Ka="['\u2019]",fd="["+Zi+"]",Ro="["+Po+"]",$i="["+ko+"]",Do="\\d+",gd="["+Io+"]",No="["+Ao+"]",Mo="[^"+Zi+Po+Do+Io+Ao+Eo+"]",Qa="\\ud83c[\\udffb-\\udfff]",md="(?:"+$i+"|"+Qa+")",Uo="[^"+Zi+"]",Xa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ja="[\\ud800-\\udbff][\\udc00-\\udfff]",Er="["+Eo+"]",Lo="\\u200d",Oo="(?:"+No+"|"+Mo+")",vd="(?:"+Er+"|"+Mo+")",Fo="(?:"+Ka+"(?:d|ll|m|re|s|t|ve))?",zo="(?:"+Ka+"(?:D|LL|M|RE|S|T|VE))?",Wo=md+"?",Bo="["+To+"]?",xd="(?:"+Lo+"(?:"+[Uo,Xa,Ja].join("|")+")"+Bo+Wo+")*",yd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qo=Bo+Wo+xd,bd="(?:"+[gd,Xa,Ja].join("|")+")"+qo,wd="(?:"+[Uo+$i+"?",$i,Xa,Ja,fd].join("|")+")",Cd=RegExp(Ka,"g"),_d=RegExp($i,"g"),es=RegExp(Qa+"(?="+Qa+")|"+wd+qo,"g"),Sd=RegExp([Er+"?"+No+"+"+Fo+"(?="+[Ro,Er,"$"].join("|")+")",vd+"+"+zo+"(?="+[Ro,Er+Oo,"$"].join("|")+")",Er+"?"+Oo+"+"+Fo,Er+"+"+zo,jd,yd,Do,bd].join("|"),"g"),kd=RegExp("["+Lo+Zi+ko+To+"]"),Id=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ad=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ed=-1,Ie={};Ie[jr]=Ie[br]=Ie[wr]=Ie[Cr]=Ie[_r]=Ie[Sr]=Ie[kr]=Ie[Ir]=Ie[Ar]=!0,Ie[Bn]=Ie[Et]=Ie[Mt]=Ie[tt]=Ie[mt]=Ie[qn]=Ie[rt]=Ie[dn]=Ie[pn]=Ie[Pt]=Ie[Rn]=Ie[Rt]=Ie[hn]=Ie[Dt]=Ie[Nt]=!1;var Se={};Se[Bn]=Se[Et]=Se[Mt]=Se[mt]=Se[tt]=Se[qn]=Se[jr]=Se[br]=Se[wr]=Se[Cr]=Se[_r]=Se[pn]=Se[Pt]=Se[Rn]=Se[Rt]=Se[hn]=Se[Dt]=Se[Jt]=Se[Sr]=Se[kr]=Se[Ir]=Se[Ar]=!0,Se[rt]=Se[dn]=Se[Nt]=!1;var Td={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Pd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nd=parseFloat,Md=parseInt,Vo=typeof _i=="object"&&_i&&_i.Object===Object&&_i,Ud=typeof self=="object"&&self&&self.Object===Object&&self,He=Vo||Ud||Function("return this")(),ns=a&&!a.nodeType&&a,er=ns&&!0&&s&&!s.nodeType&&s,Go=er&&er.exports===ns,ts=Go&&Vo.process,Dn=function(){try{var h=er&&er.require&&er.require("util").types;return h||ts&&ts.binding&&ts.binding("util")}catch{}}(),Yo=Dn&&Dn.isArrayBuffer,Ho=Dn&&Dn.isDate,Zo=Dn&&Dn.isMap,$o=Dn&&Dn.isRegExp,Ko=Dn&&Dn.isSet,Qo=Dn&&Dn.isTypedArray;function wn(h,C,j){switch(j.length){case 0:return h.call(C);case 1:return h.call(C,j[0]);case 2:return h.call(C,j[0],j[1]);case 3:return h.call(C,j[0],j[1],j[2])}return h.apply(C,j)}function Ld(h,C,j,O){for(var J=-1,ve=h==null?0:h.length;++J<ve;){var ze=h[J];C(O,ze,j(ze),h)}return O}function Nn(h,C){for(var j=-1,O=h==null?0:h.length;++j<O&&C(h[j],j,h)!==!1;);return h}function Od(h,C){for(var j=h==null?0:h.length;j--&&C(h[j],j,h)!==!1;);return h}function Xo(h,C){for(var j=-1,O=h==null?0:h.length;++j<O;)if(!C(h[j],j,h))return!1;return!0}function Lt(h,C){for(var j=-1,O=h==null?0:h.length,J=0,ve=[];++j<O;){var ze=h[j];C(ze,j,h)&&(ve[J++]=ze)}return ve}function Ki(h,C){var j=h==null?0:h.length;return!!j&&Tr(h,C,0)>-1}function rs(h,C,j){for(var O=-1,J=h==null?0:h.length;++O<J;)if(j(C,h[O]))return!0;return!1}function Ae(h,C){for(var j=-1,O=h==null?0:h.length,J=Array(O);++j<O;)J[j]=C(h[j],j,h);return J}function Ot(h,C){for(var j=-1,O=C.length,J=h.length;++j<O;)h[J+j]=C[j];return h}function is(h,C,j,O){var J=-1,ve=h==null?0:h.length;for(O&&ve&&(j=h[++J]);++J<ve;)j=C(j,h[J],J,h);return j}function Fd(h,C,j,O){var J=h==null?0:h.length;for(O&&J&&(j=h[--J]);J--;)j=C(j,h[J],J,h);return j}function as(h,C){for(var j=-1,O=h==null?0:h.length;++j<O;)if(C(h[j],j,h))return!0;return!1}var zd=ss("length");function Wd(h){return h.split("")}function Bd(h){return h.match(Ku)||[]}function Jo(h,C,j){var O;return j(h,function(J,ve,ze){if(C(J,ve,ze))return O=ve,!1}),O}function Qi(h,C,j,O){for(var J=h.length,ve=j+(O?1:-1);O?ve--:++ve<J;)if(C(h[ve],ve,h))return ve;return-1}function Tr(h,C,j){return C===C?ep(h,C,j):Qi(h,el,j)}function qd(h,C,j,O){for(var J=j-1,ve=h.length;++J<ve;)if(O(h[J],C))return J;return-1}function el(h){return h!==h}function nl(h,C){var j=h==null?0:h.length;return j?ls(h,C)/j:Ke}function ss(h){return function(C){return C==null?o:C[h]}}function os(h){return function(C){return h==null?o:h[C]}}function tl(h,C,j,O,J){return J(h,function(ve,ze,Ce){j=O?(O=!1,ve):C(j,ve,ze,Ce)}),j}function Vd(h,C){var j=h.length;for(h.sort(C);j--;)h[j]=h[j].value;return h}function ls(h,C){for(var j,O=-1,J=h.length;++O<J;){var ve=C(h[O]);ve!==o&&(j=j===o?ve:j+ve)}return j}function cs(h,C){for(var j=-1,O=Array(h);++j<h;)O[j]=C(j);return O}function Gd(h,C){return Ae(C,function(j){return[j,h[j]]})}function rl(h){return h&&h.slice(0,ol(h)+1).replace($a,"")}function Cn(h){return function(C){return h(C)}}function us(h,C){return Ae(C,function(j){return h[j]})}function ii(h,C){return h.has(C)}function il(h,C){for(var j=-1,O=h.length;++j<O&&Tr(C,h[j],0)>-1;);return j}function al(h,C){for(var j=h.length;j--&&Tr(C,h[j],0)>-1;);return j}function Yd(h,C){for(var j=h.length,O=0;j--;)h[j]===C&&++O;return O}var Hd=os(Td),Zd=os(Pd);function $d(h){return"\\"+Dd[h]}function Kd(h,C){return h==null?o:h[C]}function Pr(h){return kd.test(h)}function Qd(h){return Id.test(h)}function Xd(h){for(var C,j=[];!(C=h.next()).done;)j.push(C.value);return j}function ds(h){var C=-1,j=Array(h.size);return h.forEach(function(O,J){j[++C]=[J,O]}),j}function sl(h,C){return function(j){return h(C(j))}}function Ft(h,C){for(var j=-1,O=h.length,J=0,ve=[];++j<O;){var ze=h[j];(ze===C||ze===P)&&(h[j]=P,ve[J++]=j)}return ve}function Xi(h){var C=-1,j=Array(h.size);return h.forEach(function(O){j[++C]=O}),j}function Jd(h){var C=-1,j=Array(h.size);return h.forEach(function(O){j[++C]=[O,O]}),j}function ep(h,C,j){for(var O=j-1,J=h.length;++O<J;)if(h[O]===C)return O;return-1}function np(h,C,j){for(var O=j+1;O--;)if(h[O]===C)return O;return O}function Rr(h){return Pr(h)?rp(h):zd(h)}function Vn(h){return Pr(h)?ip(h):Wd(h)}function ol(h){for(var C=h.length;C--&&Yu.test(h.charAt(C)););return C}var tp=os(Rd);function rp(h){for(var C=es.lastIndex=0;es.test(h);)++C;return C}function ip(h){return h.match(es)||[]}function ap(h){return h.match(Sd)||[]}var sp=function h(C){C=C==null?He:Dr.defaults(He.Object(),C,Dr.pick(He,Ad));var j=C.Array,O=C.Date,J=C.Error,ve=C.Function,ze=C.Math,Ce=C.Object,ps=C.RegExp,op=C.String,Mn=C.TypeError,Ji=j.prototype,lp=ve.prototype,Nr=Ce.prototype,ea=C["__core-js_shared__"],na=lp.toString,je=Nr.hasOwnProperty,cp=0,ll=function(){var e=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ta=Nr.toString,up=na.call(Ce),dp=He._,pp=ps("^"+na.call(je).replace(ri,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ra=Go?C.Buffer:o,zt=C.Symbol,ia=C.Uint8Array,cl=ra?ra.allocUnsafe:o,aa=sl(Ce.getPrototypeOf,Ce),ul=Ce.create,dl=Nr.propertyIsEnumerable,sa=Ji.splice,pl=zt?zt.isConcatSpreadable:o,ai=zt?zt.iterator:o,nr=zt?zt.toStringTag:o,oa=function(){try{var e=sr(Ce,"defineProperty");return e({},"",{}),e}catch{}}(),hp=C.clearTimeout!==He.clearTimeout&&C.clearTimeout,fp=O&&O.now!==He.Date.now&&O.now,gp=C.setTimeout!==He.setTimeout&&C.setTimeout,la=ze.ceil,ca=ze.floor,hs=Ce.getOwnPropertySymbols,mp=ra?ra.isBuffer:o,hl=C.isFinite,vp=Ji.join,xp=sl(Ce.keys,Ce),We=ze.max,Qe=ze.min,yp=O.now,jp=C.parseInt,fl=ze.random,bp=Ji.reverse,fs=sr(C,"DataView"),si=sr(C,"Map"),gs=sr(C,"Promise"),Mr=sr(C,"Set"),oi=sr(C,"WeakMap"),li=sr(Ce,"create"),ua=oi&&new oi,Ur={},wp=or(fs),Cp=or(si),_p=or(gs),Sp=or(Mr),kp=or(oi),da=zt?zt.prototype:o,ci=da?da.valueOf:o,gl=da?da.toString:o;function c(e){if(Te(e)&&!ne(e)&&!(e instanceof fe)){if(e instanceof Un)return e;if(je.call(e,"__wrapped__"))return mc(e)}return new Un(e)}var Lr=function(){function e(){}return function(n){if(!Ee(n))return{};if(ul)return ul(n);e.prototype=n;var r=new e;return e.prototype=o,r}}();function pa(){}function Un(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}c.templateSettings={escape:qi,evaluate:Vi,interpolate:ti,variable:"",imports:{_:c}},c.prototype=pa.prototype,c.prototype.constructor=c,Un.prototype=Lr(pa.prototype),Un.prototype.constructor=Un;function fe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ve,this.__views__=[]}function Ip(){var e=new fe(this.__wrapped__);return e.__actions__=fn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=fn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=fn(this.__views__),e}function Ap(){if(this.__filtered__){var e=new fe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ep(){var e=this.__wrapped__.value(),n=this.__dir__,r=ne(e),i=n<0,l=r?e.length:0,u=Wh(0,l,this.__views__),d=u.start,p=u.end,f=p-d,_=i?p:d-1,S=this.__iteratees__,A=S.length,N=0,B=Qe(f,this.__takeCount__);if(!r||!i&&l==f&&B==f)return Fl(e,this.__actions__);var Z=[];e:for(;f--&&N<B;){_+=n;for(var se=-1,$=e[_];++se<A;){var he=S[se],ge=he.iteratee,kn=he.type,ln=ge($);if(kn==bn)$=ln;else if(!ln){if(kn==jn)continue e;break e}}Z[N++]=$}return Z}fe.prototype=Lr(pa.prototype),fe.prototype.constructor=fe;function tr(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Tp(){this.__data__=li?li(null):{},this.size=0}function Pp(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Rp(e){var n=this.__data__;if(li){var r=n[e];return r===k?o:r}return je.call(n,e)?n[e]:o}function Dp(e){var n=this.__data__;return li?n[e]!==o:je.call(n,e)}function Np(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=li&&n===o?k:n,this}tr.prototype.clear=Tp,tr.prototype.delete=Pp,tr.prototype.get=Rp,tr.prototype.has=Dp,tr.prototype.set=Np;function vt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Mp(){this.__data__=[],this.size=0}function Up(e){var n=this.__data__,r=ha(n,e);if(r<0)return!1;var i=n.length-1;return r==i?n.pop():sa.call(n,r,1),--this.size,!0}function Lp(e){var n=this.__data__,r=ha(n,e);return r<0?o:n[r][1]}function Op(e){return ha(this.__data__,e)>-1}function Fp(e,n){var r=this.__data__,i=ha(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}vt.prototype.clear=Mp,vt.prototype.delete=Up,vt.prototype.get=Lp,vt.prototype.has=Op,vt.prototype.set=Fp;function xt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function zp(){this.size=0,this.__data__={hash:new tr,map:new(si||vt),string:new tr}}function Wp(e){var n=Sa(this,e).delete(e);return this.size-=n?1:0,n}function Bp(e){return Sa(this,e).get(e)}function qp(e){return Sa(this,e).has(e)}function Vp(e,n){var r=Sa(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}xt.prototype.clear=zp,xt.prototype.delete=Wp,xt.prototype.get=Bp,xt.prototype.has=qp,xt.prototype.set=Vp;function rr(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new xt;++n<r;)this.add(e[n])}function Gp(e){return this.__data__.set(e,k),this}function Yp(e){return this.__data__.has(e)}rr.prototype.add=rr.prototype.push=Gp,rr.prototype.has=Yp;function Gn(e){var n=this.__data__=new vt(e);this.size=n.size}function Hp(){this.__data__=new vt,this.size=0}function Zp(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}function $p(e){return this.__data__.get(e)}function Kp(e){return this.__data__.has(e)}function Qp(e,n){var r=this.__data__;if(r instanceof vt){var i=r.__data__;if(!si||i.length<g-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new xt(i)}return r.set(e,n),this.size=r.size,this}Gn.prototype.clear=Hp,Gn.prototype.delete=Zp,Gn.prototype.get=$p,Gn.prototype.has=Kp,Gn.prototype.set=Qp;function ml(e,n){var r=ne(e),i=!r&&lr(e),l=!r&&!i&&Gt(e),u=!r&&!i&&!l&&Wr(e),d=r||i||l||u,p=d?cs(e.length,op):[],f=p.length;for(var _ in e)(n||je.call(e,_))&&!(d&&(_=="length"||l&&(_=="offset"||_=="parent")||u&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||wt(_,f)))&&p.push(_);return p}function vl(e){var n=e.length;return n?e[ks(0,n-1)]:o}function Xp(e,n){return ka(fn(e),ir(n,0,e.length))}function Jp(e){return ka(fn(e))}function ms(e,n,r){(r!==o&&!Yn(e[n],r)||r===o&&!(n in e))&&yt(e,n,r)}function ui(e,n,r){var i=e[n];(!(je.call(e,n)&&Yn(i,r))||r===o&&!(n in e))&&yt(e,n,r)}function ha(e,n){for(var r=e.length;r--;)if(Yn(e[r][0],n))return r;return-1}function eh(e,n,r,i){return Wt(e,function(l,u,d){n(i,l,r(l),d)}),i}function xl(e,n){return e&&at(n,Ge(n),e)}function nh(e,n){return e&&at(n,mn(n),e)}function yt(e,n,r){n=="__proto__"&&oa?oa(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function vs(e,n){for(var r=-1,i=n.length,l=j(i),u=e==null;++r<i;)l[r]=u?o:Qs(e,n[r]);return l}function ir(e,n,r){return e===e&&(r!==o&&(e=e<=r?e:r),n!==o&&(e=e>=n?e:n)),e}function Ln(e,n,r,i,l,u){var d,p=n&I,f=n&E,_=n&T;if(r&&(d=l?r(e,i,l,u):r(e)),d!==o)return d;if(!Ee(e))return e;var S=ne(e);if(S){if(d=qh(e),!p)return fn(e,d)}else{var A=Xe(e),N=A==dn||A==Tt;if(Gt(e))return Bl(e,p);if(A==Rn||A==Bn||N&&!l){if(d=f||N?{}:oc(e),!p)return f?Rh(e,nh(d,e)):Ph(e,xl(d,e))}else{if(!Se[A])return l?e:{};d=Vh(e,A,p)}}u||(u=new Gn);var B=u.get(e);if(B)return B;u.set(e,d),Uc(e)?e.forEach(function($){d.add(Ln($,n,r,$,e,u))}):Nc(e)&&e.forEach(function($,he){d.set(he,Ln($,n,r,he,e,u))});var Z=_?f?Ls:Us:f?mn:Ge,se=S?o:Z(e);return Nn(se||e,function($,he){se&&(he=$,$=e[he]),ui(d,he,Ln($,n,r,he,e,u))}),d}function th(e){var n=Ge(e);return function(r){return yl(r,e,n)}}function yl(e,n,r){var i=r.length;if(e==null)return!i;for(e=Ce(e);i--;){var l=r[i],u=n[l],d=e[l];if(d===o&&!(l in e)||!u(d))return!1}return!0}function jl(e,n,r){if(typeof e!="function")throw new Mn(y);return vi(function(){e.apply(o,r)},n)}function di(e,n,r,i){var l=-1,u=Ki,d=!0,p=e.length,f=[],_=n.length;if(!p)return f;r&&(n=Ae(n,Cn(r))),i?(u=rs,d=!1):n.length>=g&&(u=ii,d=!1,n=new rr(n));e:for(;++l<p;){var S=e[l],A=r==null?S:r(S);if(S=i||S!==0?S:0,d&&A===A){for(var N=_;N--;)if(n[N]===A)continue e;f.push(S)}else u(n,A,i)||f.push(S)}return f}var Wt=Hl(it),bl=Hl(ys,!0);function rh(e,n){var r=!0;return Wt(e,function(i,l,u){return r=!!n(i,l,u),r}),r}function fa(e,n,r){for(var i=-1,l=e.length;++i<l;){var u=e[i],d=n(u);if(d!=null&&(p===o?d===d&&!Sn(d):r(d,p)))var p=d,f=u}return f}function ih(e,n,r,i){var l=e.length;for(r=ae(r),r<0&&(r=-r>l?0:l+r),i=i===o||i>l?l:ae(i),i<0&&(i+=l),i=r>i?0:Oc(i);r<i;)e[r++]=n;return e}function wl(e,n){var r=[];return Wt(e,function(i,l,u){n(i,l,u)&&r.push(i)}),r}function Ze(e,n,r,i,l){var u=-1,d=e.length;for(r||(r=Yh),l||(l=[]);++u<d;){var p=e[u];n>0&&r(p)?n>1?Ze(p,n-1,r,i,l):Ot(l,p):i||(l[l.length]=p)}return l}var xs=Zl(),Cl=Zl(!0);function it(e,n){return e&&xs(e,n,Ge)}function ys(e,n){return e&&Cl(e,n,Ge)}function ga(e,n){return Lt(n,function(r){return Ct(e[r])})}function ar(e,n){n=qt(n,e);for(var r=0,i=n.length;e!=null&&r<i;)e=e[st(n[r++])];return r&&r==i?e:o}function _l(e,n,r){var i=n(e);return ne(e)?i:Ot(i,r(e))}function sn(e){return e==null?e===o?Ui:Ni:nr&&nr in Ce(e)?zh(e):Jh(e)}function js(e,n){return e>n}function ah(e,n){return e!=null&&je.call(e,n)}function sh(e,n){return e!=null&&n in Ce(e)}function oh(e,n,r){return e>=Qe(n,r)&&e<We(n,r)}function bs(e,n,r){for(var i=r?rs:Ki,l=e[0].length,u=e.length,d=u,p=j(u),f=1/0,_=[];d--;){var S=e[d];d&&n&&(S=Ae(S,Cn(n))),f=Qe(S.length,f),p[d]=!r&&(n||l>=120&&S.length>=120)?new rr(d&&S):o}S=e[0];var A=-1,N=p[0];e:for(;++A<l&&_.length<f;){var B=S[A],Z=n?n(B):B;if(B=r||B!==0?B:0,!(N?ii(N,Z):i(_,Z,r))){for(d=u;--d;){var se=p[d];if(!(se?ii(se,Z):i(e[d],Z,r)))continue e}N&&N.push(Z),_.push(B)}}return _}function lh(e,n,r,i){return it(e,function(l,u,d){n(i,r(l),u,d)}),i}function pi(e,n,r){n=qt(n,e),e=dc(e,n);var i=e==null?e:e[st(Fn(n))];return i==null?o:wn(i,e,r)}function Sl(e){return Te(e)&&sn(e)==Bn}function ch(e){return Te(e)&&sn(e)==Mt}function uh(e){return Te(e)&&sn(e)==qn}function hi(e,n,r,i,l){return e===n?!0:e==null||n==null||!Te(e)&&!Te(n)?e!==e&&n!==n:dh(e,n,r,i,hi,l)}function dh(e,n,r,i,l,u){var d=ne(e),p=ne(n),f=d?Et:Xe(e),_=p?Et:Xe(n);f=f==Bn?Rn:f,_=_==Bn?Rn:_;var S=f==Rn,A=_==Rn,N=f==_;if(N&&Gt(e)){if(!Gt(n))return!1;d=!0,S=!1}if(N&&!S)return u||(u=new Gn),d||Wr(e)?ic(e,n,r,i,l,u):Oh(e,n,f,r,i,l,u);if(!(r&M)){var B=S&&je.call(e,"__wrapped__"),Z=A&&je.call(n,"__wrapped__");if(B||Z){var se=B?e.value():e,$=Z?n.value():n;return u||(u=new Gn),l(se,$,r,i,u)}}return N?(u||(u=new Gn),Fh(e,n,r,i,l,u)):!1}function ph(e){return Te(e)&&Xe(e)==pn}function ws(e,n,r,i){var l=r.length,u=l,d=!i;if(e==null)return!u;for(e=Ce(e);l--;){var p=r[l];if(d&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<u;){p=r[l];var f=p[0],_=e[f],S=p[1];if(d&&p[2]){if(_===o&&!(f in e))return!1}else{var A=new Gn;if(i)var N=i(_,S,f,e,n,A);if(!(N===o?hi(S,_,M|z,i,A):N))return!1}}return!0}function kl(e){if(!Ee(e)||Zh(e))return!1;var n=Ct(e)?pp:td;return n.test(or(e))}function hh(e){return Te(e)&&sn(e)==Rt}function fh(e){return Te(e)&&Xe(e)==hn}function gh(e){return Te(e)&&Ra(e.length)&&!!Ie[sn(e)]}function Il(e){return typeof e=="function"?e:e==null?vn:typeof e=="object"?ne(e)?Tl(e[0],e[1]):El(e):$c(e)}function Cs(e){if(!mi(e))return xp(e);var n=[];for(var r in Ce(e))je.call(e,r)&&r!="constructor"&&n.push(r);return n}function mh(e){if(!Ee(e))return Xh(e);var n=mi(e),r=[];for(var i in e)i=="constructor"&&(n||!je.call(e,i))||r.push(i);return r}function _s(e,n){return e<n}function Al(e,n){var r=-1,i=gn(e)?j(e.length):[];return Wt(e,function(l,u,d){i[++r]=n(l,u,d)}),i}function El(e){var n=Fs(e);return n.length==1&&n[0][2]?cc(n[0][0],n[0][1]):function(r){return r===e||ws(r,e,n)}}function Tl(e,n){return Ws(e)&&lc(n)?cc(st(e),n):function(r){var i=Qs(r,e);return i===o&&i===n?Xs(r,e):hi(n,i,M|z)}}function ma(e,n,r,i,l){e!==n&&xs(n,function(u,d){if(l||(l=new Gn),Ee(u))vh(e,n,d,r,ma,i,l);else{var p=i?i(qs(e,d),u,d+"",e,n,l):o;p===o&&(p=u),ms(e,d,p)}},mn)}function vh(e,n,r,i,l,u,d){var p=qs(e,r),f=qs(n,r),_=d.get(f);if(_){ms(e,r,_);return}var S=u?u(p,f,r+"",e,n,d):o,A=S===o;if(A){var N=ne(f),B=!N&&Gt(f),Z=!N&&!B&&Wr(f);S=f,N||B||Z?ne(p)?S=p:Re(p)?S=fn(p):B?(A=!1,S=Bl(f,!0)):Z?(A=!1,S=ql(f,!0)):S=[]:xi(f)||lr(f)?(S=p,lr(p)?S=Fc(p):(!Ee(p)||Ct(p))&&(S=oc(f))):A=!1}A&&(d.set(f,S),l(S,f,i,u,d),d.delete(f)),ms(e,r,S)}function Pl(e,n){var r=e.length;if(r)return n+=n<0?r:0,wt(n,r)?e[n]:o}function Rl(e,n,r){n.length?n=Ae(n,function(u){return ne(u)?function(d){return ar(d,u.length===1?u[0]:u)}:u}):n=[vn];var i=-1;n=Ae(n,Cn(Y()));var l=Al(e,function(u,d,p){var f=Ae(n,function(_){return _(u)});return{criteria:f,index:++i,value:u}});return Vd(l,function(u,d){return Th(u,d,r)})}function xh(e,n){return Dl(e,n,function(r,i){return Xs(e,i)})}function Dl(e,n,r){for(var i=-1,l=n.length,u={};++i<l;){var d=n[i],p=ar(e,d);r(p,d)&&fi(u,qt(d,e),p)}return u}function yh(e){return function(n){return ar(n,e)}}function Ss(e,n,r,i){var l=i?qd:Tr,u=-1,d=n.length,p=e;for(e===n&&(n=fn(n)),r&&(p=Ae(e,Cn(r)));++u<d;)for(var f=0,_=n[u],S=r?r(_):_;(f=l(p,S,f,i))>-1;)p!==e&&sa.call(p,f,1),sa.call(e,f,1);return e}function Nl(e,n){for(var r=e?n.length:0,i=r-1;r--;){var l=n[r];if(r==i||l!==u){var u=l;wt(l)?sa.call(e,l,1):Es(e,l)}}return e}function ks(e,n){return e+ca(fl()*(n-e+1))}function jh(e,n,r,i){for(var l=-1,u=We(la((n-e)/(r||1)),0),d=j(u);u--;)d[i?u:++l]=e,e+=r;return d}function Is(e,n){var r="";if(!e||n<1||n>an)return r;do n%2&&(r+=e),n=ca(n/2),n&&(e+=e);while(n);return r}function le(e,n){return Vs(uc(e,n,vn),e+"")}function bh(e){return vl(Br(e))}function wh(e,n){var r=Br(e);return ka(r,ir(n,0,r.length))}function fi(e,n,r,i){if(!Ee(e))return e;n=qt(n,e);for(var l=-1,u=n.length,d=u-1,p=e;p!=null&&++l<u;){var f=st(n[l]),_=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(l!=d){var S=p[f];_=i?i(S,f,p):o,_===o&&(_=Ee(S)?S:wt(n[l+1])?[]:{})}ui(p,f,_),p=p[f]}return e}var Ml=ua?function(e,n){return ua.set(e,n),e}:vn,Ch=oa?function(e,n){return oa(e,"toString",{configurable:!0,enumerable:!1,value:eo(n),writable:!0})}:vn;function _h(e){return ka(Br(e))}function On(e,n,r){var i=-1,l=e.length;n<0&&(n=-n>l?0:l+n),r=r>l?l:r,r<0&&(r+=l),l=n>r?0:r-n>>>0,n>>>=0;for(var u=j(l);++i<l;)u[i]=e[i+n];return u}function Sh(e,n){var r;return Wt(e,function(i,l,u){return r=n(i,l,u),!r}),!!r}function va(e,n,r){var i=0,l=e==null?i:e.length;if(typeof n=="number"&&n===n&&l<=nt){for(;i<l;){var u=i+l>>>1,d=e[u];d!==null&&!Sn(d)&&(r?d<=n:d<n)?i=u+1:l=u}return l}return As(e,n,vn,r)}function As(e,n,r,i){var l=0,u=e==null?0:e.length;if(u===0)return 0;n=r(n);for(var d=n!==n,p=n===null,f=Sn(n),_=n===o;l<u;){var S=ca((l+u)/2),A=r(e[S]),N=A!==o,B=A===null,Z=A===A,se=Sn(A);if(d)var $=i||Z;else _?$=Z&&(i||N):p?$=Z&&N&&(i||!B):f?$=Z&&N&&!B&&(i||!se):B||se?$=!1:$=i?A<=n:A<n;$?l=S+1:u=S}return Qe(u,xr)}function Ul(e,n){for(var r=-1,i=e.length,l=0,u=[];++r<i;){var d=e[r],p=n?n(d):d;if(!r||!Yn(p,f)){var f=p;u[l++]=d===0?0:d}}return u}function Ll(e){return typeof e=="number"?e:Sn(e)?Ke:+e}function _n(e){if(typeof e=="string")return e;if(ne(e))return Ae(e,_n)+"";if(Sn(e))return gl?gl.call(e):"";var n=e+"";return n=="0"&&1/e==-rn?"-0":n}function Bt(e,n,r){var i=-1,l=Ki,u=e.length,d=!0,p=[],f=p;if(r)d=!1,l=rs;else if(u>=g){var _=n?null:Uh(e);if(_)return Xi(_);d=!1,l=ii,f=new rr}else f=n?[]:p;e:for(;++i<u;){var S=e[i],A=n?n(S):S;if(S=r||S!==0?S:0,d&&A===A){for(var N=f.length;N--;)if(f[N]===A)continue e;n&&f.push(A),p.push(S)}else l(f,A,r)||(f!==p&&f.push(A),p.push(S))}return p}function Es(e,n){return n=qt(n,e),e=dc(e,n),e==null||delete e[st(Fn(n))]}function Ol(e,n,r,i){return fi(e,n,r(ar(e,n)),i)}function xa(e,n,r,i){for(var l=e.length,u=i?l:-1;(i?u--:++u<l)&&n(e[u],u,e););return r?On(e,i?0:u,i?u+1:l):On(e,i?u+1:0,i?l:u)}function Fl(e,n){var r=e;return r instanceof fe&&(r=r.value()),is(n,function(i,l){return l.func.apply(l.thisArg,Ot([i],l.args))},r)}function Ts(e,n,r){var i=e.length;if(i<2)return i?Bt(e[0]):[];for(var l=-1,u=j(i);++l<i;)for(var d=e[l],p=-1;++p<i;)p!=l&&(u[l]=di(u[l]||d,e[p],n,r));return Bt(Ze(u,1),n,r)}function zl(e,n,r){for(var i=-1,l=e.length,u=n.length,d={};++i<l;){var p=i<u?n[i]:o;r(d,e[i],p)}return d}function Ps(e){return Re(e)?e:[]}function Rs(e){return typeof e=="function"?e:vn}function qt(e,n){return ne(e)?e:Ws(e,n)?[e]:gc(ye(e))}var kh=le;function Vt(e,n,r){var i=e.length;return r=r===o?i:r,!n&&r>=i?e:On(e,n,r)}var Wl=hp||function(e){return He.clearTimeout(e)};function Bl(e,n){if(n)return e.slice();var r=e.length,i=cl?cl(r):new e.constructor(r);return e.copy(i),i}function Ds(e){var n=new e.constructor(e.byteLength);return new ia(n).set(new ia(e)),n}function Ih(e,n){var r=n?Ds(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Ah(e){var n=new e.constructor(e.source,So.exec(e));return n.lastIndex=e.lastIndex,n}function Eh(e){return ci?Ce(ci.call(e)):{}}function ql(e,n){var r=n?Ds(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Vl(e,n){if(e!==n){var r=e!==o,i=e===null,l=e===e,u=Sn(e),d=n!==o,p=n===null,f=n===n,_=Sn(n);if(!p&&!_&&!u&&e>n||u&&d&&f&&!p&&!_||i&&d&&f||!r&&f||!l)return 1;if(!i&&!u&&!_&&e<n||_&&r&&l&&!i&&!u||p&&r&&l||!d&&l||!f)return-1}return 0}function Th(e,n,r){for(var i=-1,l=e.criteria,u=n.criteria,d=l.length,p=r.length;++i<d;){var f=Vl(l[i],u[i]);if(f){if(i>=p)return f;var _=r[i];return f*(_=="desc"?-1:1)}}return e.index-n.index}function Gl(e,n,r,i){for(var l=-1,u=e.length,d=r.length,p=-1,f=n.length,_=We(u-d,0),S=j(f+_),A=!i;++p<f;)S[p]=n[p];for(;++l<d;)(A||l<u)&&(S[r[l]]=e[l]);for(;_--;)S[p++]=e[l++];return S}function Yl(e,n,r,i){for(var l=-1,u=e.length,d=-1,p=r.length,f=-1,_=n.length,S=We(u-p,0),A=j(S+_),N=!i;++l<S;)A[l]=e[l];for(var B=l;++f<_;)A[B+f]=n[f];for(;++d<p;)(N||l<u)&&(A[B+r[d]]=e[l++]);return A}function fn(e,n){var r=-1,i=e.length;for(n||(n=j(i));++r<i;)n[r]=e[r];return n}function at(e,n,r,i){var l=!r;r||(r={});for(var u=-1,d=n.length;++u<d;){var p=n[u],f=i?i(r[p],e[p],p,r,e):o;f===o&&(f=e[p]),l?yt(r,p,f):ui(r,p,f)}return r}function Ph(e,n){return at(e,zs(e),n)}function Rh(e,n){return at(e,ac(e),n)}function ya(e,n){return function(r,i){var l=ne(r)?Ld:eh,u=n?n():{};return l(r,e,Y(i,2),u)}}function Or(e){return le(function(n,r){var i=-1,l=r.length,u=l>1?r[l-1]:o,d=l>2?r[2]:o;for(u=e.length>3&&typeof u=="function"?(l--,u):o,d&&on(r[0],r[1],d)&&(u=l<3?o:u,l=1),n=Ce(n);++i<l;){var p=r[i];p&&e(n,p,i,u)}return n})}function Hl(e,n){return function(r,i){if(r==null)return r;if(!gn(r))return e(r,i);for(var l=r.length,u=n?l:-1,d=Ce(r);(n?u--:++u<l)&&i(d[u],u,d)!==!1;);return r}}function Zl(e){return function(n,r,i){for(var l=-1,u=Ce(n),d=i(n),p=d.length;p--;){var f=d[e?p:++l];if(r(u[f],f,u)===!1)break}return n}}function Dh(e,n,r){var i=n&D,l=gi(e);function u(){var d=this&&this!==He&&this instanceof u?l:e;return d.apply(i?r:this,arguments)}return u}function $l(e){return function(n){n=ye(n);var r=Pr(n)?Vn(n):o,i=r?r[0]:n.charAt(0),l=r?Vt(r,1).join(""):n.slice(1);return i[e]()+l}}function Fr(e){return function(n){return is(Hc(Yc(n).replace(Cd,"")),e,"")}}function gi(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Lr(e.prototype),i=e.apply(r,n);return Ee(i)?i:r}}function Nh(e,n,r){var i=gi(e);function l(){for(var u=arguments.length,d=j(u),p=u,f=zr(l);p--;)d[p]=arguments[p];var _=u<3&&d[0]!==f&&d[u-1]!==f?[]:Ft(d,f);if(u-=_.length,u<r)return ec(e,n,ja,l.placeholder,o,d,_,o,o,r-u);var S=this&&this!==He&&this instanceof l?i:e;return wn(S,this,d)}return l}function Kl(e){return function(n,r,i){var l=Ce(n);if(!gn(n)){var u=Y(r,3);n=Ge(n),r=function(p){return u(l[p],p,l)}}var d=e(n,r,i);return d>-1?l[u?n[d]:d]:o}}function Ql(e){return bt(function(n){var r=n.length,i=r,l=Un.prototype.thru;for(e&&n.reverse();i--;){var u=n[i];if(typeof u!="function")throw new Mn(y);if(l&&!d&&_a(u)=="wrapper")var d=new Un([],!0)}for(i=d?i:r;++i<r;){u=n[i];var p=_a(u),f=p=="wrapper"?Os(u):o;f&&Bs(f[0])&&f[1]==(H|q|K|me)&&!f[4].length&&f[9]==1?d=d[_a(f[0])].apply(d,f[3]):d=u.length==1&&Bs(u)?d[p]():d.thru(u)}return function(){var _=arguments,S=_[0];if(d&&_.length==1&&ne(S))return d.plant(S).value();for(var A=0,N=r?n[A].apply(this,_):S;++A<r;)N=n[A].call(this,N);return N}})}function ja(e,n,r,i,l,u,d,p,f,_){var S=n&H,A=n&D,N=n&R,B=n&(q|W),Z=n&re,se=N?o:gi(e);function $(){for(var he=arguments.length,ge=j(he),kn=he;kn--;)ge[kn]=arguments[kn];if(B)var ln=zr($),In=Yd(ge,ln);if(i&&(ge=Gl(ge,i,l,B)),u&&(ge=Yl(ge,u,d,B)),he-=In,B&&he<_){var De=Ft(ge,ln);return ec(e,n,ja,$.placeholder,r,ge,De,p,f,_-he)}var Hn=A?r:this,St=N?Hn[e]:e;return he=ge.length,p?ge=e1(ge,p):Z&&he>1&&ge.reverse(),S&&f<he&&(ge.length=f),this&&this!==He&&this instanceof $&&(St=se||gi(St)),St.apply(Hn,ge)}return $}function Xl(e,n){return function(r,i){return lh(r,e,n(i),{})}}function ba(e,n){return function(r,i){var l;if(r===o&&i===o)return n;if(r!==o&&(l=r),i!==o){if(l===o)return i;typeof r=="string"||typeof i=="string"?(r=_n(r),i=_n(i)):(r=Ll(r),i=Ll(i)),l=e(r,i)}return l}}function Ns(e){return bt(function(n){return n=Ae(n,Cn(Y())),le(function(r){var i=this;return e(n,function(l){return wn(l,i,r)})})})}function wa(e,n){n=n===o?" ":_n(n);var r=n.length;if(r<2)return r?Is(n,e):n;var i=Is(n,la(e/Rr(n)));return Pr(n)?Vt(Vn(i),0,e).join(""):i.slice(0,e)}function Mh(e,n,r,i){var l=n&D,u=gi(e);function d(){for(var p=-1,f=arguments.length,_=-1,S=i.length,A=j(S+f),N=this&&this!==He&&this instanceof d?u:e;++_<S;)A[_]=i[_];for(;f--;)A[_++]=arguments[++p];return wn(N,l?r:this,A)}return d}function Jl(e){return function(n,r,i){return i&&typeof i!="number"&&on(n,r,i)&&(r=i=o),n=_t(n),r===o?(r=n,n=0):r=_t(r),i=i===o?n<r?1:-1:_t(i),jh(n,r,i,e)}}function Ca(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=zn(n),r=zn(r)),e(n,r)}}function ec(e,n,r,i,l,u,d,p,f,_){var S=n&q,A=S?d:o,N=S?o:d,B=S?u:o,Z=S?o:u;n|=S?K:X,n&=~(S?X:K),n&G||(n&=~(D|R));var se=[e,n,l,B,A,Z,N,p,f,_],$=r.apply(o,se);return Bs(e)&&pc($,se),$.placeholder=i,hc($,e,n)}function Ms(e){var n=ze[e];return function(r,i){if(r=zn(r),i=i==null?0:Qe(ae(i),292),i&&hl(r)){var l=(ye(r)+"e").split("e"),u=n(l[0]+"e"+(+l[1]+i));return l=(ye(u)+"e").split("e"),+(l[0]+"e"+(+l[1]-i))}return n(r)}}var Uh=Mr&&1/Xi(new Mr([,-0]))[1]==rn?function(e){return new Mr(e)}:ro;function nc(e){return function(n){var r=Xe(n);return r==pn?ds(n):r==hn?Jd(n):Gd(n,e(n))}}function jt(e,n,r,i,l,u,d,p){var f=n&R;if(!f&&typeof e!="function")throw new Mn(y);var _=i?i.length:0;if(_||(n&=~(K|X),i=l=o),d=d===o?d:We(ae(d),0),p=p===o?p:ae(p),_-=l?l.length:0,n&X){var S=i,A=l;i=l=o}var N=f?o:Os(e),B=[e,n,r,i,l,S,A,u,d,p];if(N&&Qh(B,N),e=B[0],n=B[1],r=B[2],i=B[3],l=B[4],p=B[9]=B[9]===o?f?0:e.length:We(B[9]-_,0),!p&&n&(q|W)&&(n&=~(q|W)),!n||n==D)var Z=Dh(e,n,r);else n==q||n==W?Z=Nh(e,n,p):(n==K||n==(D|K))&&!l.length?Z=Mh(e,n,r,i):Z=ja.apply(o,B);var se=N?Ml:pc;return hc(se(Z,B),e,n)}function tc(e,n,r,i){return e===o||Yn(e,Nr[r])&&!je.call(i,r)?n:e}function rc(e,n,r,i,l,u){return Ee(e)&&Ee(n)&&(u.set(n,e),ma(e,n,o,rc,u),u.delete(n)),e}function Lh(e){return xi(e)?o:e}function ic(e,n,r,i,l,u){var d=r&M,p=e.length,f=n.length;if(p!=f&&!(d&&f>p))return!1;var _=u.get(e),S=u.get(n);if(_&&S)return _==n&&S==e;var A=-1,N=!0,B=r&z?new rr:o;for(u.set(e,n),u.set(n,e);++A<p;){var Z=e[A],se=n[A];if(i)var $=d?i(se,Z,A,n,e,u):i(Z,se,A,e,n,u);if($!==o){if($)continue;N=!1;break}if(B){if(!as(n,function(he,ge){if(!ii(B,ge)&&(Z===he||l(Z,he,r,i,u)))return B.push(ge)})){N=!1;break}}else if(!(Z===se||l(Z,se,r,i,u))){N=!1;break}}return u.delete(e),u.delete(n),N}function Oh(e,n,r,i,l,u,d){switch(r){case mt:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Mt:return!(e.byteLength!=n.byteLength||!u(new ia(e),new ia(n)));case tt:case qn:case Pt:return Yn(+e,+n);case rt:return e.name==n.name&&e.message==n.message;case Rt:case Dt:return e==n+"";case pn:var p=ds;case hn:var f=i&M;if(p||(p=Xi),e.size!=n.size&&!f)return!1;var _=d.get(e);if(_)return _==n;i|=z,d.set(e,n);var S=ic(p(e),p(n),i,l,u,d);return d.delete(e),S;case Jt:if(ci)return ci.call(e)==ci.call(n)}return!1}function Fh(e,n,r,i,l,u){var d=r&M,p=Us(e),f=p.length,_=Us(n),S=_.length;if(f!=S&&!d)return!1;for(var A=f;A--;){var N=p[A];if(!(d?N in n:je.call(n,N)))return!1}var B=u.get(e),Z=u.get(n);if(B&&Z)return B==n&&Z==e;var se=!0;u.set(e,n),u.set(n,e);for(var $=d;++A<f;){N=p[A];var he=e[N],ge=n[N];if(i)var kn=d?i(ge,he,N,n,e,u):i(he,ge,N,e,n,u);if(!(kn===o?he===ge||l(he,ge,r,i,u):kn)){se=!1;break}$||($=N=="constructor")}if(se&&!$){var ln=e.constructor,In=n.constructor;ln!=In&&"constructor"in e&&"constructor"in n&&!(typeof ln=="function"&&ln instanceof ln&&typeof In=="function"&&In instanceof In)&&(se=!1)}return u.delete(e),u.delete(n),se}function bt(e){return Vs(uc(e,o,yc),e+"")}function Us(e){return _l(e,Ge,zs)}function Ls(e){return _l(e,mn,ac)}var Os=ua?function(e){return ua.get(e)}:ro;function _a(e){for(var n=e.name+"",r=Ur[n],i=je.call(Ur,n)?r.length:0;i--;){var l=r[i],u=l.func;if(u==null||u==e)return l.name}return n}function zr(e){var n=je.call(c,"placeholder")?c:e;return n.placeholder}function Y(){var e=c.iteratee||no;return e=e===no?Il:e,arguments.length?e(arguments[0],arguments[1]):e}function Sa(e,n){var r=e.__data__;return Hh(n)?r[typeof n=="string"?"string":"hash"]:r.map}function Fs(e){for(var n=Ge(e),r=n.length;r--;){var i=n[r],l=e[i];n[r]=[i,l,lc(l)]}return n}function sr(e,n){var r=Kd(e,n);return kl(r)?r:o}function zh(e){var n=je.call(e,nr),r=e[nr];try{e[nr]=o;var i=!0}catch{}var l=ta.call(e);return i&&(n?e[nr]=r:delete e[nr]),l}var zs=hs?function(e){return e==null?[]:(e=Ce(e),Lt(hs(e),function(n){return dl.call(e,n)}))}:io,ac=hs?function(e){for(var n=[];e;)Ot(n,zs(e)),e=aa(e);return n}:io,Xe=sn;(fs&&Xe(new fs(new ArrayBuffer(1)))!=mt||si&&Xe(new si)!=pn||gs&&Xe(gs.resolve())!=Jr||Mr&&Xe(new Mr)!=hn||oi&&Xe(new oi)!=Nt)&&(Xe=function(e){var n=sn(e),r=n==Rn?e.constructor:o,i=r?or(r):"";if(i)switch(i){case wp:return mt;case Cp:return pn;case _p:return Jr;case Sp:return hn;case kp:return Nt}return n});function Wh(e,n,r){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=u.size;switch(u.type){case"drop":e+=d;break;case"dropRight":n-=d;break;case"take":n=Qe(n,e+d);break;case"takeRight":e=We(e,n-d);break}}return{start:e,end:n}}function Bh(e){var n=e.match(Zu);return n?n[1].split($u):[]}function sc(e,n,r){n=qt(n,e);for(var i=-1,l=n.length,u=!1;++i<l;){var d=st(n[i]);if(!(u=e!=null&&r(e,d)))break;e=e[d]}return u||++i!=l?u:(l=e==null?0:e.length,!!l&&Ra(l)&&wt(d,l)&&(ne(e)||lr(e)))}function qh(e){var n=e.length,r=new e.constructor(n);return n&&typeof e[0]=="string"&&je.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function oc(e){return typeof e.constructor=="function"&&!mi(e)?Lr(aa(e)):{}}function Vh(e,n,r){var i=e.constructor;switch(n){case Mt:return Ds(e);case tt:case qn:return new i(+e);case mt:return Ih(e,r);case jr:case br:case wr:case Cr:case _r:case Sr:case kr:case Ir:case Ar:return ql(e,r);case pn:return new i;case Pt:case Dt:return new i(e);case Rt:return Ah(e);case hn:return new i;case Jt:return Eh(e)}}function Gh(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(Hu,`{
/* [wrapped with `+n+`] */
`)}function Yh(e){return ne(e)||lr(e)||!!(pl&&e&&e[pl])}function wt(e,n){var r=typeof e;return n=n??an,!!n&&(r=="number"||r!="symbol"&&id.test(e))&&e>-1&&e%1==0&&e<n}function on(e,n,r){if(!Ee(r))return!1;var i=typeof n;return(i=="number"?gn(r)&&wt(n,r.length):i=="string"&&n in r)?Yn(r[n],e):!1}function Ws(e,n){if(ne(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Sn(e)?!0:Yi.test(e)||!Gi.test(e)||n!=null&&e in Ce(n)}function Hh(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Bs(e){var n=_a(e),r=c[n];if(typeof r!="function"||!(n in fe.prototype))return!1;if(e===r)return!0;var i=Os(r);return!!i&&e===i[0]}function Zh(e){return!!ll&&ll in e}var $h=ea?Ct:ao;function mi(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Nr;return e===r}function lc(e){return e===e&&!Ee(e)}function cc(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==o||e in Ce(r))}}function Kh(e){var n=Ta(e,function(i){return r.size===v&&r.clear(),i}),r=n.cache;return n}function Qh(e,n){var r=e[1],i=n[1],l=r|i,u=l<(D|R|H),d=i==H&&r==q||i==H&&r==me&&e[7].length<=n[8]||i==(H|me)&&n[7].length<=n[8]&&r==q;if(!(u||d))return e;i&D&&(e[2]=n[2],l|=r&D?0:G);var p=n[3];if(p){var f=e[3];e[3]=f?Gl(f,p,n[4]):p,e[4]=f?Ft(e[3],P):n[4]}return p=n[5],p&&(f=e[5],e[5]=f?Yl(f,p,n[6]):p,e[6]=f?Ft(e[5],P):n[6]),p=n[7],p&&(e[7]=p),i&H&&(e[8]=e[8]==null?n[8]:Qe(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=l,e}function Xh(e){var n=[];if(e!=null)for(var r in Ce(e))n.push(r);return n}function Jh(e){return ta.call(e)}function uc(e,n,r){return n=We(n===o?e.length-1:n,0),function(){for(var i=arguments,l=-1,u=We(i.length-n,0),d=j(u);++l<u;)d[l]=i[n+l];l=-1;for(var p=j(n+1);++l<n;)p[l]=i[l];return p[n]=r(d),wn(e,this,p)}}function dc(e,n){return n.length<2?e:ar(e,On(n,0,-1))}function e1(e,n){for(var r=e.length,i=Qe(n.length,r),l=fn(e);i--;){var u=n[i];e[i]=wt(u,r)?l[u]:o}return e}function qs(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var pc=fc(Ml),vi=gp||function(e,n){return He.setTimeout(e,n)},Vs=fc(Ch);function hc(e,n,r){var i=n+"";return Vs(e,Gh(i,n1(Bh(i),r)))}function fc(e){var n=0,r=0;return function(){var i=yp(),l=un-(i-r);if(r=i,l>0){if(++n>=qe)return arguments[0]}else n=0;return e.apply(o,arguments)}}function ka(e,n){var r=-1,i=e.length,l=i-1;for(n=n===o?i:n;++r<n;){var u=ks(r,l),d=e[u];e[u]=e[r],e[r]=d}return e.length=n,e}var gc=Kh(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Ut,function(r,i,l,u){n.push(l?u.replace(Xu,"$1"):i||r)}),n});function st(e){if(typeof e=="string"||Sn(e))return e;var n=e+"";return n=="0"&&1/e==-rn?"-0":n}function or(e){if(e!=null){try{return na.call(e)}catch{}try{return e+""}catch{}}return""}function n1(e,n){return Nn(Qt,function(r){var i="_."+r[0];n&r[1]&&!Ki(e,i)&&e.push(i)}),e.sort()}function mc(e){if(e instanceof fe)return e.clone();var n=new Un(e.__wrapped__,e.__chain__);return n.__actions__=fn(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function t1(e,n,r){(r?on(e,n,r):n===o)?n=1:n=We(ae(n),0);var i=e==null?0:e.length;if(!i||n<1)return[];for(var l=0,u=0,d=j(la(i/n));l<i;)d[u++]=On(e,l,l+=n);return d}function r1(e){for(var n=-1,r=e==null?0:e.length,i=0,l=[];++n<r;){var u=e[n];u&&(l[i++]=u)}return l}function i1(){var e=arguments.length;if(!e)return[];for(var n=j(e-1),r=arguments[0],i=e;i--;)n[i-1]=arguments[i];return Ot(ne(r)?fn(r):[r],Ze(n,1))}var a1=le(function(e,n){return Re(e)?di(e,Ze(n,1,Re,!0)):[]}),s1=le(function(e,n){var r=Fn(n);return Re(r)&&(r=o),Re(e)?di(e,Ze(n,1,Re,!0),Y(r,2)):[]}),o1=le(function(e,n){var r=Fn(n);return Re(r)&&(r=o),Re(e)?di(e,Ze(n,1,Re,!0),o,r):[]});function l1(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===o?1:ae(n),On(e,n<0?0:n,i)):[]}function c1(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===o?1:ae(n),n=i-n,On(e,0,n<0?0:n)):[]}function u1(e,n){return e&&e.length?xa(e,Y(n,3),!0,!0):[]}function d1(e,n){return e&&e.length?xa(e,Y(n,3),!0):[]}function p1(e,n,r,i){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&on(e,n,r)&&(r=0,i=l),ih(e,n,r,i)):[]}function vc(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=r==null?0:ae(r);return l<0&&(l=We(i+l,0)),Qi(e,Y(n,3),l)}function xc(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=i-1;return r!==o&&(l=ae(r),l=r<0?We(i+l,0):Qe(l,i-1)),Qi(e,Y(n,3),l,!0)}function yc(e){var n=e==null?0:e.length;return n?Ze(e,1):[]}function h1(e){var n=e==null?0:e.length;return n?Ze(e,rn):[]}function f1(e,n){var r=e==null?0:e.length;return r?(n=n===o?1:ae(n),Ze(e,n)):[]}function g1(e){for(var n=-1,r=e==null?0:e.length,i={};++n<r;){var l=e[n];i[l[0]]=l[1]}return i}function jc(e){return e&&e.length?e[0]:o}function m1(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=r==null?0:ae(r);return l<0&&(l=We(i+l,0)),Tr(e,n,l)}function v1(e){var n=e==null?0:e.length;return n?On(e,0,-1):[]}var x1=le(function(e){var n=Ae(e,Ps);return n.length&&n[0]===e[0]?bs(n):[]}),y1=le(function(e){var n=Fn(e),r=Ae(e,Ps);return n===Fn(r)?n=o:r.pop(),r.length&&r[0]===e[0]?bs(r,Y(n,2)):[]}),j1=le(function(e){var n=Fn(e),r=Ae(e,Ps);return n=typeof n=="function"?n:o,n&&r.pop(),r.length&&r[0]===e[0]?bs(r,o,n):[]});function b1(e,n){return e==null?"":vp.call(e,n)}function Fn(e){var n=e==null?0:e.length;return n?e[n-1]:o}function w1(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=i;return r!==o&&(l=ae(r),l=l<0?We(i+l,0):Qe(l,i-1)),n===n?np(e,n,l):Qi(e,el,l,!0)}function C1(e,n){return e&&e.length?Pl(e,ae(n)):o}var _1=le(bc);function bc(e,n){return e&&e.length&&n&&n.length?Ss(e,n):e}function S1(e,n,r){return e&&e.length&&n&&n.length?Ss(e,n,Y(r,2)):e}function k1(e,n,r){return e&&e.length&&n&&n.length?Ss(e,n,o,r):e}var I1=bt(function(e,n){var r=e==null?0:e.length,i=vs(e,n);return Nl(e,Ae(n,function(l){return wt(l,r)?+l:l}).sort(Vl)),i});function A1(e,n){var r=[];if(!(e&&e.length))return r;var i=-1,l=[],u=e.length;for(n=Y(n,3);++i<u;){var d=e[i];n(d,i,e)&&(r.push(d),l.push(i))}return Nl(e,l),r}function Gs(e){return e==null?e:bp.call(e)}function E1(e,n,r){var i=e==null?0:e.length;return i?(r&&typeof r!="number"&&on(e,n,r)?(n=0,r=i):(n=n==null?0:ae(n),r=r===o?i:ae(r)),On(e,n,r)):[]}function T1(e,n){return va(e,n)}function P1(e,n,r){return As(e,n,Y(r,2))}function R1(e,n){var r=e==null?0:e.length;if(r){var i=va(e,n);if(i<r&&Yn(e[i],n))return i}return-1}function D1(e,n){return va(e,n,!0)}function N1(e,n,r){return As(e,n,Y(r,2),!0)}function M1(e,n){var r=e==null?0:e.length;if(r){var i=va(e,n,!0)-1;if(Yn(e[i],n))return i}return-1}function U1(e){return e&&e.length?Ul(e):[]}function L1(e,n){return e&&e.length?Ul(e,Y(n,2)):[]}function O1(e){var n=e==null?0:e.length;return n?On(e,1,n):[]}function F1(e,n,r){return e&&e.length?(n=r||n===o?1:ae(n),On(e,0,n<0?0:n)):[]}function z1(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===o?1:ae(n),n=i-n,On(e,n<0?0:n,i)):[]}function W1(e,n){return e&&e.length?xa(e,Y(n,3),!1,!0):[]}function B1(e,n){return e&&e.length?xa(e,Y(n,3)):[]}var q1=le(function(e){return Bt(Ze(e,1,Re,!0))}),V1=le(function(e){var n=Fn(e);return Re(n)&&(n=o),Bt(Ze(e,1,Re,!0),Y(n,2))}),G1=le(function(e){var n=Fn(e);return n=typeof n=="function"?n:o,Bt(Ze(e,1,Re,!0),o,n)});function Y1(e){return e&&e.length?Bt(e):[]}function H1(e,n){return e&&e.length?Bt(e,Y(n,2)):[]}function Z1(e,n){return n=typeof n=="function"?n:o,e&&e.length?Bt(e,o,n):[]}function Ys(e){if(!(e&&e.length))return[];var n=0;return e=Lt(e,function(r){if(Re(r))return n=We(r.length,n),!0}),cs(n,function(r){return Ae(e,ss(r))})}function wc(e,n){if(!(e&&e.length))return[];var r=Ys(e);return n==null?r:Ae(r,function(i){return wn(n,o,i)})}var $1=le(function(e,n){return Re(e)?di(e,n):[]}),K1=le(function(e){return Ts(Lt(e,Re))}),Q1=le(function(e){var n=Fn(e);return Re(n)&&(n=o),Ts(Lt(e,Re),Y(n,2))}),X1=le(function(e){var n=Fn(e);return n=typeof n=="function"?n:o,Ts(Lt(e,Re),o,n)}),J1=le(Ys);function ef(e,n){return zl(e||[],n||[],ui)}function nf(e,n){return zl(e||[],n||[],fi)}var tf=le(function(e){var n=e.length,r=n>1?e[n-1]:o;return r=typeof r=="function"?(e.pop(),r):o,wc(e,r)});function Cc(e){var n=c(e);return n.__chain__=!0,n}function rf(e,n){return n(e),e}function Ia(e,n){return n(e)}var af=bt(function(e){var n=e.length,r=n?e[0]:0,i=this.__wrapped__,l=function(u){return vs(u,e)};return n>1||this.__actions__.length||!(i instanceof fe)||!wt(r)?this.thru(l):(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:Ia,args:[l],thisArg:o}),new Un(i,this.__chain__).thru(function(u){return n&&!u.length&&u.push(o),u}))});function sf(){return Cc(this)}function of(){return new Un(this.value(),this.__chain__)}function lf(){this.__values__===o&&(this.__values__=Lc(this.value()));var e=this.__index__>=this.__values__.length,n=e?o:this.__values__[this.__index__++];return{done:e,value:n}}function cf(){return this}function uf(e){for(var n,r=this;r instanceof pa;){var i=mc(r);i.__index__=0,i.__values__=o,n?l.__wrapped__=i:n=i;var l=i;r=r.__wrapped__}return l.__wrapped__=e,n}function df(){var e=this.__wrapped__;if(e instanceof fe){var n=e;return this.__actions__.length&&(n=new fe(this)),n=n.reverse(),n.__actions__.push({func:Ia,args:[Gs],thisArg:o}),new Un(n,this.__chain__)}return this.thru(Gs)}function pf(){return Fl(this.__wrapped__,this.__actions__)}var hf=ya(function(e,n,r){je.call(e,r)?++e[r]:yt(e,r,1)});function ff(e,n,r){var i=ne(e)?Xo:rh;return r&&on(e,n,r)&&(n=o),i(e,Y(n,3))}function gf(e,n){var r=ne(e)?Lt:wl;return r(e,Y(n,3))}var mf=Kl(vc),vf=Kl(xc);function xf(e,n){return Ze(Aa(e,n),1)}function yf(e,n){return Ze(Aa(e,n),rn)}function jf(e,n,r){return r=r===o?1:ae(r),Ze(Aa(e,n),r)}function _c(e,n){var r=ne(e)?Nn:Wt;return r(e,Y(n,3))}function Sc(e,n){var r=ne(e)?Od:bl;return r(e,Y(n,3))}var bf=ya(function(e,n,r){je.call(e,r)?e[r].push(n):yt(e,r,[n])});function wf(e,n,r,i){e=gn(e)?e:Br(e),r=r&&!i?ae(r):0;var l=e.length;return r<0&&(r=We(l+r,0)),Da(e)?r<=l&&e.indexOf(n,r)>-1:!!l&&Tr(e,n,r)>-1}var Cf=le(function(e,n,r){var i=-1,l=typeof n=="function",u=gn(e)?j(e.length):[];return Wt(e,function(d){u[++i]=l?wn(n,d,r):pi(d,n,r)}),u}),_f=ya(function(e,n,r){yt(e,r,n)});function Aa(e,n){var r=ne(e)?Ae:Al;return r(e,Y(n,3))}function Sf(e,n,r,i){return e==null?[]:(ne(n)||(n=n==null?[]:[n]),r=i?o:r,ne(r)||(r=r==null?[]:[r]),Rl(e,n,r))}var kf=ya(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]});function If(e,n,r){var i=ne(e)?is:tl,l=arguments.length<3;return i(e,Y(n,4),r,l,Wt)}function Af(e,n,r){var i=ne(e)?Fd:tl,l=arguments.length<3;return i(e,Y(n,4),r,l,bl)}function Ef(e,n){var r=ne(e)?Lt:wl;return r(e,Pa(Y(n,3)))}function Tf(e){var n=ne(e)?vl:bh;return n(e)}function Pf(e,n,r){(r?on(e,n,r):n===o)?n=1:n=ae(n);var i=ne(e)?Xp:wh;return i(e,n)}function Rf(e){var n=ne(e)?Jp:_h;return n(e)}function Df(e){if(e==null)return 0;if(gn(e))return Da(e)?Rr(e):e.length;var n=Xe(e);return n==pn||n==hn?e.size:Cs(e).length}function Nf(e,n,r){var i=ne(e)?as:Sh;return r&&on(e,n,r)&&(n=o),i(e,Y(n,3))}var Mf=le(function(e,n){if(e==null)return[];var r=n.length;return r>1&&on(e,n[0],n[1])?n=[]:r>2&&on(n[0],n[1],n[2])&&(n=[n[0]]),Rl(e,Ze(n,1),[])}),Ea=fp||function(){return He.Date.now()};function Uf(e,n){if(typeof n!="function")throw new Mn(y);return e=ae(e),function(){if(--e<1)return n.apply(this,arguments)}}function kc(e,n,r){return n=r?o:n,n=e&&n==null?e.length:n,jt(e,H,o,o,o,o,n)}function Ic(e,n){var r;if(typeof n!="function")throw new Mn(y);return e=ae(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=o),r}}var Hs=le(function(e,n,r){var i=D;if(r.length){var l=Ft(r,zr(Hs));i|=K}return jt(e,i,n,r,l)}),Ac=le(function(e,n,r){var i=D|R;if(r.length){var l=Ft(r,zr(Ac));i|=K}return jt(n,i,e,r,l)});function Ec(e,n,r){n=r?o:n;var i=jt(e,q,o,o,o,o,o,n);return i.placeholder=Ec.placeholder,i}function Tc(e,n,r){n=r?o:n;var i=jt(e,W,o,o,o,o,o,n);return i.placeholder=Tc.placeholder,i}function Pc(e,n,r){var i,l,u,d,p,f,_=0,S=!1,A=!1,N=!0;if(typeof e!="function")throw new Mn(y);n=zn(n)||0,Ee(r)&&(S=!!r.leading,A="maxWait"in r,u=A?We(zn(r.maxWait)||0,n):u,N="trailing"in r?!!r.trailing:N);function B(De){var Hn=i,St=l;return i=l=o,_=De,d=e.apply(St,Hn),d}function Z(De){return _=De,p=vi(he,n),S?B(De):d}function se(De){var Hn=De-f,St=De-_,Kc=n-Hn;return A?Qe(Kc,u-St):Kc}function $(De){var Hn=De-f,St=De-_;return f===o||Hn>=n||Hn<0||A&&St>=u}function he(){var De=Ea();if($(De))return ge(De);p=vi(he,se(De))}function ge(De){return p=o,N&&i?B(De):(i=l=o,d)}function kn(){p!==o&&Wl(p),_=0,i=f=l=p=o}function ln(){return p===o?d:ge(Ea())}function In(){var De=Ea(),Hn=$(De);if(i=arguments,l=this,f=De,Hn){if(p===o)return Z(f);if(A)return Wl(p),p=vi(he,n),B(f)}return p===o&&(p=vi(he,n)),d}return In.cancel=kn,In.flush=ln,In}var Lf=le(function(e,n){return jl(e,1,n)}),Of=le(function(e,n,r){return jl(e,zn(n)||0,r)});function Ff(e){return jt(e,re)}function Ta(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Mn(y);var r=function(){var i=arguments,l=n?n.apply(this,i):i[0],u=r.cache;if(u.has(l))return u.get(l);var d=e.apply(this,i);return r.cache=u.set(l,d)||u,d};return r.cache=new(Ta.Cache||xt),r}Ta.Cache=xt;function Pa(e){if(typeof e!="function")throw new Mn(y);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function zf(e){return Ic(2,e)}var Wf=kh(function(e,n){n=n.length==1&&ne(n[0])?Ae(n[0],Cn(Y())):Ae(Ze(n,1),Cn(Y()));var r=n.length;return le(function(i){for(var l=-1,u=Qe(i.length,r);++l<u;)i[l]=n[l].call(this,i[l]);return wn(e,this,i)})}),Zs=le(function(e,n){var r=Ft(n,zr(Zs));return jt(e,K,o,n,r)}),Rc=le(function(e,n){var r=Ft(n,zr(Rc));return jt(e,X,o,n,r)}),Bf=bt(function(e,n){return jt(e,me,o,o,o,n)});function qf(e,n){if(typeof e!="function")throw new Mn(y);return n=n===o?n:ae(n),le(e,n)}function Vf(e,n){if(typeof e!="function")throw new Mn(y);return n=n==null?0:We(ae(n),0),le(function(r){var i=r[n],l=Vt(r,0,n);return i&&Ot(l,i),wn(e,this,l)})}function Gf(e,n,r){var i=!0,l=!0;if(typeof e!="function")throw new Mn(y);return Ee(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),Pc(e,n,{leading:i,maxWait:n,trailing:l})}function Yf(e){return kc(e,1)}function Hf(e,n){return Zs(Rs(n),e)}function Zf(){if(!arguments.length)return[];var e=arguments[0];return ne(e)?e:[e]}function $f(e){return Ln(e,T)}function Kf(e,n){return n=typeof n=="function"?n:o,Ln(e,T,n)}function Qf(e){return Ln(e,I|T)}function Xf(e,n){return n=typeof n=="function"?n:o,Ln(e,I|T,n)}function Jf(e,n){return n==null||yl(e,n,Ge(n))}function Yn(e,n){return e===n||e!==e&&n!==n}var eg=Ca(js),ng=Ca(function(e,n){return e>=n}),lr=Sl(function(){return arguments}())?Sl:function(e){return Te(e)&&je.call(e,"callee")&&!dl.call(e,"callee")},ne=j.isArray,tg=Yo?Cn(Yo):ch;function gn(e){return e!=null&&Ra(e.length)&&!Ct(e)}function Re(e){return Te(e)&&gn(e)}function rg(e){return e===!0||e===!1||Te(e)&&sn(e)==tt}var Gt=mp||ao,ig=Ho?Cn(Ho):uh;function ag(e){return Te(e)&&e.nodeType===1&&!xi(e)}function sg(e){if(e==null)return!0;if(gn(e)&&(ne(e)||typeof e=="string"||typeof e.splice=="function"||Gt(e)||Wr(e)||lr(e)))return!e.length;var n=Xe(e);if(n==pn||n==hn)return!e.size;if(mi(e))return!Cs(e).length;for(var r in e)if(je.call(e,r))return!1;return!0}function og(e,n){return hi(e,n)}function lg(e,n,r){r=typeof r=="function"?r:o;var i=r?r(e,n):o;return i===o?hi(e,n,o,r):!!i}function $s(e){if(!Te(e))return!1;var n=sn(e);return n==rt||n==yr||typeof e.message=="string"&&typeof e.name=="string"&&!xi(e)}function cg(e){return typeof e=="number"&&hl(e)}function Ct(e){if(!Ee(e))return!1;var n=sn(e);return n==dn||n==Tt||n==Xt||n==Mi}function Dc(e){return typeof e=="number"&&e==ae(e)}function Ra(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=an}function Ee(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Te(e){return e!=null&&typeof e=="object"}var Nc=Zo?Cn(Zo):ph;function ug(e,n){return e===n||ws(e,n,Fs(n))}function dg(e,n,r){return r=typeof r=="function"?r:o,ws(e,n,Fs(n),r)}function pg(e){return Mc(e)&&e!=+e}function hg(e){if($h(e))throw new J(x);return kl(e)}function fg(e){return e===null}function gg(e){return e==null}function Mc(e){return typeof e=="number"||Te(e)&&sn(e)==Pt}function xi(e){if(!Te(e)||sn(e)!=Rn)return!1;var n=aa(e);if(n===null)return!0;var r=je.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&na.call(r)==up}var Ks=$o?Cn($o):hh;function mg(e){return Dc(e)&&e>=-an&&e<=an}var Uc=Ko?Cn(Ko):fh;function Da(e){return typeof e=="string"||!ne(e)&&Te(e)&&sn(e)==Dt}function Sn(e){return typeof e=="symbol"||Te(e)&&sn(e)==Jt}var Wr=Qo?Cn(Qo):gh;function vg(e){return e===o}function xg(e){return Te(e)&&Xe(e)==Nt}function yg(e){return Te(e)&&sn(e)==Li}var jg=Ca(_s),bg=Ca(function(e,n){return e<=n});function Lc(e){if(!e)return[];if(gn(e))return Da(e)?Vn(e):fn(e);if(ai&&e[ai])return Xd(e[ai]());var n=Xe(e),r=n==pn?ds:n==hn?Xi:Br;return r(e)}function _t(e){if(!e)return e===0?e:0;if(e=zn(e),e===rn||e===-rn){var n=e<0?-1:1;return n*Kt}return e===e?e:0}function ae(e){var n=_t(e),r=n%1;return n===n?r?n-r:n:0}function Oc(e){return e?ir(ae(e),0,Ve):0}function zn(e){if(typeof e=="number")return e;if(Sn(e))return Ke;if(Ee(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ee(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=rl(e);var r=nd.test(e);return r||rd.test(e)?Md(e.slice(2),r?2:8):ed.test(e)?Ke:+e}function Fc(e){return at(e,mn(e))}function wg(e){return e?ir(ae(e),-an,an):e===0?e:0}function ye(e){return e==null?"":_n(e)}var Cg=Or(function(e,n){if(mi(n)||gn(n)){at(n,Ge(n),e);return}for(var r in n)je.call(n,r)&&ui(e,r,n[r])}),zc=Or(function(e,n){at(n,mn(n),e)}),Na=Or(function(e,n,r,i){at(n,mn(n),e,i)}),_g=Or(function(e,n,r,i){at(n,Ge(n),e,i)}),Sg=bt(vs);function kg(e,n){var r=Lr(e);return n==null?r:xl(r,n)}var Ig=le(function(e,n){e=Ce(e);var r=-1,i=n.length,l=i>2?n[2]:o;for(l&&on(n[0],n[1],l)&&(i=1);++r<i;)for(var u=n[r],d=mn(u),p=-1,f=d.length;++p<f;){var _=d[p],S=e[_];(S===o||Yn(S,Nr[_])&&!je.call(e,_))&&(e[_]=u[_])}return e}),Ag=le(function(e){return e.push(o,rc),wn(Wc,o,e)});function Eg(e,n){return Jo(e,Y(n,3),it)}function Tg(e,n){return Jo(e,Y(n,3),ys)}function Pg(e,n){return e==null?e:xs(e,Y(n,3),mn)}function Rg(e,n){return e==null?e:Cl(e,Y(n,3),mn)}function Dg(e,n){return e&&it(e,Y(n,3))}function Ng(e,n){return e&&ys(e,Y(n,3))}function Mg(e){return e==null?[]:ga(e,Ge(e))}function Ug(e){return e==null?[]:ga(e,mn(e))}function Qs(e,n,r){var i=e==null?o:ar(e,n);return i===o?r:i}function Lg(e,n){return e!=null&&sc(e,n,ah)}function Xs(e,n){return e!=null&&sc(e,n,sh)}var Og=Xl(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=ta.call(n)),e[n]=r},eo(vn)),Fg=Xl(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=ta.call(n)),je.call(e,n)?e[n].push(r):e[n]=[r]},Y),zg=le(pi);function Ge(e){return gn(e)?ml(e):Cs(e)}function mn(e){return gn(e)?ml(e,!0):mh(e)}function Wg(e,n){var r={};return n=Y(n,3),it(e,function(i,l,u){yt(r,n(i,l,u),i)}),r}function Bg(e,n){var r={};return n=Y(n,3),it(e,function(i,l,u){yt(r,l,n(i,l,u))}),r}var qg=Or(function(e,n,r){ma(e,n,r)}),Wc=Or(function(e,n,r,i){ma(e,n,r,i)}),Vg=bt(function(e,n){var r={};if(e==null)return r;var i=!1;n=Ae(n,function(u){return u=qt(u,e),i||(i=u.length>1),u}),at(e,Ls(e),r),i&&(r=Ln(r,I|E|T,Lh));for(var l=n.length;l--;)Es(r,n[l]);return r});function Gg(e,n){return Bc(e,Pa(Y(n)))}var Yg=bt(function(e,n){return e==null?{}:xh(e,n)});function Bc(e,n){if(e==null)return{};var r=Ae(Ls(e),function(i){return[i]});return n=Y(n),Dl(e,r,function(i,l){return n(i,l[0])})}function Hg(e,n,r){n=qt(n,e);var i=-1,l=n.length;for(l||(l=1,e=o);++i<l;){var u=e==null?o:e[st(n[i])];u===o&&(i=l,u=r),e=Ct(u)?u.call(e):u}return e}function Zg(e,n,r){return e==null?e:fi(e,n,r)}function $g(e,n,r,i){return i=typeof i=="function"?i:o,e==null?e:fi(e,n,r,i)}var qc=nc(Ge),Vc=nc(mn);function Kg(e,n,r){var i=ne(e),l=i||Gt(e)||Wr(e);if(n=Y(n,4),r==null){var u=e&&e.constructor;l?r=i?new u:[]:Ee(e)?r=Ct(u)?Lr(aa(e)):{}:r={}}return(l?Nn:it)(e,function(d,p,f){return n(r,d,p,f)}),r}function Qg(e,n){return e==null?!0:Es(e,n)}function Xg(e,n,r){return e==null?e:Ol(e,n,Rs(r))}function Jg(e,n,r,i){return i=typeof i=="function"?i:o,e==null?e:Ol(e,n,Rs(r),i)}function Br(e){return e==null?[]:us(e,Ge(e))}function em(e){return e==null?[]:us(e,mn(e))}function nm(e,n,r){return r===o&&(r=n,n=o),r!==o&&(r=zn(r),r=r===r?r:0),n!==o&&(n=zn(n),n=n===n?n:0),ir(zn(e),n,r)}function tm(e,n,r){return n=_t(n),r===o?(r=n,n=0):r=_t(r),e=zn(e),oh(e,n,r)}function rm(e,n,r){if(r&&typeof r!="boolean"&&on(e,n,r)&&(n=r=o),r===o&&(typeof n=="boolean"?(r=n,n=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&n===o?(e=0,n=1):(e=_t(e),n===o?(n=e,e=0):n=_t(n)),e>n){var i=e;e=n,n=i}if(r||e%1||n%1){var l=fl();return Qe(e+l*(n-e+Nd("1e-"+((l+"").length-1))),n)}return ks(e,n)}var im=Fr(function(e,n,r){return n=n.toLowerCase(),e+(r?Gc(n):n)});function Gc(e){return Js(ye(e).toLowerCase())}function Yc(e){return e=ye(e),e&&e.replace(ad,Hd).replace(_d,"")}function am(e,n,r){e=ye(e),n=_n(n);var i=e.length;r=r===o?i:ir(ae(r),0,i);var l=r;return r-=n.length,r>=0&&e.slice(r,l)==n}function sm(e){return e=ye(e),e&&Bi.test(e)?e.replace(ni,Zd):e}function om(e){return e=ye(e),e&&Za.test(e)?e.replace(ri,"\\$&"):e}var lm=Fr(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),cm=Fr(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),um=$l("toLowerCase");function dm(e,n,r){e=ye(e),n=ae(n);var i=n?Rr(e):0;if(!n||i>=n)return e;var l=(n-i)/2;return wa(ca(l),r)+e+wa(la(l),r)}function pm(e,n,r){e=ye(e),n=ae(n);var i=n?Rr(e):0;return n&&i<n?e+wa(n-i,r):e}function hm(e,n,r){e=ye(e),n=ae(n);var i=n?Rr(e):0;return n&&i<n?wa(n-i,r)+e:e}function fm(e,n,r){return r||n==null?n=0:n&&(n=+n),jp(ye(e).replace($a,""),n||0)}function gm(e,n,r){return(r?on(e,n,r):n===o)?n=1:n=ae(n),Is(ye(e),n)}function mm(){var e=arguments,n=ye(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var vm=Fr(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()});function xm(e,n,r){return r&&typeof r!="number"&&on(e,n,r)&&(n=r=o),r=r===o?Ve:r>>>0,r?(e=ye(e),e&&(typeof n=="string"||n!=null&&!Ks(n))&&(n=_n(n),!n&&Pr(e))?Vt(Vn(e),0,r):e.split(n,r)):[]}var ym=Fr(function(e,n,r){return e+(r?" ":"")+Js(n)});function jm(e,n,r){return e=ye(e),r=r==null?0:ir(ae(r),0,e.length),n=_n(n),e.slice(r,r+n.length)==n}function bm(e,n,r){var i=c.templateSettings;r&&on(e,n,r)&&(n=o),e=ye(e),n=Na({},n,i,tc);var l=Na({},n.imports,i.imports,tc),u=Ge(l),d=us(l,u),p,f,_=0,S=n.interpolate||Hi,A="__p += '",N=ps((n.escape||Hi).source+"|"+S.source+"|"+(S===ti?Ju:Hi).source+"|"+(n.evaluate||Hi).source+"|$","g"),B="//# sourceURL="+(je.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ed+"]")+`
`;e.replace(N,function($,he,ge,kn,ln,In){return ge||(ge=kn),A+=e.slice(_,In).replace(sd,$d),he&&(p=!0,A+=`' +
__e(`+he+`) +
'`),ln&&(f=!0,A+=`';
`+ln+`;
__p += '`),ge&&(A+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),_=In+$.length,$}),A+=`';
`;var Z=je.call(n,"variable")&&n.variable;if(!Z)A=`with (obj) {
`+A+`
}
`;else if(Qu.test(Z))throw new J(b);A=(f?A.replace(Oi,""):A).replace(Fi,"$1").replace(zi,"$1;"),A="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(f?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+A+`return __p
}`;var se=Zc(function(){return ve(u,B+"return "+A).apply(o,d)});if(se.source=A,$s(se))throw se;return se}function wm(e){return ye(e).toLowerCase()}function Cm(e){return ye(e).toUpperCase()}function _m(e,n,r){if(e=ye(e),e&&(r||n===o))return rl(e);if(!e||!(n=_n(n)))return e;var i=Vn(e),l=Vn(n),u=il(i,l),d=al(i,l)+1;return Vt(i,u,d).join("")}function Sm(e,n,r){if(e=ye(e),e&&(r||n===o))return e.slice(0,ol(e)+1);if(!e||!(n=_n(n)))return e;var i=Vn(e),l=al(i,Vn(n))+1;return Vt(i,0,l).join("")}function km(e,n,r){if(e=ye(e),e&&(r||n===o))return e.replace($a,"");if(!e||!(n=_n(n)))return e;var i=Vn(e),l=il(i,Vn(n));return Vt(i,l).join("")}function Im(e,n){var r=ke,i=_e;if(Ee(n)){var l="separator"in n?n.separator:l;r="length"in n?ae(n.length):r,i="omission"in n?_n(n.omission):i}e=ye(e);var u=e.length;if(Pr(e)){var d=Vn(e);u=d.length}if(r>=u)return e;var p=r-Rr(i);if(p<1)return i;var f=d?Vt(d,0,p).join(""):e.slice(0,p);if(l===o)return f+i;if(d&&(p+=f.length-p),Ks(l)){if(e.slice(p).search(l)){var _,S=f;for(l.global||(l=ps(l.source,ye(So.exec(l))+"g")),l.lastIndex=0;_=l.exec(S);)var A=_.index;f=f.slice(0,A===o?p:A)}}else if(e.indexOf(_n(l),p)!=p){var N=f.lastIndexOf(l);N>-1&&(f=f.slice(0,N))}return f+i}function Am(e){return e=ye(e),e&&Wi.test(e)?e.replace(ei,tp):e}var Em=Fr(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),Js=$l("toUpperCase");function Hc(e,n,r){return e=ye(e),n=r?o:n,n===o?Qd(e)?ap(e):Bd(e):e.match(n)||[]}var Zc=le(function(e,n){try{return wn(e,o,n)}catch(r){return $s(r)?r:new J(r)}}),Tm=bt(function(e,n){return Nn(n,function(r){r=st(r),yt(e,r,Hs(e[r],e))}),e});function Pm(e){var n=e==null?0:e.length,r=Y();return e=n?Ae(e,function(i){if(typeof i[1]!="function")throw new Mn(y);return[r(i[0]),i[1]]}):[],le(function(i){for(var l=-1;++l<n;){var u=e[l];if(wn(u[0],this,i))return wn(u[1],this,i)}})}function Rm(e){return th(Ln(e,I))}function eo(e){return function(){return e}}function Dm(e,n){return e==null||e!==e?n:e}var Nm=Ql(),Mm=Ql(!0);function vn(e){return e}function no(e){return Il(typeof e=="function"?e:Ln(e,I))}function Um(e){return El(Ln(e,I))}function Lm(e,n){return Tl(e,Ln(n,I))}var Om=le(function(e,n){return function(r){return pi(r,e,n)}}),Fm=le(function(e,n){return function(r){return pi(e,r,n)}});function to(e,n,r){var i=Ge(n),l=ga(n,i);r==null&&!(Ee(n)&&(l.length||!i.length))&&(r=n,n=e,e=this,l=ga(n,Ge(n)));var u=!(Ee(r)&&"chain"in r)||!!r.chain,d=Ct(e);return Nn(l,function(p){var f=n[p];e[p]=f,d&&(e.prototype[p]=function(){var _=this.__chain__;if(u||_){var S=e(this.__wrapped__),A=S.__actions__=fn(this.__actions__);return A.push({func:f,args:arguments,thisArg:e}),S.__chain__=_,S}return f.apply(e,Ot([this.value()],arguments))})}),e}function zm(){return He._===this&&(He._=dp),this}function ro(){}function Wm(e){return e=ae(e),le(function(n){return Pl(n,e)})}var Bm=Ns(Ae),qm=Ns(Xo),Vm=Ns(as);function $c(e){return Ws(e)?ss(st(e)):yh(e)}function Gm(e){return function(n){return e==null?o:ar(e,n)}}var Ym=Jl(),Hm=Jl(!0);function io(){return[]}function ao(){return!1}function Zm(){return{}}function $m(){return""}function Km(){return!0}function Qm(e,n){if(e=ae(e),e<1||e>an)return[];var r=Ve,i=Qe(e,Ve);n=Y(n),e-=Ve;for(var l=cs(i,n);++r<e;)n(r);return l}function Xm(e){return ne(e)?Ae(e,st):Sn(e)?[e]:fn(gc(ye(e)))}function Jm(e){var n=++cp;return ye(e)+n}var e0=ba(function(e,n){return e+n},0),n0=Ms("ceil"),t0=ba(function(e,n){return e/n},1),r0=Ms("floor");function i0(e){return e&&e.length?fa(e,vn,js):o}function a0(e,n){return e&&e.length?fa(e,Y(n,2),js):o}function s0(e){return nl(e,vn)}function o0(e,n){return nl(e,Y(n,2))}function l0(e){return e&&e.length?fa(e,vn,_s):o}function c0(e,n){return e&&e.length?fa(e,Y(n,2),_s):o}var u0=ba(function(e,n){return e*n},1),d0=Ms("round"),p0=ba(function(e,n){return e-n},0);function h0(e){return e&&e.length?ls(e,vn):0}function f0(e,n){return e&&e.length?ls(e,Y(n,2)):0}return c.after=Uf,c.ary=kc,c.assign=Cg,c.assignIn=zc,c.assignInWith=Na,c.assignWith=_g,c.at=Sg,c.before=Ic,c.bind=Hs,c.bindAll=Tm,c.bindKey=Ac,c.castArray=Zf,c.chain=Cc,c.chunk=t1,c.compact=r1,c.concat=i1,c.cond=Pm,c.conforms=Rm,c.constant=eo,c.countBy=hf,c.create=kg,c.curry=Ec,c.curryRight=Tc,c.debounce=Pc,c.defaults=Ig,c.defaultsDeep=Ag,c.defer=Lf,c.delay=Of,c.difference=a1,c.differenceBy=s1,c.differenceWith=o1,c.drop=l1,c.dropRight=c1,c.dropRightWhile=u1,c.dropWhile=d1,c.fill=p1,c.filter=gf,c.flatMap=xf,c.flatMapDeep=yf,c.flatMapDepth=jf,c.flatten=yc,c.flattenDeep=h1,c.flattenDepth=f1,c.flip=Ff,c.flow=Nm,c.flowRight=Mm,c.fromPairs=g1,c.functions=Mg,c.functionsIn=Ug,c.groupBy=bf,c.initial=v1,c.intersection=x1,c.intersectionBy=y1,c.intersectionWith=j1,c.invert=Og,c.invertBy=Fg,c.invokeMap=Cf,c.iteratee=no,c.keyBy=_f,c.keys=Ge,c.keysIn=mn,c.map=Aa,c.mapKeys=Wg,c.mapValues=Bg,c.matches=Um,c.matchesProperty=Lm,c.memoize=Ta,c.merge=qg,c.mergeWith=Wc,c.method=Om,c.methodOf=Fm,c.mixin=to,c.negate=Pa,c.nthArg=Wm,c.omit=Vg,c.omitBy=Gg,c.once=zf,c.orderBy=Sf,c.over=Bm,c.overArgs=Wf,c.overEvery=qm,c.overSome=Vm,c.partial=Zs,c.partialRight=Rc,c.partition=kf,c.pick=Yg,c.pickBy=Bc,c.property=$c,c.propertyOf=Gm,c.pull=_1,c.pullAll=bc,c.pullAllBy=S1,c.pullAllWith=k1,c.pullAt=I1,c.range=Ym,c.rangeRight=Hm,c.rearg=Bf,c.reject=Ef,c.remove=A1,c.rest=qf,c.reverse=Gs,c.sampleSize=Pf,c.set=Zg,c.setWith=$g,c.shuffle=Rf,c.slice=E1,c.sortBy=Mf,c.sortedUniq=U1,c.sortedUniqBy=L1,c.split=xm,c.spread=Vf,c.tail=O1,c.take=F1,c.takeRight=z1,c.takeRightWhile=W1,c.takeWhile=B1,c.tap=rf,c.throttle=Gf,c.thru=Ia,c.toArray=Lc,c.toPairs=qc,c.toPairsIn=Vc,c.toPath=Xm,c.toPlainObject=Fc,c.transform=Kg,c.unary=Yf,c.union=q1,c.unionBy=V1,c.unionWith=G1,c.uniq=Y1,c.uniqBy=H1,c.uniqWith=Z1,c.unset=Qg,c.unzip=Ys,c.unzipWith=wc,c.update=Xg,c.updateWith=Jg,c.values=Br,c.valuesIn=em,c.without=$1,c.words=Hc,c.wrap=Hf,c.xor=K1,c.xorBy=Q1,c.xorWith=X1,c.zip=J1,c.zipObject=ef,c.zipObjectDeep=nf,c.zipWith=tf,c.entries=qc,c.entriesIn=Vc,c.extend=zc,c.extendWith=Na,to(c,c),c.add=e0,c.attempt=Zc,c.camelCase=im,c.capitalize=Gc,c.ceil=n0,c.clamp=nm,c.clone=$f,c.cloneDeep=Qf,c.cloneDeepWith=Xf,c.cloneWith=Kf,c.conformsTo=Jf,c.deburr=Yc,c.defaultTo=Dm,c.divide=t0,c.endsWith=am,c.eq=Yn,c.escape=sm,c.escapeRegExp=om,c.every=ff,c.find=mf,c.findIndex=vc,c.findKey=Eg,c.findLast=vf,c.findLastIndex=xc,c.findLastKey=Tg,c.floor=r0,c.forEach=_c,c.forEachRight=Sc,c.forIn=Pg,c.forInRight=Rg,c.forOwn=Dg,c.forOwnRight=Ng,c.get=Qs,c.gt=eg,c.gte=ng,c.has=Lg,c.hasIn=Xs,c.head=jc,c.identity=vn,c.includes=wf,c.indexOf=m1,c.inRange=tm,c.invoke=zg,c.isArguments=lr,c.isArray=ne,c.isArrayBuffer=tg,c.isArrayLike=gn,c.isArrayLikeObject=Re,c.isBoolean=rg,c.isBuffer=Gt,c.isDate=ig,c.isElement=ag,c.isEmpty=sg,c.isEqual=og,c.isEqualWith=lg,c.isError=$s,c.isFinite=cg,c.isFunction=Ct,c.isInteger=Dc,c.isLength=Ra,c.isMap=Nc,c.isMatch=ug,c.isMatchWith=dg,c.isNaN=pg,c.isNative=hg,c.isNil=gg,c.isNull=fg,c.isNumber=Mc,c.isObject=Ee,c.isObjectLike=Te,c.isPlainObject=xi,c.isRegExp=Ks,c.isSafeInteger=mg,c.isSet=Uc,c.isString=Da,c.isSymbol=Sn,c.isTypedArray=Wr,c.isUndefined=vg,c.isWeakMap=xg,c.isWeakSet=yg,c.join=b1,c.kebabCase=lm,c.last=Fn,c.lastIndexOf=w1,c.lowerCase=cm,c.lowerFirst=um,c.lt=jg,c.lte=bg,c.max=i0,c.maxBy=a0,c.mean=s0,c.meanBy=o0,c.min=l0,c.minBy=c0,c.stubArray=io,c.stubFalse=ao,c.stubObject=Zm,c.stubString=$m,c.stubTrue=Km,c.multiply=u0,c.nth=C1,c.noConflict=zm,c.noop=ro,c.now=Ea,c.pad=dm,c.padEnd=pm,c.padStart=hm,c.parseInt=fm,c.random=rm,c.reduce=If,c.reduceRight=Af,c.repeat=gm,c.replace=mm,c.result=Hg,c.round=d0,c.runInContext=h,c.sample=Tf,c.size=Df,c.snakeCase=vm,c.some=Nf,c.sortedIndex=T1,c.sortedIndexBy=P1,c.sortedIndexOf=R1,c.sortedLastIndex=D1,c.sortedLastIndexBy=N1,c.sortedLastIndexOf=M1,c.startCase=ym,c.startsWith=jm,c.subtract=p0,c.sum=h0,c.sumBy=f0,c.template=bm,c.times=Qm,c.toFinite=_t,c.toInteger=ae,c.toLength=Oc,c.toLower=wm,c.toNumber=zn,c.toSafeInteger=wg,c.toString=ye,c.toUpper=Cm,c.trim=_m,c.trimEnd=Sm,c.trimStart=km,c.truncate=Im,c.unescape=Am,c.uniqueId=Jm,c.upperCase=Em,c.upperFirst=Js,c.each=_c,c.eachRight=Sc,c.first=jc,to(c,function(){var e={};return it(c,function(n,r){je.call(c.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),c.VERSION=m,Nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),Nn(["drop","take"],function(e,n){fe.prototype[e]=function(r){r=r===o?1:We(ae(r),0);var i=this.__filtered__&&!n?new fe(this):this.clone();return i.__filtered__?i.__takeCount__=Qe(r,i.__takeCount__):i.__views__.push({size:Qe(r,Ve),type:e+(i.__dir__<0?"Right":"")}),i},fe.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Nn(["filter","map","takeWhile"],function(e,n){var r=n+1,i=r==jn||r==tn;fe.prototype[e]=function(l){var u=this.clone();return u.__iteratees__.push({iteratee:Y(l,3),type:r}),u.__filtered__=u.__filtered__||i,u}}),Nn(["head","last"],function(e,n){var r="take"+(n?"Right":"");fe.prototype[e]=function(){return this[r](1).value()[0]}}),Nn(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");fe.prototype[e]=function(){return this.__filtered__?new fe(this):this[r](1)}}),fe.prototype.compact=function(){return this.filter(vn)},fe.prototype.find=function(e){return this.filter(e).head()},fe.prototype.findLast=function(e){return this.reverse().find(e)},fe.prototype.invokeMap=le(function(e,n){return typeof e=="function"?new fe(this):this.map(function(r){return pi(r,e,n)})}),fe.prototype.reject=function(e){return this.filter(Pa(Y(e)))},fe.prototype.slice=function(e,n){e=ae(e);var r=this;return r.__filtered__&&(e>0||n<0)?new fe(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==o&&(n=ae(n),r=n<0?r.dropRight(-n):r.take(n-e)),r)},fe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},fe.prototype.toArray=function(){return this.take(Ve)},it(fe.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),l=c[i?"take"+(n=="last"?"Right":""):n],u=i||/^find/.test(n);l&&(c.prototype[n]=function(){var d=this.__wrapped__,p=i?[1]:arguments,f=d instanceof fe,_=p[0],S=f||ne(d),A=function(he){var ge=l.apply(c,Ot([he],p));return i&&N?ge[0]:ge};S&&r&&typeof _=="function"&&_.length!=1&&(f=S=!1);var N=this.__chain__,B=!!this.__actions__.length,Z=u&&!N,se=f&&!B;if(!u&&S){d=se?d:new fe(this);var $=e.apply(d,p);return $.__actions__.push({func:Ia,args:[A],thisArg:o}),new Un($,N)}return Z&&se?e.apply(this,p):($=this.thru(A),Z?i?$.value()[0]:$.value():$)})}),Nn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ji[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var l=arguments;if(i&&!this.__chain__){var u=this.value();return n.apply(ne(u)?u:[],l)}return this[r](function(d){return n.apply(ne(d)?d:[],l)})}}),it(fe.prototype,function(e,n){var r=c[n];if(r){var i=r.name+"";je.call(Ur,i)||(Ur[i]=[]),Ur[i].push({name:n,func:r})}}),Ur[ja(o,R).name]=[{name:"wrapper",func:o}],fe.prototype.clone=Ip,fe.prototype.reverse=Ap,fe.prototype.value=Ep,c.prototype.at=af,c.prototype.chain=sf,c.prototype.commit=of,c.prototype.next=lf,c.prototype.plant=uf,c.prototype.reverse=df,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=pf,c.prototype.first=c.prototype.head,ai&&(c.prototype[ai]=cf),c},Dr=sp();er?((er.exports=Dr)._=Dr,ns._=Dr):He._=Dr}).call(_i)}(Va,Va.exports);var q2=Va.exports,V2=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","slave","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],G2=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","racial","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"];const $t=q2,yu=V2,ju=G2;var Y2=vo;vo.generate=vo;function vo(s){var a={number:!1,words:2,alliterative:!1};s=$t.merge(a,s||{});var o=H2(s);return{raw:o,dashed:o.join("-"),spaced:o.join(" ")}}function H2(s){var a=[];return $t.times(s.words-1,function(){s.alliterative&&a.length?a.push($t.sample(bu(ju,a[0].substring(0,1)))):a.push($t.sample(ju).toLowerCase())}),s.alliterative?a.push($t.sample(bu(yu,a[0].substring(0,1)))):a.push($t.sample(yu).toLowerCase()),s.number&&a.push($t.random(1,9999)),a}function bu(s,a){var o=a.toLowerCase();return $t.filter(s,function(m){return m.substring(0,1).toLowerCase()===o})}const Z2=lo(Y2);/*!
* dashify <https://github.com/jonschlinkert/dashify>
*
* Copyright (c) 2015-2017, Jon Schlinkert.
* Released under the MIT License.
*/var $2=(s,a)=>{if(typeof s!="string")throw new TypeError("expected a string");return s.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,o=>/[-]/.test(o)?o:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,o=>a&&a.condense?"-":o).toLowerCase()};const K2=lo($2),Q2=s=>a=>{const{nextStep:o,currentStep:m,authFlow:g}=s;return g==="authorisationCode"&&o===F.permissionsStep?a===F.rcRedirectsStep:o?a===o:m===F.permissionsStep||m===F.serverSideStep||m===F.dataFeedStep||m===F.websiteFeedStep?a===F.permissionsStep:m===F.externalAppStep||m===F.webServicesStep||m===F.applicationTypeStep?a===m:!1},X2=()=>{const{appWizardState:s}=be(),{isMobile:a,isTablet:o,isDesktop:m}=Yt(),{Modal:g,openModal:x,closeModal:y}=Ye(),{Modal:b,openModal:k,closeModal:v}=Ye(),{Modal:P,openModal:I,closeModal:E}=Ye(),{Modal:T,openModal:M,closeModal:z}=Ye(),D=Q2(s),R=a||o||m;return t.jsxs(e2,{children:[t.jsxs("div",{className:ee(D(F.applicationTypeStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"About Apps"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&lt,!R&&yi,R&&Me),onClick:M,children:[t.jsx(w,{hasGreyText:!0,children:"Every developer will have different use cases for our Platform and it is unlikely you will need to use all of the APIs and tooling we provide. However, the starting point for all integrations is to create an \u2018App\u2019,"}),t.jsx(Ba,{width:"100%",height:"100%"})]}),t.jsxs("div",{className:ee(!R&&lt,!R&&ji),children:[t.jsx(w,{hasGreyText:!0,children:"On a basic level an app is the means to authenticate against our services. To create an app, you should follow the steps in the wizard on the left of this page."}),t.jsx(w,{hasGreyText:!0,children:"When you have completed this wizard, you will land on a dedicated page for your App, that will give you the Client Id, and in the case of server-side apps, a Client Secret, that will enable you to authenticate against out APIs. From here you can get started with development against our developer sandbox data."}),t.jsx(w,{hasGreyText:!0,children:"When you are ready to go live with a customer, you will need to complete some additional information and submit your app for review by one of our team. On approval of your app, it will be listed in the AppMarket for your customers to install, this will then grant access to their production data."})]})]})]}),t.jsxs("div",{className:ee(D(F.agencyCloudStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"AgencyCloud Functionality"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&lt,!R&&yi,R&&Me),onClick:k,children:[t.jsx(w,{hasGreyText:!0,children:"For the greatest integration with our AgencyCloud Desktop CRM, we support the ability to load client-side apps using an internal web browser, inside of the CRM."}),t.jsx(Ba,{width:"100%",height:"100%"})]}),t.jsxs("div",{className:ee(!R&&lt,!R&&ji),children:[t.jsxs(w,{hasGreyText:!0,children:["You can either launch your app from a dedicated menu, for example from a property or a contact, or even replace certain screens. Using our Desktop API your app can receive contextual information based on the screen or location the app is launched from. Providing relevant data for your users. For more information on our Desktop API please ",t.jsx("a",{onClick:te(ie.desktopDocs),children:"see here."})]}),t.jsxs(w,{hasGreyText:!0,children:["To ensure a consistent UI and UX, it is a requirement that apps that integrate with AgencyCloud use our Elements UI library and our Design System. If you want to familiarise yourself with this before moving on, you can ",t.jsx("a",{onClick:te(ie.elementsDocs),children:"view the docs here."})]}),t.jsxs(w,{hasGreyText:!0,children:["Please be aware that we do not support rendering of web applications that use a third-party UI. You cannot simply link out from your integrated app or render a pre-existing app in an iframe. For more information on the requirements, ",t.jsx("a",{onClick:te(ie.acLaunchableDocs),children:"please click here."})]})]})]})]}),t.jsxs("div",{className:ee(D(F.externalAppStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"External Web Applications"}),t.jsx(w,{hasGreyText:!0,children:"You should select this if you wish to integrate our Platform APIs with a pre-existing or future web application that you do not wish to launch from within the AgencyCloud desktop CRM."}),t.jsx(w,{hasGreyText:!0,children:"Your application can be authenticated against our Platform either on the client-side or server-side. If you choose client-side authentication at the next step but later wish to upgrade to a full AgencyCloud integration in the future, you can do this. However, it is important to note, server-side integrations cannot be launched from within AgencyCloud."})]}),t.jsxs("div",{className:ee(D(F.dataFeedStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Data Portal and Reporting Feeds"}),t.jsxs(w,{hasGreyText:!0,children:["This is a server-side only data feed, using our"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})," You should select this if you have no requirement to render your application inside of the AgencyCloud desktop CRM and, you have no requirement for user-centric client-side authentication."]}),t.jsx(w,{hasGreyText:!0,children:"Typically, you will be pulling data to serve another application, to perform data processing or some other analytics function."}),t.jsx(w,{hasGreyText:!0,children:"You should also select this option if you require a permanent connection to our APIs; to pull data on demand as opposed to on the fly, when a user logs in to your application."})]}),t.jsxs("div",{className:ee(D(F.websiteFeedStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Website Feeds"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&lt,!R&&yi,R&&Me),onClick:I,children:[t.jsx(w,{hasGreyText:!0,children:"It is possible to get up and running with a website feed from the Platform API. You will want to optimise this flow, implementing webhooks and caching however, the below video is our quick start guide."}),t.jsx(Ba,{width:"100%",height:"100%"})]}),t.jsxs("div",{className:ee(!R&&lt,!R&&ji),children:[t.jsxs(w,{hasGreyText:!0,children:["When building a public website for a Reapit Customer, you will have no user authentication so your integration must be server-side, using our"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})]}),t.jsx(w,{hasGreyText:!0,children:"Your application will be read-only and by selecting this option, we will pre-populate the typical API permissions your integration will need for most website development."})]})]})]}),t.jsxs("div",{className:ee(D(F.webServicesStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Web Services to Platform"}),t.jsx(w,{hasGreyText:!0,children:"Select this option if you are migrating from the legacy Reapit SOAP API, or web services. These services will soon be deprecated so it is important to start your migration to the Foundations Platform as soon as possible."}),t.jsxs(w,{hasGreyText:!0,children:["You will get options at the next steps to decide whether client or server-side authentication best serves your application needs however, in most cases web services applications are server-side using our"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})]}),t.jsxs(w,{hasGreyText:!0,children:["Please be aware there is not a 1:1 mapping between the SOAP and our Platform REST API. As such, we suggest reading the ",t.jsx("a",{onClick:te(ie.platformAPIDocs),children:"API docs here"})," and looking at the"," ",t.jsxs(Ua,{to:oe.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"to investigate which data sets and permissions you will need before getting started."]})]}),t.jsxs("div",{className:ee(D(F.reapitConnectStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Using Reapit Connect as an Identity Provider"}),t.jsx(w,{hasGreyText:!0,children:"We support using Reapit Connect, our client-side authentication solution, simply as an identity provider for your application."}),t.jsxs(w,{hasGreyText:!0,children:["In this case, your client-side authenticated users will not have any data permissions however, you can access and validate their identity against your own application. For more on"," ",t.jsx("a",{onClick:te(ie.reapitConnectDocs),children:"Reapit Connect visit here"})," and if you are interested in using our Sign In With Reapit button to embed on your own site"," ",t.jsx("a",{onClick:te(ie.loginWithReapitDocs),children:"visit here"})]})]}),t.jsxs("div",{className:ee(D(F.clientSideStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Client Side Apps"}),t.jsxs(w,{hasGreyText:!0,children:["Client-side Apps use our identity provider"," ",t.jsx("a",{onClick:te(ie.reapitConnectDocs),children:"Reapit Connect"})," to authenticate against our API. Your application will need to re-direct to Reapit Connect where we will handle user login and in turn, re-direct back to your app with a code in the URL that you exchange for access and id JWTs, referred to as"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow."})," You will need to provide us with URIs to your application at the next step so we know where to return you to on login and on completion of this wizard, you will receive a Client ID you will need to get started."]}),t.jsxs(w,{hasGreyText:!0,children:["To make this process easier, we provide you with an authentication module for client-side apps,"," ",t.jsx("a",{onClick:te(ie.connectSessionDocs),children:"Connect Session"}),", which comes bundled with our"," ",t.jsx("a",{onClick:te(ie.craDocs),children:"Create React App Template"})," for quick start client-side development."]})]}),t.jsxs("div",{className:ee(D(F.serverSideStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Server Side Apps"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsx("div",{className:ee(!R&&lt,!R&&yi,R&&Me),onClick:x,children:t.jsx(Ba,{width:"100%",height:"100%"})}),t.jsxs("div",{className:ee(!R&&lt,!R&&ji),children:[t.jsxs(w,{hasGreyText:!0,children:["Server-side applications authenticate against our API using the"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})," This process involves the exchange of a Client Id and Secret for a JWT access token to authenticate against all requests."]}),t.jsx(w,{hasGreyText:!0,children:"Unlike client-side applications, you do not have to re-direct to Reapit Connect, nor do your users have to log into your application. Because of this, the flow must only be used on the Server Side to ensure the Client Secret you will be issued at the end of this wizard is held in a secure location."})]})]})]}),t.jsxs("div",{className:ee(D(F.rcRedirectsStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Reapit Connect Redirects"}),t.jsxs(w,{hasGreyText:!0,children:["When using the Reapit Connect"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow,"})," you need to register both a re-direct URI and a logout URI. The former is the location in your app, you want Reapit Connect to re-direct to after a successful user login, the latter, after a succesful logout. Only URIs that are registered here will be accepted as a location by Reapit Connect although, you can register multiple locations with a comma separated list."]}),t.jsxs(w,{hasGreyText:!0,children:["We have pre-populated the URIs that you need when using our"," ",t.jsx("a",{onClick:te(ie.craDocs),children:"Create React App Template"})," however, any localhost or dev.reapit (for local development), or https URI is acceptable. Please note, the URIs must match those in your app exactly, inclusive of white space and trailing slashes."]})]}),t.jsxs("div",{className:ee(D(F.permissionsStep)?Ue:Jn),children:[t.jsx(de,{hasBoldText:!0,children:"Permissions"}),t.jsxs(w,{hasGreyText:!0,children:["Permissions are registered as scopes against the access token you receive back from one of our Authentication Flows. They map 1:1 and on a read/write basis to endpoints in our our Platform REST API. As such, it is worth looking at the"," ",t.jsxs(Ua,{to:oe.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"before procceeding, to investigate which permissions you think you will need."]}),t.jsx(w,{hasGreyText:!0,children:"For some flows we have pre-populated suggested permissions based on what you have said you wish to acheive with our Platform. These can be removed or added as you see fit and all permissions can be edited later if you wish to add or remove them before your app goes live."})]}),t.jsxs(g,{title:"Server Side Apps",children:[t.jsx("iframe",{className:Me,width:"100%",height:"315",src:"https://www.youtube.com/embed/s2OEO9RSZ8M",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:y,children:"Close"})})]}),t.jsxs(b,{title:"Desktop API",children:[t.jsx("iframe",{className:Me,width:"100%",height:"315",src:"https://www.youtube.com/embed/E1df4fThSdw",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:v,children:"Close"})})]}),t.jsxs(P,{title:"Website Feeds",children:[t.jsx("iframe",{className:Me,width:"100%",height:"315",src:"https://www.youtube.com/embed/EJWB5u1ja_U",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:E,children:"Close"})})]}),t.jsxs(T,{title:"About Apps",children:[t.jsx("iframe",{className:Me,width:"100%",height:"315",src:"https://www.youtube.com/embed/sjXvs72ZWB8",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:z,children:"Close"})})]})]})},J2=Xn().shape({redirectUris:L().trim().required($e.FIELD_REQUIRED).test({test:Ai,message:"Should be a secure https url or http if localhost or dev.reapit"}),signoutUris:L().trim().required($e.FIELD_REQUIRED).test({test:Ai,message:"Should be a secure https url or http if localhost or dev.reapit"}),scopes:L().trim()}),ev=Xn().shape({scopes:L().trim().required("At least one scope is required for a server-side app"),redirectUris:L().optional(),signoutUris:L().optional()}),nv=async(s,a,o)=>{if(s==="authorisationCode"&&a&&a===F.permissionsStep){const m=await o("redirectUris"),g=await o("signoutUris");return m&&g}return!0},wu=(s,a,o,m,g)=>x=>{x.preventDefault(),(async()=>{(!a||await nv(o,m,g))&&s(({currentStep:y,nextStep:b,prevStep:k,stepHistory:v,...P})=>a?{...P,nextStep:null,prevStep:y,currentStep:b,stepHistory:[...v,b],lastStep:b===F.reapitConnectStep}:(v.pop(),{...P,nextStep:null,prevStep:v[v.indexOf(k)-1]??null,currentStep:k,stepHistory:v,lastStep:!1}))})().catch(y=>console.error(y))},tv=(s,a,o,m)=>({redirectUris:g,signoutUris:x,scopes:y})=>{var T,M;const b=g==null?void 0:g.split(",").filter(Boolean),k=x==null?void 0:x.split(",").filter(Boolean),v=y==null?void 0:y.split(",").filter(Boolean),P=((T=a==null?void 0:a.loginIdentity)==null?void 0:T.developerId)??"",I=`${K2(((M=a==null?void 0:a.loginIdentity)==null?void 0:M.orgName)??"unknown")}-${Z2().dashed}`;if(!P)return;const E={authFlow:s,name:I,scopes:v,developerId:P,isDirectApi:!o.includes(F.agencyCloudStep),categoryIds:o.includes(F.websiteFeedStep)&&v&&["agencyCloud/properties.read","agencyCloud/negotiators.read","agencyCloud/offices.read"].every(z=>v.includes(z))?["14"]:void 0,...s==="clientCredentials"?{}:{redirectUris:b,signoutUris:k}};return m(E)},rv=(s,a,o,m,g)=>()=>{s&&(o(),m(),g(P0),a(`${oe.APPS}/${s.id}`))},iv=s=>{s.key==="Enter"&&s.preventDefault()},av=()=>{const{appWizardState:s,setAppWizardState:a,appsDataState:o,appPipelineState:m}=be(),g=ot(),{isMobile:x}=Yt(),{Modal:y,openModal:b,closeModal:k}=Ye(),{currentStep:v,prevStep:P,nextStep:I,stepHistory:E,authFlow:T,lastStep:M}=s,{appsRefresh:z}=o,{appPipelineRefresh:D}=m,{register:R,getValues:G,handleSubmit:q,trigger:W,formState:{errors:K}}=gr({resolver:mr(T==="authorisationCode"?J2:ev)}),{connectSession:X}=An(Q),[H,me,re]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createApp],method:"POST",returnType:Yr.LOCATION});V.useEffect(rv(me,g,z,D,a),[me]);const{headingText:ke,headerText:_e,iconName:qe}=R0(v);return t.jsxs(Xc,{children:[t.jsxs(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:4,spanSuperWideScreen:5,span4KScreen:7,children:[t.jsx(Zn,{children:"Create App"}),x&&t.jsxs(y,{title:"Controls",children:[t.jsx(vr,{}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:k,children:"Close"})})]}),t.jsx("form",{onSubmit:q(tv(T,X,E,re)),onKeyDown:iv,children:t.jsxs(du,{children:[t.jsx(de,{hasBoldText:!0,children:ke}),t.jsxs(we,{className:Me,children:[t.jsx(ce,{className:so,icon:qe,iconSize:"large"}),t.jsx(Be,{hasGreyText:!0,children:_e})]}),t.jsx(we,{children:t.jsx(B2,{register:R,errors:K,getValues:G})}),t.jsx(n2,{children:t.jsxs(ue,{alignment:"center",children:[t.jsx(U,{intent:"primary",disabled:!P||H,onClick:wu(a,!1,T,I,W),children:"Prev"}),M?t.jsx(U,{intent:"primary",type:"submit",disabled:H,loading:H,children:"Create App"}):t.jsx(U,{intent:"primary",disabled:!I||H,onClick:wu(a,!0,T,I,W),children:"Next"})]})})]})})]}),t.jsx(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:8,spanSuperWideScreen:11,span4KScreen:13,children:t.jsx(X2,{})}),t.jsx(qr,{onClick:b})]})},$r=(s,a)=>()=>{s(a||null)},xo=kt("div")({name:"PermissionChip",class:"p11sa0f-permission-chip",propsAsIs:!1}),sv=kt("div")({name:"LinkChip",class:"l1vkdn49-link-chip",propsAsIs:!1}),Pi="t11sr6l7-text-overflow",Cu="ttq29n6-text-overflow-container",_u={externalId:"Copy",rotatingExternalId:"Copy",clientSecret:"Copy",rotatingClientSecret:"Copy",appId:"Copy"},Kr=(s,a)=>()=>{s({..._u,[a]:"Copied"}),setTimeout(()=>{s(o=>({...o,[a]:"Copy"}))},5e3)},Su=({isListed:s,pendingRevisions:a,limitToClientIds:o})=>{const m=!!(o!=null&&o.length);return s&&!a&&!m?"Your app is live and public in the AppMarket":s&&!a&&m?"Your app is live in the AppMarket but private to selected customers":s&&a&&!m?"Your app is live and public in the AppMarket with a pending revision under review":s&&a&&m?"Your app is live and private to selected customers with a pending revision under review":"Your app is not live and in development only"},ku=({isDirectApi:s,authFlow:a,desktopIntegrationTypeIds:o})=>{const m=!!(o!=null&&o.length);return a==="clientCredentials"?"Your app is a server-side only integration or data feed":s?"You have a client side authenticated integration that will not render within the AgencyCloud desktop CRM":m?"You have a client side authenticated integration that will replace a screen or launch from within the AgencyCloud desktop CRM":"You have a client side authenticated integration that will render within the AgencyCloud desktop CRM"},Iu=s=>()=>{s(!0)},Au=(s,a,o,m)=>async()=>{await s()&&a(),o&&m()},ov=()=>{const{appsDataState:s,setAppId:a}=be(),[o,m]=V.useState(_u),[g,x]=V.useState(!1),{appId:y}=Vr(),{connectSession:b}=An(Q),k=au(b);V.useEffect($r(a,y),[y]);const{appDetail:v,appDetailLoading:P,appsDetailRefresh:I}=s,{id:E,name:T,externalId:M,authFlow:z,redirectUris:D,signoutUris:R,scopes:G,rotatingExternalId:q}=v??{},[W,K,,X]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getAppSecret],uriParams:{appId:y},fetchWhenTrue:[y,z==="clientCredentials",g]}),[H,,me]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createAuthClient],method:"POST",uriParams:{appId:y}}),[re,,ke]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.deleteAuthClient],method:"DELETE",uriParams:{appId:y}});return P?t.jsx(yn,{}):v?t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:T}),t.jsx(de,{children:"Authenticating Your App"}),z==="authorisationCode"&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Client-side Apps use our identity provider"," ",t.jsx("a",{onClick:te(ie.reapitConnectDocs),children:"Reapit Connect"})," to authenticate against our API. Your application will need to re-direct to Reapit Connect where we will handle user login and in turn, re-direct back to your app with a code in the URL that you exchange for access and id JWTs, referred to as"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow."})," You will need the Client Id and Redirect Uris below to configure Reapit Connect."]}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["To make this process easier, we provide you with an authentication module for client-side apps,"," ",t.jsx("a",{onClick:te(ie.connectSessionDocs),children:"Connect Session"}),", which comes bundled with our"," ",t.jsx("a",{onClick:te(ie.craDocs),children:"Create React App Template"})," for quick start client-side development."]})]}),z==="clientCredentials"&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Server-side applications authenticate against our API using the"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})," This process involves the exchange of a Client Id and Client Secret for a JWT access token to authenticate against all requests."]}),t.jsxs(w,{hasGreyText:!0,children:["To make this process easier, we provide you with a NodeJS authentication module for server-side apps,"," ",t.jsx("a",{onClick:te(ie.connectSessionDocs),children:"Connect Session"}),"."]}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["For website developers, you might find our code examples useful. We offer examples in the following languages ",t.jsx(sv,{onClick:te(ie.codeExampleNodeWebsite),children:"Node JS"})]})]}),z==="clientCredentials"&&t.jsxs(y0,{className:xn,children:[t.jsxs(pr,{className:ee(q&&Me),children:[M&&t.jsxs(Le,{children:[t.jsxs(we,{children:[t.jsx(ce,{className:ct,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:M})]})]}),t.jsx(Zr,{text:M,onCopy:Kr(m,"externalId"),children:t.jsx(U,{intent:"default",children:o.externalId})})]}),t.jsxs(Le,{children:[t.jsxs(we,{children:[t.jsx(ce,{className:ct,icon:"doorLockInfographic",iconSize:"medium"}),t.jsxs("div",{className:Cu,children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Secret"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:W!=null&&W.clientSecret&&k?"*********************************":k?"Click to load client secret":"You need to be an admin to view this secret"})]})]}),W!=null&&W.clientSecret?t.jsx(Zr,{text:W==null?void 0:W.clientSecret,onCopy:Kr(m,"clientSecret"),children:t.jsx(U,{intent:"default",children:o.clientSecret})}):t.jsx(U,{onClick:Iu(x),intent:"default",disabled:K||!k,loading:P,children:"Load Secret"})]}),t.jsx(Le,{children:t.jsx(we,{className:La,isFlexAlignCenter:!0,children:t.jsx(U,{onClick:Au(me,I,W,X),intent:"primary",disabled:H||re||!k||!!q,loading:H,children:"Rotate Authentication"})})})]}),q&&t.jsxs(t.Fragment,{children:[t.jsx(de,{children:"New Authentication Credentials"}),t.jsxs(pr,{children:[t.jsxs(Le,{children:[t.jsxs(we,{children:[t.jsx(ce,{className:ct,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:q})]})]}),t.jsx(Zr,{text:q,onCopy:Kr(m,"rotatingExternalId"),children:t.jsx(U,{intent:"default",children:o.rotatingExternalId})})]}),t.jsxs(Le,{children:[t.jsxs(we,{children:[t.jsx(ce,{className:ct,icon:"doorLockInfographic",iconSize:"medium"}),t.jsxs("div",{className:Cu,children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Secret"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:W!=null&&W.rotatingClientSecret&&k?"*********************************":k?"Click to load client secret":"You need to be an admin to view this secret"})]})]}),W!=null&&W.rotatingClientSecret?t.jsx(Zr,{text:W==null?void 0:W.rotatingClientSecret,onCopy:Kr(m,"rotatingClientSecret"),children:t.jsx(U,{intent:"default",children:o.rotatingClientSecret})}):t.jsx(U,{onClick:Iu(x),intent:"default",disabled:K||!k,loading:P,children:"Load Secret"})]}),t.jsx(Le,{children:t.jsx(we,{className:La,isFlexAlignCenter:!0,children:t.jsx(U,{onClick:Au(ke,I,W,X),intent:"success",disabled:H||re||!k,loading:re,children:"Use"})})})]})]})]}),t.jsxs(pr,{children:[M&&z==="authorisationCode"&&t.jsxs(Le,{children:[t.jsxs(we,{children:[t.jsx(ce,{className:ct,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:M})]})]}),t.jsx(Zr,{text:M,onCopy:Kr(m,"externalId"),children:t.jsx(U,{intent:"default",children:o.externalId})})]}),E&&t.jsxs(Le,{children:[t.jsxs(we,{children:[t.jsx(ce,{className:ct,icon:"myAppsInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"App Id"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:E})]})]}),t.jsx(Zr,{text:E,onCopy:Kr(m,"appId"),children:t.jsx(U,{intent:"default",children:o.appId})})]}),z==="authorisationCode"&&!!(D!=null&&D.length)&&t.jsxs(Le,{children:[t.jsx(de,{hasNoMargin:!0,children:"Redirect Uri(s)"}),D==null?void 0:D.map(_e=>t.jsx(w,{className:Pi,hasGreyText:!0,hasNoMargin:!0,children:_e},_e))]}),z==="authorisationCode"&&!!(R!=null&&R.length)&&t.jsxs(Le,{children:[t.jsx(de,{hasNoMargin:!0,children:"Sign Out Uri(s)"}),R==null?void 0:R.map(_e=>t.jsx(w,{className:Pi,hasGreyText:!0,hasNoMargin:!0,children:_e},_e))]}),t.jsx(Le,{children:t.jsxs(Le,{children:[t.jsx(de,{hasNoMargin:!0,children:"Integration Type"}),t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:ku(v)})]})}),t.jsx(Le,{children:t.jsxs(Le,{children:[t.jsx(de,{hasNoMargin:!0,children:"App Status"}),t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:Su(v)})]})}),!!(G!=null&&G.length)&&t.jsxs(Le,{children:[t.jsx(de,{hasNoMargin:!0,children:"Permissions"}),G==null?void 0:G.map(({name:_e,description:qe})=>t.jsx(xo,{children:qe},_e))]})]})]}):t.jsx(Ht,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found"})},lv=({register:s,errors:a,control:o})=>{var z,D,R,G,q,W,K;const{appEditState:m}=be(),{appEditForm:g}=m,x=Wa({control:o,name:"isAgencyCloudIntegrated"}),y=Wa({control:o,name:"desktopIntegrationTypeIds"}),[b,k]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getDesktopIntegrationTypes],fetchWhenTrue:[x]}),{desktopIntegrationTypeIds:v,isAgencyCloudIntegrated:P,launchWindowSizeX:I,launchWindowSizeY:E}=fr,{name:T}=v,M=(z=b==null?void 0:b.data)==null?void 0:z.filter(X=>{var H;return!((H=X.name)!=null&&H.includes("Payment"))});return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["When your application is integrated with AgencyCloud you can either launch it from the dedicated Apps menu in the AgencyCloud software, or from a series of menus embedded within other pages. Your app can receive contextual entity ids as global variables so it can launch with relevant data for your users. For more on our desktop API"," ",t.jsx("a",{onClick:te(ie.desktopDocs),children:"see here."})]}),t.jsx(w,{hasGreyText:!0,children:"You should toggle \u2018AgencyCloud Integration\u2019 only if you are intending your app to be launched from within AgencyCloud"}),t.jsx(w,{hasGreyText:!0,children:"The below list maps to the various menus from which you can launch your app or replace an AgencyCloud Screen. You should select the ones that are relevant to your app only. You can also select the default height and width of the window you wish your app to launch in within AgencyCloud."}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:P.label}),t.jsxs(Jc,{id:"app-edit-is-ac-inegrated",...s("isAgencyCloudIntegrated"),hasGreyBg:!0,children:[t.jsx(Oa,{children:"Yes"}),t.jsx(Oa,{children:"No"})]})]})}),k&&t.jsx(Kn,{children:t.jsx(yn,{})}),b&&t.jsxs(Kn,{children:[t.jsx(Ci,{id:T,...v,...s("desktopIntegrationTypeIds"),options:M==null?void 0:M.map(({name:X,id:H})=>({name:X,value:H})),defaultValues:g.desktopIntegrationTypeIds.split(",").filter(Boolean)}),((D=a.desktopIntegrationTypeIds)==null?void 0:D.message)&&t.jsx(Pe,{message:(R=a.desktopIntegrationTypeIds)==null?void 0:R.message})]}),t.jsx(xe,{children:t.jsx(pe,{...I,...s("launchWindowSizeX"),disabled:!y.length,errorMessage:(G=a==null?void 0:a.launchWindowSizeX)==null?void 0:G.message,icon:(q=a==null?void 0:a.launchWindowSizeX)!=null&&q.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...E,...s("launchWindowSizeY"),disabled:!y.length,errorMessage:(W=a==null?void 0:a.launchWindowSizeY)==null?void 0:W.message,icon:(K=a==null?void 0:a.launchWindowSizeY)!=null&&K.message?"asterisk":null,intent:"danger"})})]})]})},yo={icon:{width:192,height:192},feature:{width:990,height:444},screenshot:{width:1196,height:914}},jo=yo.icon,bo=yo.feature,Qr=yo.screenshot,cv=jo.width/jo.height,uv=bo.width/bo.height,Ga=Qr.width/Qr.height,dv="ayjl3ht-app-description-height",Xr=(s,a)=>o=>{s(o),a()},pv=(s,a)=>()=>{s(null),a()},hv=s=>()=>{var a;return((a=s==null?void 0:s.data)==null?void 0:a.sort((o,m)=>{var y,b;const g=(y=o.name)==null?void 0:y.toUpperCase(),x=(b=m.name)==null?void 0:b.toUpperCase();return!g||!x?0:g<x?-1:g>x?1:0}))??[]},fv=({register:s,errors:a,control:o,getValues:m})=>{var tt,qn,yr,rt,dn,Tt,pn,Pt,Ni,Rn,Jr,Mi,Rt,hn,Dt,Jt,Ui,Nt,Li,Mt,mt,jr,br,wr,Cr,_r,Sr,kr,Ir,Ar,Oi,Fi,zi,ei,ni,Wi,Bi,qi,Vi,ti,Gi,Yi;const{appEditState:g}=be(),{appEditForm:x}=g,[y,b]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getAppCategories],queryParams:{pageSize:25}}),[,,k]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.fileUpload],method:"POST",returnType:Yr.RESPONSE}),v=Wa({control:o,name:"isFree"}),P=Ut=>k(Ut),[I,E]=V.useState(null),{Modal:T,openModal:M,closeModal:z}=Ye(),D=V.useMemo(hv(y),[y]),{name:R,supportEmail:G,telephone:q,homePage:W,launchUri:K,termsAndConditionsUrl:X,privacyPolicyUrl:H,pricingUrl:me,categoryIds:re,description:ke,summary:_e,isFree:qe,iconImageUrl:un,screen1ImageUrl:jn,screen2ImageUrl:bn,screen3ImageUrl:tn,screen4ImageUrl:rn,screen5ImageUrl:an,videoUrl1:Kt,videoUrl2:Ke,deletionProtection:Ve}=fr,{iconImageUrl:xr,screen1ImageUrl:nt,screen2ImageUrl:Qt,screen3ImageUrl:Bn,screen4ImageUrl:Et,screen5ImageUrl:Xt}=m();return t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"The detail included on this page populates your app listing in the AppMarket. While you are in development, you can complete this in your own time however, when you are ready to submit your app for approval, it all needs to be completed."}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["For information on listing your app ",t.jsx("a",{onClick:te(ie.listingAppDocs),children:"see here"}),". If you are looking for guidance on what we look for when reviewing app, there is a dedicated page"," ",t.jsx("a",{onClick:te(ie.reviewingAppDocs),children:"here."})]}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(Kn,{children:t.jsx(pe,{...R,...s("name"),errorMessage:(tt=a==null?void 0:a.name)==null?void 0:tt.message,icon:(qn=a==null?void 0:a.name)!=null&&qn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...G,...s("supportEmail"),errorMessage:(yr=a==null?void 0:a.supportEmail)==null?void 0:yr.message,icon:(rt=a==null?void 0:a.supportEmail)!=null&&rt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...q,...s("telephone"),errorMessage:(dn=a==null?void 0:a.telephone)==null?void 0:dn.message,icon:(Tt=a==null?void 0:a.telephone)!=null&&Tt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...W,...s("homePage"),errorMessage:(pn=a==null?void 0:a.homePage)==null?void 0:pn.message,icon:(Pt=a==null?void 0:a.homePage)!=null&&Pt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...K,...s("launchUri"),errorMessage:(Ni=a==null?void 0:a.launchUri)==null?void 0:Ni.message,icon:(Rn=a==null?void 0:a.launchUri)!=null&&Rn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...X,...s("termsAndConditionsUrl"),errorMessage:(Jr=a==null?void 0:a.termsAndConditionsUrl)==null?void 0:Jr.message,icon:(Mi=a==null?void 0:a.termsAndConditionsUrl)!=null&&Mi.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...H,...s("privacyPolicyUrl"),errorMessage:(Rt=a==null?void 0:a.privacyPolicyUrl)==null?void 0:Rt.message,icon:(hn=a==null?void 0:a.privacyPolicyUrl)!=null&&hn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Kt,...s("videoUrl1"),errorMessage:(Dt=a==null?void 0:a.videoUrl1)==null?void 0:Dt.message,icon:(Jt=a==null?void 0:a.videoUrl1)!=null&&Jt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Ke,...s("videoUrl2"),errorMessage:(Ui=a==null?void 0:a.videoUrl2)==null?void 0:Ui.message,icon:(Nt=a==null?void 0:a.videoUrl2)!=null&&Nt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...me,...s("pricingUrl"),disabled:v,errorMessage:(Li=a==null?void 0:a.pricingUrl)==null?void 0:Li.message,icon:(Mt=a==null?void 0:a.pricingUrl)!=null&&Mt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...qe,...s("isFree"),errorMessage:(mt=a==null?void 0:a.isFree)==null?void 0:mt.message,icon:(jr=a==null?void 0:a.isFree)!=null&&jr.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Ve,...s("deletionProtection"),errorMessage:(br=a==null?void 0:a.deletionProtection)==null?void 0:br.message,icon:(wr=a==null?void 0:a.deletionProtection)!=null&&wr.message?"asterisk":null,intent:"danger"})}),t.jsxs(Kn,{children:[b&&t.jsx(yn,{}),D.length&&t.jsxs(pe,{children:[t.jsx(Je,{children:re.label}),t.jsx(Ci,{id:"app-edit-categories-select",...s("categoryIds"),noneSelectedLabel:"Please select one or more categories that best describes your app. These will be used by customers to find your app in the AppMarket",options:D.map(Ut=>({value:Ut.id??"",name:Ut.name??""})),defaultValues:x.categoryIds.split(",").filter(Boolean)}),((Cr=a==null?void 0:a.categoryIds)==null?void 0:Cr.message)&&t.jsx(Pe,{message:(_r=a==null?void 0:a.categoryIds)==null?void 0:_r.message})]})]}),t.jsx(Kn,{children:t.jsx(pe,{..._e,...s("summary"),errorMessage:(Sr=a==null?void 0:a.summary)==null?void 0:Sr.message,icon:(kr=a==null?void 0:a.summary)!=null&&kr.message?"asterisk":null,intent:"danger"})}),t.jsxs(Kn,{children:[t.jsx(Je,{children:ke.label}),t.jsx(F0,{control:o,name:"description",render:({field:{onChange:Ut,onBlur:ri,value:Za}})=>t.jsx(X0,{...ke,containerClass:dv,defaultContent:Za,onChange:Ut,onBlur:ri,actions:["bold","italic","paragraph","olist","ulist","link",{name:"test",icon:"<b>H<sub>5</sub></b>",title:"Add heading 5",result:()=>Qc.exec("formatBlock","<h5>")}]})}),((Ir=a==null?void 0:a.description)==null?void 0:Ir.message)&&t.jsx(Pe,{message:(Ar=a==null?void 0:a.description)==null?void 0:Ar.message})]}),t.jsxs(xe,{children:[t.jsx(Hr,{...s("iconImageUrl"),label:un.label,onFileView:Xr(E,M),defaultValue:xr,onFileUpload:P,placeholderText:"Dimensions: 192px x 192px",fileName:Gr(),aspect:cv,resizeDimensions:jo}),((Oi=a==null?void 0:a.iconImageUrl)==null?void 0:Oi.message)&&t.jsx(Pe,{message:(Fi=a==null?void 0:a.iconImageUrl)==null?void 0:Fi.message})]}),t.jsxs(xe,{children:[t.jsx(Hr,{...s("screen1ImageUrl"),label:jn.label,onFileView:Xr(E,M),defaultValue:nt,onFileUpload:P,placeholderText:"Dimensions: 990px x 444px",fileName:Gr(),aspect:uv,resizeDimensions:bo}),((zi=a==null?void 0:a.screen1ImageUrl)==null?void 0:zi.message)&&t.jsx(Pe,{message:(ei=a==null?void 0:a.screen1ImageUrl)==null?void 0:ei.message})]}),t.jsxs(xe,{children:[t.jsx(Hr,{...s("screen2ImageUrl"),label:bn.label,onFileView:Xr(E,M),defaultValue:Qt,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Gr(),aspect:Ga,resizeDimensions:Qr}),((ni=a==null?void 0:a.screen2ImageUrl)==null?void 0:ni.message)&&t.jsx(Pe,{message:(Wi=a==null?void 0:a.screen2ImageUrl)==null?void 0:Wi.message})]}),t.jsxs(xe,{children:[t.jsx(Hr,{...s("screen3ImageUrl"),label:tn.label,onFileView:Xr(E,M),defaultValue:Bn,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Gr(),aspect:Ga,resizeDimensions:Qr}),((Bi=a==null?void 0:a.screen3ImageUrl)==null?void 0:Bi.message)&&t.jsx(Pe,{message:(qi=a==null?void 0:a.screen3ImageUrl)==null?void 0:qi.message})]}),t.jsxs(xe,{children:[t.jsx(Hr,{...s("screen4ImageUrl"),label:rn.label,onFileView:Xr(E,M),defaultValue:Et,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Gr(),aspect:Ga,resizeDimensions:Qr}),((Vi=a==null?void 0:a.screen4ImageUrl)==null?void 0:Vi.message)&&t.jsx(Pe,{message:(ti=a==null?void 0:a.screen4ImageUrl)==null?void 0:ti.message})]}),t.jsxs(xe,{children:[t.jsx(Hr,{...s("screen5ImageUrl"),label:an.label,onFileView:Xr(E,M),defaultValue:Xt,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Gr(),aspect:Ga,resizeDimensions:Qr}),((Gi=a==null?void 0:a.screen5ImageUrl)==null?void 0:Gi.message)&&t.jsx(Pe,{message:(Yi=a==null?void 0:a.screen5ImageUrl)==null?void 0:Yi.message})]}),t.jsxs(T,{title:"Image Preview",children:[t.jsx(we,{className:xn,isFlexAlignCenter:!0,isFlexJustifyCenter:!0,children:t.jsx(j0,{src:I})}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:pv(E,z),children:"Close"})})]})]})]})},gv=({register:s,errors:a})=>{var g,x,y,b;const{redirectUris:o,signoutUris:m}=fr;return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["When using the Reapit Connect"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow,"})," you need to register both a re-direct URI and a logout URI. The former is the location in your app, you want Reapit Connect to re-direct to after a successful user login, the latter, after a succesful logout. Only URIs that are registered here will be accepted as a location by Reapit Connect although, you can register multiple locations with a comma separated list."]}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(Kn,{children:t.jsx(pe,{...o,...s("redirectUris"),errorMessage:(g=a==null?void 0:a.redirectUris)==null?void 0:g.message,icon:(x=a==null?void 0:a.redirectUris)!=null&&x.message?"asterisk":null,intent:"danger"})}),t.jsx(Kn,{children:t.jsx(pe,{...m,...s("signoutUris"),errorMessage:(y=a==null?void 0:a.signoutUris)==null?void 0:y.message,icon:(b=a==null?void 0:a.signoutUris)!=null&&b.message?"asterisk":null,intent:"danger"})})]})]})},mv="dqurj2d-docs-animated-style",vv=({isAnimated:s})=>t.jsxs("svg",{className:ee(s&&mv,wi),id:"erekCw3TbW21",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",height:"140px",children:[t.jsx("path",{d:"M92.6107,118.751c0-1.914-1.5509-3.465-3.4638-3.465h-1.4623v-33.5396c-1.7976,0-3.4989-.5863-4.9148-1.5746-.952.6711-2.0477,1.167-3.2624,1.4081-.5556.111-1.1226.1665-1.683.1665-.3736,0-.7323-.05-1.0958-.0975l-16.1458-.3054c-.7856.2352-1.6028.4017-2.4654.4017-.8602,0-1.6764-.1663-2.4631-.4017l-16.1458.3056c-.362.0475-.7233.0974-1.0966.0974-.5569,0-1.1218-.0555-1.6889-.1676-1.2112-.2411-2.3048-.7359-3.2578-1.407-1.4159.9882-3.1138,1.5746-4.9101,1.5746L28.554,115.286h-1.4625c-1.9142,0-3.4648,1.551-3.4648,3.465c0,1.915,1.5506,3.465,3.4648,3.465h62.0553c1.913,0,3.4639-1.551,3.4639-3.465Z",fill:"#506478"}),t.jsx("path",{d:"M17.0043,88.7831c.6344.2019,1.2751.2981,1.9065.2981c2.8655,0,5.5122-1.9881,6.3746-5.0665l.35-1.2468c.237,2.2638,1.4787,4.2584,3.3362,5.3748.5994.3551,1.2384.6484,1.948.7984.4388.0949.8761.1401,1.3058.1401c3.1114,0,5.8929-2.3353,6.5213-5.7121l.1623-.8651c.1665,2.4069,1.4602,4.5272,3.3835,5.6728.7722.4613,1.6409.7659,2.5797.8672.2245.0259.4478.0359.6679.0359c3.3779,0,6.2723-2.7314,6.6161-6.3919l.0491-.5264c.8894,10.6514,13.8828,8.0692,13.8828.3424l.1623.8651c.6313,3.3783,3.411,5.7121,6.5212,5.7121.4311,0,.8669-.0454,1.3074-.1401.7061-.15,1.3484-.4433,1.9449-.7984c1.8607-1.1166,3.1023-3.111,3.3394-5.3748l.3499,1.2468c.8626,3.0784,3.5092,5.0665,6.376,5.0665.6302,0,1.2708-.0962,1.9052-.2981c3.5245-1.1215,5.5274-5.0748,4.4756-8.8279L86.7774,59.651C85.5881,55.4075,81.926,52.5,77.7718,52.5h-50.5431c-4.1561,0-7.818,2.9075-9.0075,7.151L12.53,79.9552c-1.0518,3.7533.9514,7.7066,4.4743,8.8279Z",fill:"#607890"}),t.jsx("rect",{width:"15.75",height:"10.5",rx:"1",ry:"1",transform:"translate(36.75 94.5)",fill:"#d8dee4"}),t.jsx("rect",{width:"15.75",height:"10.5",rx:"1",ry:"1",transform:"translate(63 94.5)",fill:"#d8dee4"}),t.jsx("g",{id:"manage-app-listing-one",transform:"translate(39.12742,25.990749)",children:t.jsx("path",{d:"M64.5593,22.0386c-.9453-5.879-6.2367-10.3914-12.613-10.3914-2.3987,0-4.7048.6384-6.706,1.829C42.2069,8.55954,36.7363,5.5,30.6533,5.5c-9.3971,0-17.0546,7.3539-17.0694,16.3926-.0001.056-.0002.1141.0018.1701-6.04098.9785-10.80557,6.0431-10.81556,12.1243C2.759,40.9666,8.62547,46.4815,15.6738,46.4815h46.8668c7.0484,0,12.9329-5.5149,12.9441-12.2945.0101-6.1331-4.8148-11.2298-10.9254-12.1484v0Z",transform:"translate(-39.12742,-25.990749)",fill:"#d8dee4"})}),t.jsx("path",{d:"M121.209,133.349h-50.2457c-.001,0-.0019,0-.0029,0-4.2515-.012-7.6987-3.459-7.7103-7.711v-105.9911c.0116-4.2518,3.4591-7.6993,7.7109-7.7109h50.251c4.251.0116,7.699,3.4588,7.711,7.7103c0,.001,0,.0019,0,.0029v105.9888c0,.001,0,.001,0,.002-.015,4.253-3.459,7.697-7.711,7.709-.001,0-.002,0-.003,0Z",fill:"#d8dee4",stroke:"#506478",strokeWidth:"4"}),t.jsx("path",{d:"M121.214,135.349h-50.2556c-5.3544-.013-9.6952-4.354-9.7083-9.708v-12.297c32.0121,0,41.1849,0,69.6729,0v12.3c-.017,5.354-4.354,9.692-9.709,9.705Z",fill:"#607890"}),t.jsx("rect",{width:"38.5",height:"38.5",rx:"19.25",ry:"19.25",transform:"translate(73.5001 26.25)",fill:"#fff"}),t.jsx("rect",{width:"43.8946",height:"15.6767",rx:"1",ry:"1",transform:"translate(73.7937 85.5774)",fill:"#d8dee4"}),t.jsx("rect",{width:"31.3533",height:"6.27067",rx:"1",ry:"1",transform:"translate(73.7937 75.25)",fill:"#d8dee4"}),t.jsx("circle",{r:"18.375",transform:"translate(63.875 51.625)",fill:"#fff"}),t.jsx("g",{id:"manage-app-listing-two",transform:"translate(60.5,53.5) rotate(0)",children:t.jsx("g",{id:"manage-app-listing-three",transform:"scale(1,1)",children:t.jsx("path",{d:"M57.3649,25c-.8426,0-1.6097.3968-2.1056.9476s-.7714,1.2255-.9028,1.9198v.001l-.8431,4.4579c-1.0435.3462-2.058.7685-3.0393,1.264l-3.7543-2.5598c-.5836-.3978-1.2549-.6809-1.9954-.7199-.7411-.039-1.5636.2249-2.1587.82l-4.4328,4.4329c-.5961.5956-.8585,1.4185-.8204,2.1587.038.7405.3206,1.4132.7184,1.9978l2.5486,3.738c-.4945.9866-.9144,2.0059-1.2577,3.0542l-4.4535.8431c-.6943.1315-1.3698.4069-1.9207.9029-.5508.4959-.9476,1.2644-.9476,2.1071v6.2688c0,.8427.3963,1.6098.9476,2.1057.5509.496,1.2264.7724,1.9207.9038l4.4608.8451c.3462,1.0425.7675,2.0561,1.263,3.0364l-2.5606,3.7544c-.3982.5841-.6804,1.2568-.7184,1.9974-.0381.7405.2239,1.563.8205,2.1586l4.4327,4.4329c.5957.5961,1.4181.8576,2.1587.819.7405-.039,1.4122-.3211,1.9963-.7193l3.7379-2.5482c.9866.4945,2.0064.9134,3.0551,1.2572l.8432,4.4535c.1314.6944.4068,1.3699.9028,1.9208.4959.5509,1.263.9476,2.1056.9476L63.6361,82c.8426,0,1.6097-.3963,2.1056-.9476.496-.5509.7714-1.226.9029-1.9198v-.0015l.8441-4.4573c1.0434-.3463,2.0579-.7685,3.0392-1.264l3.7534,2.5588c.584.3982,1.2562.6804,1.9962.7194.7406.039,1.5636-.223,2.1597-.8191l4.4327-4.4329c.5957-.5961.8581-1.4195.8191-2.1596-.0385-.7406-.3212-1.4123-.7199-1.9964l-2.5486-3.738c.4945-.9866.9144-2.0059,1.2577-3.0547l4.4535-.8431c.6943-.1315,1.3698-.4079,1.9207-.9038.5509-.496.9476-1.263.9476-2.1057v-6.2693c0-.8426-.3963-1.6106-.9476-2.1071-.5509-.496-1.2259-.7714-1.9198-.9029l-4.4587-.8441c-.3462-1.043-.7685-2.0566-1.264-3.0375L82.9696,39.72c.3982-.5841.6809-1.2563.7199-1.9964.039-.7406-.2239-1.564-.8205-2.1596l-4.4318-4.4329c-.5961-.5956-1.419-.859-2.1596-.82-.7401.039-1.4118.3221-1.9955.7198l-3.7379,2.5487c-.9866-.494-2.0064-.9134-3.0551-1.2572l-.8441-4.4545c-.1315-.6944-.4069-1.3686-.9029-1.9198-.4959-.5509-1.2629-.9476-2.1056-.9476L57.3649,25Zm3.1352,17.7026c5.9756,0,10.7954,4.8209,10.7954,10.7966c0,5.9752-4.82,10.7961-10.7954,10.7966-5.9756,0-10.7964-4.8209-10.7964-10.7966c0-5.9761,4.8208-10.7966,10.7964-10.7966Z",transform:"translate(-60.5,-53.5)",fill:"#7e9bfa"})})})]}),xv="dhbkz5x-docs-svg-style",yv="o1em0cms-offset-style-one",jv="o1juy2tl-offset-style-two",bv=({isAnimated:s})=>t.jsx("svg",{className:ee(s&&xv,wi),id:"e7CDlwhB8m51",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",height:"140px",children:t.jsxs("g",{clipPath:"url(#e7CDlwhB8m525)",children:[t.jsxs("g",{children:[t.jsx("g",{id:"app-listing-docs-one",transform:"translate(69.99835,61.58215)",children:t.jsx("path",{d:"M119.024,61.4515L69.9983,44.21L20.9727,61.4515L69.9983,78.9543L119.024,61.4515Z",transform:"translate(-69.99835,-61.58215)",fill:"#798da1"})}),t.jsx("g",{id:"app-listing-docs-two",transform:"translate(94.509052,61.58215)",children:t.jsx("path",{d:"M119.022,61.4515L69.9961,44.21v34.7443L119.022,61.4515Z",transform:"translate(-94.509052,-61.58215)",fill:"#9faebc"})}),t.jsxs("g",{transform:"translate(.000001 0)",children:[t.jsxs("g",{transform:"translate(.000001 0)",children:[t.jsx("path",{d:"M88.5528,8.83691h-38.2352c-3.7098,0-6.7278,3.07939-6.7278,6.86359v82.1929c0,3.7846,3.018,6.8636,6.7278,6.8636h38.2352c3.7098,0,6.7286-3.079,6.7286-6.8636v-82.1929c0-3.7842-3.0188-6.86359-6.7286-6.86359v0Z",fill:"#506478"}),t.jsx("path",{d:"M88.529,12.8105h-5.6823c-.5361,0-.9703.4429-.9703.9889c0,1.3117-1.0515,2.3843-2.3365,2.3843h-20.2552c-1.2859,0-2.3374-1.0726-2.3374-2.3843c0-.546-.4341-.9889-.9703-.9889h-5.6823c-1.5652,0-2.8338,1.2941-2.8338,2.8898v64.8486h43.9019v-64.8486c0-1.5957-1.2686-2.8898-2.8338-2.8898Z",fill:"#fff"})]}),t.jsxs("g",{transform:"translate(0 0.000001)",children:[t.jsx("path",{d:"M50.8828,45.4146l18.576-18.2154l18.576,18.2154v25.1546h-37.152v-25.1546Z",fill:"#506478"}),t.jsx("path",{d:"M50.8828,45.4146l18.576-18.2154l18.576,18.2154v14.3121L50.8828,45.4146Z",fill:"#d8dee4"}),t.jsx("path",{d:"M88.036,70.5692h-10.8737L61.7578,34.7519L69.46,27.1992L88.036,45.4146v25.1546Z",fill:"#9faebc"}),t.jsx("path",{d:"M88.036,45.4146v14.3121L69.46,52.6606L61.7578,34.7519L69.46,27.1992L88.036,45.4146Z",fill:"#7e9bfa"})]})]}),t.jsx("g",{id:"app-listing-docs-three",transform:"translate(69.649327,82.061558)",children:t.jsxs("g",{transform:"translate(-69.649326,-79.061558)",children:[t.jsx("path",{d:"M70.011522,75.96449c-.190118.78125-.061612,3.42125,0,5.28l3.903961-3.524822-3.903961-1.755178Z",transform:"translate(.000001 0.000003)",fill:"#506478",strokeWidth:"0.28"}),t.jsx("path",{d:"M69.992961,76.053166l-.017109,5.286723l3.95674-3.620221-3.939631-1.666502Z",transform:"matrix(-1.168966 0 0-1.168966 151.807857 171.062202)",fill:"#607890",strokeWidth:"0.28"})]})}),t.jsx("path",{d:"M69.9983,79.0023L20.9727,61.4512v63.1168l49.0256,15.777v-61.3427Z",fill:"#607890"}),t.jsx("path",{d:"M119.022,124.568v-63.1168L69.9961,79.0023v61.3427l49.0259-15.777Z",fill:"#506478"}),t.jsx("g",{id:"app-listing-docs-four",transform:"translate(36.9986,80.849051)",children:t.jsx("path",{d:"M20.9715,61.4521L4,81.8288L53.9483,100.246L69.9972,78.955L20.9715,61.4521Z",transform:"translate(-36.9986,-80.849051)",fill:"#d8dee4"})}),t.jsx("g",{id:"app-listing-docs-five",transform:"translate(102.997547,80.848101)",children:t.jsx("path",{d:"M119.022,61.4512l16.977,20.3766L86.0506,100.245L69.9961,78.954L119.022,61.4512Z",transform:"translate(-102.997547,-80.848101)",fill:"#798da1"})}),t.jsx("g",{id:"app-listing-docs-six",transform:"translate(89.264528,45.746041)",children:t.jsx("g",{id:"app-listing-docs-seven",transform:"rotate(-67.423922)",children:t.jsx("g",{id:"app-listing-docs-eight",transform:"skewX(-1.018603) skewY(0) scale(1,0.999842)",children:t.jsx("rect",{width:"12.6821",height:"12.724",rx:"3",ry:"3",transform:"translate(-6.34105,-6.362)",fill:"#ffe5c7"})})})}),t.jsx("g",{id:"app-listing-docs-nine",className:yv,children:t.jsx("g",{id:"app-listing-docs-ten",transform:"rotate(-25.945515)",children:t.jsx("g",{id:"app-listing-docs-eleven",transform:"skewX(0.740377) skewY(0) scale(0.999999,0.999917)",children:t.jsx("rect",{width:"25.2093",height:"25.3778",rx:"5",ry:"5",transform:"translate(-12.60465,-12.6889)",fill:"#7e9bfa"})})})}),t.jsx("g",{id:"app-listing-docs-twelve",className:jv,children:t.jsx("g",{id:"app-listing-docs-thirteen",transform:"rotate(18.101295)",children:t.jsx("g",{id:"app-listing-docs-fourteen",transform:"skewX(0.486255) skewY(0) scale(1,0.999964)",children:t.jsx("rect",{width:"9.83494",height:"9.95171",rx:"2",ry:"2",transform:"translate(-4.91747,-4.975855)",fill:"#ffe5c7"})})})})]}),t.jsx("clipPath",{id:"e7CDlwhB8m525",children:t.jsx("rect",{width:"140",height:"140",rx:"0",ry:"0",fill:"#fff"})})]})}),wv=s=>a=>{a.preventDefault(),a.stopPropagation(),s()},Ya=(s,a)=>()=>{s(a)},Cv=()=>{const{appsDataState:s,appEditState:a}=be(),[o,m]=V.useState(!1),[g,x]=V.useState(!1),{Modal:y,openModal:b,closeModal:k}=Ye(),v=s.appDetail??{},{appUnsavedFields:P,appIncompleteFields:I}=a;return t.jsxs(t.Fragment,{children:[t.jsxs(pr,{children:[t.jsxs(Fa,{children:[t.jsx(vv,{isAnimated:o}),t.jsx(de,{children:"Manage App Listing"}),t.jsx(w,{hasGreyText:!0,children:"This page is the starting point for completing your app listing, and initiating the approvals process for your app to go live with customer data."}),t.jsx(w,{hasGreyText:!0,children:"As an app developer, you need to provide us with a number of pieces of information about your integration and have it approved by our team, prior to going live with customer data. For apps that wish to integrate with the AgencyCloud CRM, and be publicly listed in the AppMarket, the approvals process is more involved than for simple server-side or single customer private apps. Regardless of your target audience, you should start to complete your app listing as soon as possible."}),t.jsx(w,{hasGreyText:!0,children:"You can check the status of your app listing at any time by using the button below, prior to submitting for approval."}),t.jsx(U,{intent:"primary",onMouseEnter:Ya(m,!0),onMouseLeave:Ya(m,!1),onClick:wv(b),children:"Check Status"})]}),t.jsxs(Fa,{children:[t.jsx(bv,{isAnimated:g}),t.jsx(de,{children:"App Listing Documentation"}),t.jsx(w,{hasGreyText:!0,children:"As you make changes, you should save your changes in the left hand side menu. You can do this as many times as you like until your app is listed, or live in the AppMarket."}),t.jsxs(w,{hasGreyText:!0,children:["When you are ready for your app to be reviewed by a member of our team, click the \u2018Submit Review\u2019 button. If you are looking for guidance on what we look for when reviewing app, there is a dedicated page ",t.jsx("a",{onClick:te(ie.reviewingAppDocs),children:"here."})]}),t.jsx(w,{hasGreyText:!0,children:"When your app is live, you will need to create revisions to your app for our team to review. You can only have one live revision outstanding at any given time."}),t.jsx(w,{hasGreyText:!0,children:"For guidelines on completing your app listing, visit the documentation link below before getting started."}),t.jsx(U,{intent:"default",onMouseEnter:Ya(x,!0),onMouseLeave:Ya(x,!1),onClick:te(ie.listingAppDocs),children:"View Docs"})]})]}),t.jsxs(y,{title:"App Listing Status",children:[t.jsxs("div",{className:Me,children:[t.jsx(w,{hasNoMargin:!0,children:"Integration Type"}),t.jsx(w,{hasGreyText:!0,children:ku(v)}),t.jsx(w,{hasNoMargin:!0,children:"AppMarket Status"}),t.jsx(w,{hasGreyText:!0,children:Su(v)}),t.jsx(w,{hasNoMargin:!0,children:"App Listing Status"}),I.length?t.jsxs("div",{className:bi,children:[t.jsx(w,{hasGreyText:!0,children:"The following fields in your app listing must be completed before you can submit for review:"}),I.map(E=>t.jsx(xo,{children:fr[E].label},E))]}):t.jsx(w,{hasGreyText:!0,children:"Your app listing data is complete and you can submit for review at any time."}),t.jsx(w,{hasNoMargin:!0,children:"Unsaved Changes"}),Object.keys(P).length?t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"The following fields have been edited, save to avoid losing data:"}),Object.keys(P).map(E=>t.jsx(xo,{children:fr[E].label},E))]}):t.jsx(w,{hasGreyText:!0,children:"You have no unsaved changes to your app listing"})]}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:k,children:"Close"})})]})]})},_v=({register:s,errors:a,control:o})=>{var z,D,R,G,q,W,K;const{appEditState:m}=be(),{appEditForm:g}=m,[x,y]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getAppPermissions]}),[b,k]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getProducts]}),v=Wa({control:o,name:"isPrivateApp"}),{scopes:P,products:I,isPrivateApp:E,limitToClientIds:T}=fr,M=x==null?void 0:x.filter(X=>{var H;return!((H=X.name)!=null&&H.includes("payment"))});return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Permissions are registered as scopes against the access token you receive back from one of our Authentication Flows. They map 1:1 and on a read/write basis to endpoints in our Platform REST API. As such, it is worth looking at the"," ",t.jsxs(Ua,{to:oe.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"before proceeding, to investigate which permissions you think you will need."]}),y&&t.jsx(yn,{}),t.jsx(ut,{hasMargin:!0,children:M&&t.jsx(Kn,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:P.label}),t.jsx(Ci,{id:"app-edit-scopes-select",...P,...s("scopes"),options:M.map(({name:X,description:H})=>({name:H,value:X})),defaultValues:g.scopes.split(",").filter(Boolean)}),((z=a.scopes)==null?void 0:z.message)&&t.jsx(Pe,{message:(D=a.scopes)==null?void 0:D.message})]})})}),t.jsx(w,{hasGreyText:!0,children:"This section refers to products that are available within the Reapit Group of Companies. For UK based developers, this will typically default to Agency Cloud however, as we launch the Reapit AppMarket in other countries and with different products, you may wish for your application to list in these alternative AppMarkets. You can select more than one option but at least one option must be selected."}),k&&t.jsx(yn,{}),t.jsx(ut,{hasMargin:!0,children:(b==null?void 0:b.data)&&t.jsx(Kn,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:I.label}),t.jsx(Ci,{id:"app-edit-products-select",...I,...s("products"),options:(R=b==null?void 0:b.data)==null?void 0:R.map(X=>({value:X.id??"",name:X.name??""})),defaultValues:g.products.split(",").filter(Boolean)}),((G=a.products)==null?void 0:G.message)&&t.jsx(Pe,{message:(q=a.products)==null?void 0:q.message})]})})}),t.jsxs(w,{hasGreyText:!0,children:["You should toggle \u2018Private App\u2019 if you only want your app to be private to a select group of customers (max of 3). Simply enter their \u2018Customer ID\u2019 as a comma separated list. For more information on how to find the Customer ID,"," ",t.jsx("a",{onClick:te(ie.customerIdFindDocs),children:" please see here."})]}),k&&t.jsx(yn,{}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:E.label}),t.jsxs(Jc,{id:"app-edit-is-private-app",...s("isPrivateApp"),hasGreyBg:!0,children:[t.jsx(Oa,{children:"Yes"}),t.jsx(Oa,{children:"No"})]})]})}),t.jsx(b0,{children:t.jsx(pe,{...T,...s("limitToClientIds"),disabled:!v,errorMessage:(W=a==null?void 0:a.limitToClientIds)==null?void 0:W.message,icon:(K=a==null?void 0:a.limitToClientIds)!=null&&K.message?"asterisk":null,intent:"danger"})})]})]})};var nn=(s=>(s.general="general",s.authentication="authentication",s.permissions="permissions",s.acIntegration="ac-integration",s.appListing="app-listing",s))(nn||{});const Sv=s=>t.jsxs(co,{children:[t.jsx(cn,{path:oe.APPS_EDIT_AUTHENTICATION.split("edit/")[1],element:t.jsx(gv,{...s})}),t.jsx(cn,{path:oe.APPS_EDIT_PERMISSIONS.split("edit/")[1],element:t.jsx(_v,{...s})}),t.jsx(cn,{path:oe.APPS_EDIT_APP_LISTING.split("edit/")[1],element:t.jsx(fv,{...s})}),t.jsx(cn,{path:oe.APPS_EDIT_AC_INTEGRATION.split("edit/")[1],element:t.jsx(lv,{...s})}),t.jsx(cn,{path:oe.APPS_EDIT_GENERAL.split("edit/")[1],element:t.jsx(Cv,{...s})})]}),kv={USER_SESSION:"authorisationCode",CLIENT_SECRET:"clientCredentials"},{USER_SESSION:Ha,CLIENT_SECRET:Eu}=kv,{FIELD_REQUIRED:et,MAXIMUM_CHARACTER_LENGTH:Ri,FIELD_WRONG_EMAIL_FORMAT:Tu}=$e,{name:Iv,telephone:wo,supportEmail:Av,launchUri:Co,iconImageUrl:Ev,homePage:Pu,description:Tv,summary:Pv,screen1ImageUrl:Rv,authFlow:Di,scopes:Ru,redirectUris:Du,signoutUris:Nu,limitToClientIds:Mu,isListed:Wn,termsAndConditionsUrl:Uu,privacyPolicyUrl:Lu,pricingUrl:Ou,isFree:Dv,products:Nv,videoUrl1:Mv,videoUrl2:Uv,launchWindowSizeX:Lv,launchWindowSizeY:Ov}=fr,Fu=Xn().shape({[Iv.name]:L().trim().required(et).max(100,Ri(100)).test(en),[Wn.name]:z0(),[wo.name]:L().when(Wn.name,{is:!0,then:L().trim().required(et).matches(ou,wo.errorMessage).max(20,Ri(20)).test(en),otherwise:L().trim().matches(ou,{excludeEmptyString:!0,message:wo.errorMessage}).max(20,Ri(20)).test(en)}),[Av.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().required(et).matches(lu,Tu),otherwise:L().trim().matches(lu,{excludeEmptyString:!0,message:Tu})}),[Co.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().when(Di.name,(s,a)=>s===Ha?a.required($e.FIELD_REQUIRED).test({name:"isValidLaunchUri",test:Ai,message:Co.errorMessage}):a),otherwise:L().notRequired()}).test({name:"isValidLaunchUri",message:Co.errorMessage,test:s=>s?Ai(s):!0}),[Ev.name]:L().when(Wn.name,{is:!0,then:L().required(et),otherwise:L().notRequired()}),[Rv.name]:L().when(Wn.name,{is:!0,then:L().required(et),otherwise:L().notRequired()}),[Pu.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().required(et),otherwise:L().notRequired()}).test({name:"isValidHomePage",message:Pu.errorMessage,test:s=>s?Ai(s)||V0(s):!0}),[Tv.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().required(et).min(150,$e.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5)).max(2e5,$e.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5)),otherwise:L().trim().test({name:"isValidDescription",message:$e.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5),test:s=>s?s.length>=150&&s.length<=2e5:!0})}),[Pv.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().required(et).min(50,$e.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150)).max(150,$e.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150)).test(en),otherwise:L().trim().test({name:"isValidSummary",message:$e.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150),test:s=>s?s.length>=50&&s.length<=150:!0}).test(en)}),[Di.name]:L().trim().required(et).oneOf([Ha,Eu]),[Ru.name]:L().when(Di.name,(s,a)=>s===Eu?a.required(Ru.errorMessage):a),[Du.name]:L().trim().when(Di.name,(s,a)=>s===Ha?a.required($e.FIELD_REQUIRED).test({name:"isValidUrlWithCustomSchemeRedirectUris",test:cu,message:Du.errorMessage}):a),[Nu.name]:L().trim().when(Di.name,(s,a)=>s===Ha?a.required($e.FIELD_REQUIRED).test({name:"isValidUrlWithCustomSchemeSignoutUris",test:cu,message:Nu.errorMessage}):a),[Mu.name]:L().trim().test({name:"isValidLimitToClientIds",test:s=>s?G0(s):!0,message:Mu.errorMessage}).test(en),[Uu.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().required(et),otherwise:L().notRequired()}).test({name:"isValidTermsAndConditionsUrl",message:Uu.errorMessage,test:s=>s?Ei(s):!0}),[Lu.name]:L().trim().when(Wn.name,{is:!0,then:L().trim().required(et),otherwise:L().notRequired()}).test({name:"isValidPrivacyPolicyUrl",message:Lu.errorMessage,test:s=>s?Ei(s):!0}),[Ou.name]:L().trim().when([Dv.name,Wn.name],{is:(s,a)=>!s&&a,then:s=>s.required("Required if not free")}).test({name:"isValidPricingUrl",message:Ou.errorMessage,test:s=>s?Ei(s):!0}),[Mv.name]:L().trim().test({name:"isValidVideo1",message:"Video needs to be a valid https url",test:s=>s?Ei(s):!0}),[Uv.name]:L().trim().test({name:"isValidVideo2",message:"Video needs to be a valid https url",test:s=>s?Ei(s):!0}),[Nv.name]:L().required("At least one product must be selected"),[Lv.name]:L().trim().max(4,Ri(4)).test(en),[Ov.name]:L().trim().max(4,Ri(4)).test(en)}),Fv=(s,a)=>()=>{(async()=>{var o;try{await Fu.validate({...s,isListed:!0},{abortEarly:!1}),a([])}catch(m){const g=(o=m==null?void 0:m.inner)==null?void 0:o.reduce((x,y)=>(x.includes(y.path)||x.push(y.path),x),[]);a(g)}})().catch(o=>console.error(o))},zv=(s,a,o)=>{var k;const{isListed:m,scopes:g}=a,x=s==null?void 0:s.isListed,y=(k=s==null?void 0:s.scopes)==null?void 0:k.map(v=>v.name),b=!!(g!=null&&g.filter(v=>!(y!=null&&y.includes(v))).length);return!!(m&&x&&b&&o)},Wv=(s,a,o)=>{var k,v;const m=a==null?void 0:a.isListed,g=(k=a==null?void 0:a.scopes)==null?void 0:k.map(P=>P.name),x=s==null?void 0:s.isListed,y=(v=s==null?void 0:s.scopes)==null?void 0:v.map(P=>P.name),b=!!(g!=null&&g.filter(P=>!(y!=null&&y.includes(P))).length);return!!(m&&x&&b&&o)},Bv=(s,a)=>()=>{a(s)},qv=(s,a)=>()=>{s&&a(s)},Vv=(s,a,o)=>()=>{o.isRevalidating&&(s("isListed",o.isListed,{shouldValidate:!0}),a({...o,isRevalidating:!1,isSaving:!0}))},Gv=(s,a,o,m,g,x,y,b,k,v)=>()=>{a.isSaving&&o(async P=>{const I=vu(P),E=await m(I);s({isListed:P.isListed,isRevalidating:!1,isSaving:!1}),E&&(x(),y(),g()),zv(b,I,v)&&k()})()},Yv=(s,a,o)=>async()=>{s({actionedBy:o}),a()},Hv=()=>{var tn;const{appId:s}=Vr(),{appEditState:a,setAppId:o,appsDataState:m}=be(),{globalDataState:g}=Ii(),{appEditForm:x,setAppEditSaving:y,appEditSaving:b,setAppUnsavedFields:k,setIncompleteFields:v,appHasInstallations:P}=a,{appsRefresh:I,appsDetailRefresh:E,appRefreshRevisions:T,appDetail:M,appRevisions:z}=m,D=z!=null&&z.data?z.data[0]:null,R=(tn=g==null?void 0:g.currentDeveloper)==null?void 0:tn.email,{Modal:G,openModal:q,closeModal:W}=Ye(),[,,K]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createAppRevsion],method:"POST",uriParams:{appId:s},returnType:Yr.LOCATION}),[,,X]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createConsentEmails],method:"POST",uriParams:{appId:s,revisionId:D==null?void 0:D.id}}),{register:H,handleSubmit:me,control:re,getValues:ke,setValue:_e,reset:qe,formState:{errors:un,dirtyFields:jn}}=gr({resolver:mr(Fu),delayError:500,mode:"onChange",reValidateMode:"onBlur",defaultValues:{...x}}),bn=Object.keys(jn).length;return V.useEffect($r(o,s),[s]),V.useEffect(qv(jn,k),[bn]),V.useEffect(Fv(ke(),v),[bn]),V.useEffect(Bv(x,qe),[x]),V.useEffect(Vv(_e,y,b),[b]),V.useEffect(Gv(y,b,me,K,I,E,T,M,q,P),[b]),t.jsxs("form",{children:[t.jsx(Sv,{register:H,errors:un,control:re,getValues:ke}),t.jsxs(G,{title:"Additional Permissions Requested",children:[t.jsx(w,{hasGreyText:!0,children:"As you have asked for additional permissions for your application and it is currently live and in use, we will need the consent of all clients that have installed your app before we can approve."}),t.jsx(w,{hasGreyText:!0,children:"By sending the request below, we will email the person that installed your app, requesting that they agree to the new permission(s). When all your installed customers have agreed to the new permissions, we will review your app revision as normal. If you choose not to send the request emails, we will do it for you as part of the review process."}),t.jsxs(w,{hasGreyText:!0,children:["If you do, you will be able to track the requests by selecting \u2018App Consents\u2019 on your app listing. For more information, please visit"," ",t.jsx("a",{onClick:te(ie.appPermissionsDocs),target:"_blank",rel:"noreferrer",children:"the docs here"}),"."]}),t.jsxs(ue,{alignment:"right",children:[t.jsx(U,{onClick:W,intent:"default",children:"Close"}),t.jsx(U,{fixedWidth:!0,onClick:Yv(X,W,R),intent:"primary",children:"Send Requests"})]})]})]})},Zv=(s,a)=>o=>{a&&s(`${oe.APPS}/${a}/edit/${o.target.value}`)},$v=()=>{const s=ot(),a=ur(),{appId:o}=Vr(),{appsDataState:m,setAppId:g}=be(),{isMobile:x}=Yt(),{Modal:y,openModal:b,closeModal:k}=Ye();V.useEffect($r(g,o),[o]);const{appDetail:v,appDetailLoading:P}=m,{pathname:I}=a;return P?t.jsx(yn,{}):v?t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:v.name}),x&&t.jsxs(y,{title:"Controls",children:[t.jsx(vr,{}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:k,children:"Close"})})]}),t.jsx(eu,{isFullWidth:!0,name:"app-edit-tabs",onChange:Zv(s,o),options:[{id:nn.general,value:nn.general,text:"About Listings",isChecked:I.includes(nn.general)||I===oe.APPS_EDIT.replace(":appId",o??"")},{id:nn.appListing,value:nn.appListing,text:"AppMarket Listing",isChecked:I.includes(nn.appListing)},v.authFlow==="authorisationCode"&&{id:nn.authentication,value:nn.authentication,text:"Authentication",isChecked:I.includes(nn.authentication)},{id:nn.permissions,value:nn.permissions,text:"Permissions",isChecked:I.includes(nn.permissions)},v.authFlow==="authorisationCode"&&{id:nn.acIntegration,value:nn.acIntegration,text:"AgencyCloud Integration",isChecked:I.includes(nn.acIntegration)}].filter(Boolean)}),t.jsx(Hv,{}),t.jsx(qr,{onClick:b})]}):t.jsx(Ht,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found"})},Kv=()=>{const s=ot(),{appId:a}=be(),[o,m]=V.useState(!1),[g,x]=V.useState(!1);return t.jsxs(pr,{children:[t.jsxs(Fa,{children:[t.jsx(uu,{className:wi,children:t.jsx(Z0,{isAnimated:o})}),t.jsx(de,{children:"Pipeline Deployments"}),t.jsx(w,{hasGreyText:!0,children:"Pipelines are configurations used to deploy applications to our infrastructure. Think of them like a CI / CD runner like Github Actions, Travis or CircleCI"}),t.jsx(w,{hasGreyText:!0,children:"A Pipeline can be created via the developer portal or via our CLI NPM package."}),t.jsx(w,{hasGreyText:!0,children:"When you have created a pipeline for your app, you can either deploy it from the command line from a zip file, or by pulling directly from a Github or Bitbucket repo. This will give you a link to your deployed service in the Reapit Platform Cloud."}),t.jsx(U,{intent:"primary",onClick:Qn(s,oe.APP_PIPELINE_NEW.replace(":appId",a)),onMouseOver:()=>{m(!0)},onMouseOut:()=>{m(!1)},children:"Create Pipeline"})]}),t.jsxs(Fa,{children:[t.jsx(uu,{className:wi,children:t.jsx($0,{isAnimated:g})}),t.jsx(de,{children:"Pipeline Documentation"}),t.jsx(w,{hasGreyText:!0,children:"For more on how to get started with Pipelines and deploying to Reapit infrastructure as a Service (IAAS), visit the doucmentation link below."}),t.jsx(w,{hasGreyText:!0,children:"Please note, this service is a public Alpha and there may be some reliabilty issues while we refine our processes. As such, for now you should only use our infra for internal testing, pre-production applications and non-mission critical services."}),t.jsx(U,{intent:"default",onClick:te(ie.pipelineDocs),onMouseOver:()=>{x(!0)},onMouseOut:()=>{x(!1)},children:"View Docs"})]})]})},zu="f141c8gf-four-col-table",Qv=s=>Si(s).format("DD MMM YYYY hh:mm:ss"),Wu=s=>Si(s).format("DD MMM YYYY hh:mm:ss"),Bu=["DOWNLOAD_SOURCE","INSTALL","BUILD","TEST","DEPLOY"],Xv=({tasks:s,s3BuildLogsLocation:a,buildStatus:o,created:m})=>{if(!s||!s.length)return t.jsx(Ht,{isInline:!0,isFullWidth:!0,isExpanded:!0,intent:"primary",children:"No progress reported for this deployment"});const g=m;g.setDate(1);const x=new Date().getTime()<g.getTime();return t.jsxs(t.Fragment,{children:[t.jsxs(cr,{children:[t.jsxs(uo,{className:zu,children:[t.jsx(It,{children:"Task"}),t.jsx(It,{children:"Status"}),t.jsx(It,{children:"Started"}),t.jsx(It,{children:"Finished"})]}),s.sort((y,b)=>Bu.indexOf(y.functionName)-Bu.indexOf(b.functionName)).map(y=>t.jsxs(po,{className:zu,children:[t.jsx(Zt,{children:za(y.functionName)}),t.jsxs(Zt,{children:[t.jsx(ki,{intent:fo(y.buildStatus)}),za(y.buildStatus)]}),t.jsx(Zt,{children:y.startTime?Wu(y.startTime):"-"}),t.jsx(Zt,{children:y.endTime?Wu(y.endTime):"-"})]},y.id))]}),t.jsx("div",{className:ee(ho),children:t.jsx(U,{intent:"primary",disabled:!a||!["FAILED","SUCCEEDED"].includes(o)||x,onClick:()=>{a&&te(a)()},children:x?"Logs Expired":a?"Download Logs":"Logs Unavailable"})})]})},Jv=(s,a,o)=>()=>{o&&(a(),s(!1))},ex=(s,a)=>()=>{s&&s.items&&a(s.items)},nx=(s,a,o,m)=>g=>{var y;const x=(s==null?void 0:s.id)||m;!g||!x||((y=g.pipeline)==null?void 0:y.id)!==x||(a.length?o(a.map(b=>b.id===g.id?g:b)):o([g]))},tx=()=>{const[s,a]=V.useState(1),[o,m]=V.useState([]),{appPipelineState:g,appId:x}=be(),{connectSession:y}=An(Q),{appPipeline:b,setAppPipelineDeploying:k,appPipelineDeploying:v,appPipelinePusherChannel:P}=g,[I,E,,T]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getPipelineDeployments],uriParams:{pipelineId:b==null?void 0:b.id},headers:{Authorization:y==null?void 0:y.idToken},fetchWhenTrue:[y==null?void 0:y.idToken],queryParams:{page:s}});return D0(P,"pipeline-runner-update",nx(b,o,m,x)),V.useEffect(ex(I,m),[I]),V.useEffect(Jv(k,T,v),[v]),t.jsx(t.Fragment,{children:E?t.jsx(yn,{}):t.jsxs(t.Fragment,{children:[t.jsx(cr,{className:xn,rows:o.map(({type:M,created:z,buildStatus:D,buildVersion:R,currentlyDeployed:G,tasks:q,s3BuildLogsLocation:W})=>({cells:[{label:"Release Type",value:M?N0(M):"Unknown",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Created",value:z?Qv(z):"-",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Status",value:"",children:t.jsxs(t.Fragment,{children:[t.jsx(ki,{intent:fo(D)}),za(D)]}),cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Version",value:R,cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Currently Deployed",value:G?"Deployed":"Not Deployed",cellHasDarkText:!0,narrowTable:{showLabel:!0}}],expandableContent:{content:t.jsx(Xv,{tasks:q,s3BuildLogsLocation:W,buildStatus:D,created:new Date(z)})}}))}),!I||I.items.length===0&&t.jsx(w,{hasGreyText:!0,children:"This pipeline has not yet been deployed."}),I&&I.items.length>=1&&t.jsx(oo,{currentPage:I.meta.currentPage,numberPages:I.meta.totalPages,callback:a})]})})},rx=s=>{switch(s){case"configure":return oe.APP_PIPELINE_CONFIGURE;case"deployments":return oe.APP_PIPELINE;case"environment":return oe.APP_PIPELINE_ENVIRONMENT}},ix=(s,a)=>o=>{const m=o.target.value,g=rx(m);a&&s(g.replace(":appId",a))},_o=()=>{const s=ur(),a=ot(),{appId:o}=be(),{pathname:m}=s;return t.jsx(eu,{isFullWidth:!0,name:"pipeline-tabs",onChange:ix(a,o),options:[{id:"deployments",value:"deployments",text:"Deployments",isChecked:!m.includes("configure")&&!m.includes("environment")},{id:"configure",value:"configure",text:"Configure",isChecked:m.includes("configure")},{id:"environment",value:"environment",text:"Environment Variables",isChecked:m.includes("environment")}]})};var ax={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const qu=s=>{const a=ax.appEnv==="production",o=!s;if(o&&a)return"https://bitbucket.org/site/addons/authorize?addon_key=reapit";if(o)return"https://bitbucket.org/site/addons/authorize?addon_key=reapit-dev";if(s&&a)return"https://github.com/apps/reapit";if(s)return"https://github.com/apps/reapit-dev"},sx=()=>{var b,k,v,P,I,E;const{appPipelineState:s}=be(),{appPipeline:a}=s,o=`https://${a==null?void 0:a.subDomain}.iaas.paas.reapit.cloud`,m=!!((k=(b=a==null?void 0:a.repository)==null?void 0:b.repositoryUrl)!=null&&k.includes("github")),g=!!((P=(v=a==null?void 0:a.repository)==null?void 0:v.repositoryUrl)!=null&&P.includes("bitbucket")),x=!!((I=a==null?void 0:a.repository)!=null&&I.installationId),y=!!(a!=null&&a.bitbucketClientId);return t.jsxs(t.Fragment,{children:[t.jsx(_o,{}),t.jsxs(pr,{className:xn,children:[t.jsx(Le,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(ce,{className:ct,icon:"refreshInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Status"}),t.jsxs(w,{hasNoMargin:!0,hasGreyText:!0,children:[t.jsx(ki,{intent:fo((a==null?void 0:a.buildStatus)??"")})," ",za((a==null?void 0:a.buildStatus)??"")]})]})]})}),t.jsx(Le,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(ce,{className:ct,icon:"apiDocsInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Repository"}),t.jsxs(w,{hasNoMargin:!0,hasGreyText:!0,children:[t.jsx(ki,{intent:m||g?"success":"danger"})," ",(E=a==null?void 0:a.repository)!=null&&E.repositoryUrl?t.jsx("a",{href:a.repository.repositoryUrl,target:"_blank",rel:"noreferrer",children:a.repository.repositoryUrl}):"Not configured"]})]})]})}),t.jsx(Le,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(ce,{className:ct,icon:"globeInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Location"}),t.jsx(w,{hasNoMargin:!0,hasGreyText:!0,children:a!=null&&a.subDomain?t.jsx("a",{href:o,target:"_blank",rel:"noreferrer",children:o}):"Awaiting provision request"})]})]})}),t.jsx(Le,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(ce,{className:ct,icon:"webhooksInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(de,{hasNoMargin:!0,children:"Github / Bitbucket App"}),t.jsxs(we,{children:[t.jsx("div",{className:w0,children:t.jsx(ki,{intent:m?x?"success":"critical":g?y?"success":"critical":"danger"})}),t.jsx(w,{hasNoMargin:!0,hasGreyText:!0,children:x?"Github app installed successfully":y?"Bitbucket app installed successfully":!m&&!g?"You need to confgure a repo before installing either the Github or Bitbucket app":t.jsxs(t.Fragment,{children:["To deploy from repos, configure either the Reapit"," ",t.jsx("a",{href:qu(!0),target:"_blank",rel:"noreferrer",children:"Github"})," ","or"," ",t.jsx("a",{href:qu(!1),target:"_blank",rel:"noreferrer",children:"Bitbucket"})," ","app."]})})]})]})]})})]}),t.jsx(tx,{})]})},ox=Xn().shape({name:L().required("Required - defaults to your app name").test(en),branch:L().required('Required - eg "main", "master"').test(en),repository:Xn().shape({repositoryUrl:L().trim().test({name:"isValidDescription",message:"Should be a secure https url if supplied",test:s=>s?su.test(s):!0}).test(en)}),buildCommand:L().trim().required('A build command is required eg "build" or "bundle"').test(en),packageManager:L().required("Required - Please select a package manager"),outDir:L().required('Required eg "dist" or "public').test(en)}),lx=(s,a,o,m)=>async g=>{const x={...g,packageManager:g.packageManager===ft.YARN_BERRY?ft.YARN_BERRY:g.packageManager===ft.YARN?ft.YARN:ft.NPM,appId:m??"",appType:mu.REACT};x.repository||delete x.repository,await s(x)&&(a(!1),o())},cx=(s,a,o)=>()=>{o&&a&&s(oe.APP_PIPELINE.replace(":appId",a))},ux=(s,a,o)=>()=>{a&&(s(),o(!1))},dx=(s,a)=>{if(s){const{name:o,branch:m,repository:g,buildCommand:x,packageManager:y,outDir:b}=s;return{name:o,branch:m,repository:g,buildCommand:x,outDir:b,packageManager:y}}return{name:a==null?void 0:a.name,buildCommand:"build",outDir:"build",branch:"main",packageManager:ft.NPM}},Vu=()=>{var R,G,q,W,K,X,H,me;const s=ot(),a=ur(),{connectSession:o}=An(Q),{appPipelineState:m,appId:g,appsDataState:x}=be(),{appPipelineRefresh:y,appPipelineSaving:b,appPipeline:k,setAppPipelineSaving:v}=m,{appDetail:P}=x,{register:I,handleSubmit:E,formState:{errors:T}}=gr({resolver:mr(ox),defaultValues:dx(k,P)}),[,,M,z]=Oe({reapitConnectBrowserSession:Q,action:Fe[k?Ne.updatePipeline:Ne.createPipeline],method:k?"PUT":"POST",uriParams:{pipelineId:g},headers:{Authorization:o==null?void 0:o.idToken}}),D=E(lx(M,v,y,g));return V.useEffect(cx(s,g,z),[z,g]),V.useEffect(ux(D,b,v),[b]),t.jsxs(t.Fragment,{children:[!a.pathname.includes("new")&&t.jsx(_o,{}),t.jsx(w,{hasGreyText:!0,children:"Tell us about how we should build your application here. We assume that your application is a front end app and that, it uses either yarn or npm to run scripts decalared in a package.json file. We assume also that your application is bundled and that bundle is output to a local directory that we can deploy for you."}),t.jsx("form",{children:t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Name"}),t.jsx(At,{...I("name")}),((R=T.name)==null?void 0:R.message)&&t.jsx(Pe,{message:T.name.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Deployment Branch"}),t.jsx(At,{...I("branch")}),((G=T.branch)==null?void 0:G.message)&&t.jsx(Pe,{message:T.branch.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Github Repository"}),t.jsx(At,{...I("repository.repositoryUrl"),placeholder:"https://github.com/org/repo"}),((W=(q=T.repository)==null?void 0:q.repositoryUrl)==null?void 0:W.message)&&t.jsx(Pe,{message:(K=T.repository)==null?void 0:K.repositoryUrl.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Package Manager"}),t.jsxs(C0,{id:"package-manager-select",...I("packageManager"),children:[t.jsx("option",{value:ft.NPM,children:"NPM"}),t.jsx("option",{value:ft.YARN,children:"YARN"}),t.jsx("option",{value:ft.YARN_BERRY,children:"YARN BERRY"})]}),((X=T.packageManager)==null?void 0:X.message)&&t.jsx(Pe,{message:T.packageManager.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Build Command"}),t.jsx(At,{...I("buildCommand")}),((H=T.buildCommand)==null?void 0:H.message)&&t.jsx(Pe,{message:T.buildCommand.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Build Directory"}),t.jsx(At,{...I("outDir")}),((me=T.outDir)==null?void 0:me.message)&&t.jsx(Pe,{message:T.outDir.message})]})})]})})]})},px=Xn().shape({value:L().matches(/^\w+$/,"Can only container letters and underscores").required("Required - env needs a value")}),hx=({appId:s,connectSession:a,keyValue:o,isOpen:m})=>{var I,E;const[g,,x]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.upsertPipelineEnvironment],uriParams:{pipelineId:s},method:"PUT",headers:{Authorization:a==null?void 0:a.idToken}}),{register:y,handleSubmit:b,formState:{errors:k},reset:v}=gr({resolver:mr(px)}),P=b(async T=>{await x({key:o,value:T.value})&&v()});return t.jsx(_0,{isOpen:m,children:t.jsx("div",{className:ee(bi,ho),children:t.jsxs("form",{onSubmit:P,children:[t.jsx(de,{children:"Update Environment Variable"}),t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Key"}),t.jsx(At,{...y("key"),value:o||"",disabled:!0}),((I=k.key)==null?void 0:I.message)&&t.jsx(Pe,{message:k.key.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Value"}),t.jsx(At,{...y("value")}),((E=k.value)==null?void 0:E.message)&&t.jsx(Pe,{message:k.value.message})]})})]}),t.jsx(ue,{alignment:"center",children:t.jsx(U,{loading:g,disabled:g,intent:"primary",children:"Save"})})]})})})},fx=Xn().shape({key:L().matches(/^[a-zA-Z_]+$/,"Can only container letters and underscores").notOneOf([W0("existingKeys")],"Key already exists").required("Required - key cannot be blank"),value:L().required("Required - env needs a value").matches(/^[a-zA-Z0-9\-_]+$/,"Can only container letters, numbers, underscores and hyphens"),existingKeys:B0()}),gx=()=>{var H,me;const{connectSession:s}=An(Q),{appId:a}=be(),{Modal:o,openModal:m,closeModal:g}=Ye(),[x,y]=V.useState([]),[b,k]=V.useState(!1),[v,P]=V.useState([]),[I,E]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getPipelineEnvironment],uriParams:{pipelineId:a},headers:{Authorization:s==null?void 0:s.idToken},fetchWhenTrue:[s==null?void 0:s.idToken]}),[T,,M]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.upsertPipelineEnvironment],uriParams:{pipelineId:a},method:"PUT",headers:{Authorization:s==null?void 0:s.idToken}}),[z,,D]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.deletePipelineEnvironment],uriParams:{pipelineId:a},method:"DELETE",headers:{Authorization:s==null?void 0:s.idToken}}),{register:R,handleSubmit:G,formState:{errors:q},setValue:W,resetField:K}=gr({resolver:mr(fx),defaultValues:{existingKeys:[]}});V.useEffect(()=>{I&&(y(I),W("existingKeys",I))},[I]);const X=G(async({key:re,value:ke,existingKeys:_e})=>{await M({key:re,value:ke,existingKeys:_e})&&(K("key"),K("value"),g(),y([...x,re]))});return t.jsxs(t.Fragment,{children:[t.jsx(_o,{}),t.jsx(w,{hasGreyText:!0,children:"You can add your Environment variables for your application here. If you supply any key value pair we will write them to the process.ENV object at compile time when building your app."}),t.jsx(w,{hasGreyText:!0,children:"All variables are stored in a secure and encrypted format however, if you are building a web app environment variables are inherently insecure. As such, you should only store values that can be exposed on the client side."}),t.jsx(w,{hasGreyText:!0,children:"Currently we do not surface your variables over an API when you have stored them for security reasons. If you need to confirm a variable value, we would advise updating it and re-deploying your app."}),E?t.jsx(yn,{}):t.jsxs(t.Fragment,{children:[x.length?t.jsxs(cr,{className:xn,children:[t.jsxs(uo,{children:[t.jsx(It,{children:"Variable Key"}),t.jsx(It,{children:"Update Variable"})]}),x.map(re=>t.jsxs(nu,{children:[t.jsxs(po,{children:[t.jsx(Zt,{children:re}),t.jsx(Zt,{children:t.jsxs(ue,{children:[t.jsx(U,{intent:"default",onClick:()=>{K("key"),K("value"),k(re===b?!1:re)},children:"Update"}),t.jsx(U,{intent:"danger",loading:z&&v.includes(re),disabled:z&&v.includes(re),onClick:async()=>{P([...v,re]),await D(void 0,{uriParams:{key:re}}),P(v.filter(ke=>ke!==re)),y(x.filter(ke=>ke!==re))},children:"Delete"})]})})]}),t.jsx(hx,{appId:a,connectSession:s,keyValue:re,isOpen:typeof b=="string"&&re===b})]},re))]}):t.jsx(Ht,{className:xn,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No environment variables currently configured for your pipeline. You can create an environment variable below."}),t.jsx(ue,{alignment:"left",children:t.jsx(U,{intent:"primary",onClick:m,children:"Create Environment Variable"})})]}),t.jsx(o,{title:"Add new Environment Variable",className:ee(bi,ho),children:t.jsxs("form",{onSubmit:X,children:[t.jsxs(ut,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Key"}),t.jsx(At,{...R("key")}),((H=q.key)==null?void 0:H.message)&&t.jsx(Pe,{message:q.key.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(Je,{children:"Value"}),t.jsx(At,{...R("value")}),((me=q.value)==null?void 0:me.message)&&t.jsx(Pe,{message:q.value.message})]})})]}),t.jsxs(ue,{alignment:"right",children:[t.jsx(U,{intent:"default",onClick:g,children:"Close"}),t.jsx(U,{intent:"primary",type:"submit",disabled:T,loading:T,children:"Create"})]})]})})]})},mx=()=>{const s=ur(),{connectSession:a}=An(Q),{appsDataState:o,appPipelineState:m}=be(),{isMobile:g}=Yt(),{Modal:x,openModal:y,closeModal:b}=Ye(),{pathname:k}=s,{appDetail:v,appDetailLoading:P}=o,{appPipeline:I,appPipelineLoading:E}=m,T=k.includes("configure")?"configure":k.includes("environment")?"environment":"deployments";return t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"App Pipeline"}),g&&t.jsxs(x,{title:"Controls",children:[t.jsx(vr,{}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:b,children:"Close"})})]}),E||!a||P?t.jsx(yn,{}):!I&&v?t.jsx(Kv,{}):I&&v?t.jsx(t.Fragment,{children:T==="configure"?t.jsx(Vu,{}):T==="deployments"?t.jsx(sx,{}):t.jsx(gx,{})}):t.jsx(Ht,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found, please select an app from the My Apps page."}),t.jsx(qr,{onClick:y})]})},vx=()=>{const{isMobile:s}=Yt(),{Modal:a,openModal:o,closeModal:m}=Ye();return t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"New Pipeline"}),s&&t.jsxs(a,{title:"Controls",children:[t.jsx(vr,{}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:m,children:"Close"})})]}),t.jsx(Vu,{}),t.jsx(qr,{buttonOnClick:o})]})},xx=s=>()=>{const a=setTimeout(()=>{s(!1)},1e4);return()=>clearTimeout(a)},yx=(s,a)=>()=>{s(!a)},jx=()=>{const{setAppId:s}=be(),[a,o]=V.useState(!0),{appId:m}=Vr();return V.useEffect($r(s,m),[m]),V.useEffect(xx(o),[]),t.jsxs(go,{children:[t.jsxs(Ht,{onClick:yx(o,a),isExpanded:a,intent:"primary",children:["Pipelines are in public beta and under active development. Please give us feeback and report bugs via"," ",t.jsx("a",{href:ie.iaasBugs,target:"_blank",rel:"noopener noreferrer",children:"Github"})," ","or"," ",t.jsx("a",{href:"mailto:iaasbeta@reapitfoundations.zendesk.com?subject=IAAS%20Beta",target:"_blank",rel:"noopener noreferrer",children:"email."})]}),t.jsxs(co,{children:[t.jsx(cn,{path:oe.APP_PIPELINE_NEW.split("pipeline/")[1],element:t.jsx(vx,{})}),t.jsx(cn,{path:"*",element:t.jsx(mx,{})})]})]})},bx=({offices:s})=>t.jsxs("div",{className:S0,children:[t.jsx(de,{children:"Total Offices"}),t.jsx(w,{hasGreyText:!0,children:s.length}),t.jsxs(cr,{className:xn,"data-num-columns-excl-action-col":"2","data-has-expandable-action":"false",children:[t.jsxs(uo,{children:[t.jsx(It,{children:"Office Name"}),t.jsx(It,{children:"Office ID"}),t.jsx(It,{})]}),s.map(({name:a,id:o})=>t.jsx(nu,{children:t.jsxs(po,{children:[t.jsx(Zt,{children:a}),t.jsx(Zt,{children:o})]})},o))]})]}),wx=Xn().shape({appId:L().trim().required($e.FIELD_REQUIRED),terminatedBy:L(),terminatedReason:L().trim().required($e.FIELD_REQUIRED).min(10,"Must be a minimum of 10 characters").test(en),terminatesOn:L().trim().required($e.FIELD_REQUIRED)}),Cx=(s,a,o)=>async m=>{await a({...m,terminatedBy:s})&&o(null)},_x=(s,a,o)=>()=>{o&&(s(),a())},Sx=(s,a,o)=>()=>{o&&(a(),s(o))},kx=(s,a)=>()=>{s(a)},Ix=()=>{var _e,qe;const{appId:s}=Vr(),{setAppId:a}=be(),[o,m]=V.useState(null),[g,x]=V.useState(null),[y,b]=V.useState(1),{connectSession:k}=An(Q),{Modal:v,openModal:P,closeModal:I}=Ye(),{Modal:E,openModal:T,closeModal:M}=Ye(),{isMobile:z}=Yt(),D=k==null?void 0:k.loginIdentity.developerId,R=(k==null?void 0:k.loginIdentity.email)??"",[G,q,,W]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getInstallations],queryParams:{appId:s,pageNumber:y,pageSize:12,isInstalled:!0,developerId:D},fetchWhenTrue:[D]}),[K,,X,H]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.terminateInstallation],uriParams:{installationId:o}}),{register:me,handleSubmit:re,formState:{errors:ke}}=gr({resolver:mr(wx),defaultValues:{appId:s,terminatedBy:"",terminatedReason:"",terminatesOn:new Date().toISOString()}});return V.useEffect($r(a,s),[s]),V.useEffect(_x(W,I,H),[H]),t.jsxs(t.Fragment,{children:[t.jsx(Zn,{children:"Installations"}),z&&t.jsxs(E,{title:"Controls",children:[t.jsx(vr,{}),t.jsx(ue,{alignment:"right",children:t.jsx(U,{intent:"default",onClick:M,children:"Close"})})]}),q?t.jsx(yn,{}):G!=null&&G.totalCount?t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["The table below gives you the information you need to understand Reapit Client organisations that have installed your application for use. In addition, you can force terminate a customer installation by using the call to action on each row. For more information on the installations table",t.jsx("a",{onClick:te(ie.installationsTableDocs),children:" see here"}),"."]}),t.jsx(cr,{className:xn,rows:(_e=G==null?void 0:G.data)==null?void 0:_e.map(({customerName:un,appName:jn,client:bn,customerAddress:tn,created:rn,installedBy:an,id:Kt,officeGroup:Ke})=>{var Ve;return{cells:[{label:"Customer Name",value:un??"",icon:"flatInfographic",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Reapit Customer Code",value:bn??"",narrowTable:{showLabel:!0}},{label:"Customer Address",value:J0(tn),narrowTable:{showLabel:!0}},{label:"Date Installed",value:Si(rn).format("DD-MM-YYYY"),narrowTable:{showLabel:!0}},{label:"Installed By",value:t.jsx("a",{href:`mailto:${an}?subject=Your%20recent%20installation%20of%20${jn}%20in%20the%20Reapit%20AppMarket`,target:"_blank",rel:"noreferrer",children:an}),narrowTable:{showLabel:!0}}],expandableContent:{content:t.jsxs(t.Fragment,{children:[t.jsxs(ue,{alignment:"center",children:[(Ve=Ke==null?void 0:Ke.offices)!=null&&Ve.length?t.jsx(U,{intent:"primary",onClick:kx(x,Ke.offices),children:"Show Installed Offices"}):null,t.jsx(U,{type:"button",intent:"danger",onClick:Sx(m,P,Kt),children:"Uninstall"})]}),g&&(Ke==null?void 0:Ke.offices)===g&&t.jsx(bx,{offices:g})]})}}})}),t.jsx(oo,{callback:b,currentPage:y,numberPages:Math.ceil(((G==null?void 0:G.totalCount)??1)/12)}),t.jsxs(v,{title:"Confirm Uninstallation",children:[t.jsx(w,{children:"Please provide a reason for terminating this installation"}),t.jsxs("form",{onSubmit:re(Cx(R,X,m)),children:[t.jsx(ut,{hasMargin:!0,children:t.jsx(Kn,{children:t.jsx(pe,{label:"Uninstallation Reason",type:"text",...me("terminatedReason"),inputAddOnText:(qe=ke.terminatedReason)==null?void 0:qe.message,intent:"danger"})})}),t.jsxs(ue,{alignment:"right",children:[t.jsx(U,{intent:"default",type:"button",onClick:I,children:"Close"}),t.jsx(U,{disabled:K,loading:K,intent:"danger",type:"submit",children:"Uninstall"})]})]})]})]}):G?t.jsx(Ht,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No installations for the application."}):null,t.jsx(qr,{onClick:T})]})},Ax=(s,a,o,m,g)=>()=>{m&&(async()=>{const x=await s({actionedBy:g});a(null),x&&o()})().catch(x=>console.error(x))},Ex=(s,a)=>()=>{a&&s(a)},Tx=(s,a,o)=>async()=>{await s({actionedBy:o})&&a()},Px=()=>{const{globalDataState:s}=Ii(),[a,o]=V.useState(null),{appsDataState:m,setAppId:g}=be(),{currentDeveloper:x}=s,y=x==null?void 0:x.id,b=x==null?void 0:x.email,{appId:k}=Vr();V.useEffect($r(g,k),[k]);const{appDetail:v,appRevisions:P}=m,{name:I}=v??{},E=P!=null&&P.data?P.data[0]:null,[T,M,,z]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getRevisionConsents],uriParams:{appId:k,revisionId:E==null?void 0:E.id},fetchWhenTrue:[k,E,v==null?void 0:v.pendingRevisions,v==null?void 0:v.isListed]}),[,,D]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.createConsentEmails],method:"POST",uriParams:{appId:k,revisionId:E==null?void 0:E.id}}),[R]=En({reapitConnectBrowserSession:Q,action:Tn[Pn.getInstallations],queryParams:{appId:k,pageNumber:1,pageSize:999,isInstalled:!0,developerId:y},fetchWhenTrue:[y]}),[,,G]=Oe({reapitConnectBrowserSession:Q,action:Fe[Ne.resendConsentEmail],method:"POST",uriParams:{appId:k,revisionId:E==null?void 0:E.id,consentId:a}});return V.useEffect(Ax(G,o,z,a,b),[a]),t.jsx(t.Fragment,{children:M||!T?t.jsx(yn,{}):T.length?t.jsxs(t.Fragment,{children:[t.jsxs(Zn,{children:[I," Consents"]}),t.jsx(cr,{numberColumns:6,rows:T.map(q=>{var W,K,X,H;return{cells:[{label:"Client",value:(K=(W=R==null?void 0:R.data)==null?void 0:W.find(me=>me.id===q.installationId))==null?void 0:K.customerName,icon:"property",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Email",value:q.installedBy,narrowTable:{showLabel:!0}},{label:"Date Sent",value:Si(q.sentDate).format("DD/MM/YYYY HH:mm"),narrowTable:{showLabel:!0}},{label:"Status",value:`${(X=q.status)==null?void 0:X.charAt(0).toUpperCase()}${(H=q.status)==null?void 0:H.slice(1)}`,narrowTable:{showLabel:!0}},{label:"Date Accepted",value:q.approvalDate?Si(q.approvalDate).format("DD/MM/YYYY HH:mm"):"-",narrowTable:{showLabel:!0}}],ctaContent:{headerContent:"Resend Email",icon:"email",onClick:Ex(o,q.id)}}})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Zn,{children:[I," Consents"]}),t.jsx(Ht,{className:xn,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of any consents for this app - it looks like you need to send an email requesting that your customers agree to your new permission settings. You can do this below or our team will do it as part of the review process."}),t.jsx(ue,{alignment:"left",children:t.jsx(U,{fixedWidth:!0,onClick:Tx(D,z,b),intent:"primary",children:"Send Requests"})})]})})};var Rx={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Dx=()=>{const s=ot(),a=ur(),{pathname:o}=a,{appsDataState:m,appId:g,appEditState:x}=be(),{globalDataState:y}=Ii(),{currentDeveloper:b}=y,{appLatestRevision:k,appHasInstallations:v}=x,{apps:P,appsLoading:I,appDetail:E}=m,{isAppsList:T,isAppsNew:M,isAppsWelcome:z,isAppsEdit:D,isAppsDetail:R,isAppsInstallations:G,isAppPipelines:q,isAppConsents:W}=hu(o),K=(b==null?void 0:b.id)&&Rx.pipelineWhitelist.includes(b.id)&&(E==null?void 0:E.authFlow)!=="clientCredentials",X=Wv(E,k,v);return t.jsx(go,{children:t.jsx(M0,{children:t.jsx(we,{isFlexAuto:!0,children:I||!P?t.jsx(t.Fragment,{children:t.jsx(tu,{className:La,children:t.jsx(yn,{})})}):!P.totalCount&&!z&&T?t.jsx(k0,{to:oe.APPS_WELCOME}):t.jsxs(t.Fragment,{children:[!!P.totalCount&&t.jsxs(I0,{children:[t.jsxs(A0,{className:Ue,children:[t.jsx(hr,{onClick:Qn(s,oe.APPS),active:T,children:"My Apps"}),(D||R||G||q||W)&&t.jsxs(t.Fragment,{children:[t.jsx(hr,{onClick:Qn(s,`${oe.APPS}/${g}`),active:R,children:"App Details"}),t.jsx(hr,{onClick:Qn(s,`${oe.APPS}/${g}/edit/general`),active:D,children:"Edit App"}),t.jsx(hr,{onClick:Qn(s,`${oe.APPS}/${g}/installations`),active:G,children:"Installations"}),K&&t.jsx(hr,{onClick:Qn(s,`${oe.APPS}/${g}/pipeline`),active:q,children:"Pipeline"}),X&&t.jsx(hr,{onClick:Qn(s,`${oe.APPS}/${g}/consents`),active:W,children:"App Consents"})]}),t.jsx(hr,{onClick:Qn(s,oe.APPS_NEW),active:M,children:"New App"})]}),t.jsx(vr,{})]}),t.jsx(tu,{className:La,children:t.jsx(go,{children:t.jsxs(co,{children:[t.jsx(cn,{index:!0,element:t.jsx(D2,{})}),t.jsx(cn,{path:oe.APPS_NEW.replace("/apps/",""),element:t.jsx(av,{})}),t.jsx(cn,{path:oe.APPS_WELCOME.replace("/apps/",""),element:t.jsx(r2,{})}),t.jsx(cn,{path:oe.APP_INSTALLATIONS.replace("/apps/",""),element:t.jsx(Ix,{})}),t.jsx(cn,{path:`${oe.APPS_EDIT.replace("/apps/","")}/*`,element:t.jsx($v,{})}),t.jsx(cn,{path:oe.APPS_CONSENTS.replace("/apps/",""),element:t.jsx(Px,{})}),K&&t.jsx(cn,{path:`${oe.APP_PIPELINE.replace("/apps/","")}/*`,element:t.jsx(jx,{})}),t.jsx(cn,{path:oe.APP_DETAIL.replace("/apps/",""),element:t.jsx(ov,{})})]})})})]})})})})};var Nx={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Gu=()=>{const{connectSession:s}=An(Q);return s?t.jsx(U0,{cluster:"eu",clientKey:Nx.PUSHER_KEY,authEndpoint:`${L0.DEPLOYMENT_SERVICE_HOST}pusher/auth`,auth:{headers:{Authorization:s.idToken}},children:t.jsx(O0,{children:t.jsx(Dx,{})})}):null};export{Gu as Apps,Gu as default};
