import{r as A,M as P,j as e,Y as S,ar as U,as as M,$ as k,a0 as a,a8 as I,a9 as p,Q as m}from"./vendor-q73t4OJb.js";import{r as d,s as D,a as E,b as Y,u,c as x,U as g,o as f,E as _,R as l,T as G}from"./index-DkTsc282.js";import{L as N,a as R}from"./index-D_1jRp06.js";var o={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const T=(r,n,t)=>()=>{(async()=>{if(!t)return;const{loginIdentity:s}=t;await r({accountApprovedEmail:s.email??"",accountApproved:m().format("YYYY-MM-DDTHH:mm:ssZ")})&&await n({name:s.name??"",companyName:s.orgName??"",email:s.email??"",agreedTerms:m().format("YYYY-MM-DDTHH:mm:ssZ")})&&(window.location.href=`${o.connectOAuthUrl}/authorize?response_type=code&client_id=${o.connectClientId}&redirect_uri=${window.location.origin}${l.APPS}&state=${l.SETTINGS_COMPANY}`)})().catch(s=>console.error(s))},h=(r,n)=>()=>{n(r)},y=()=>{const[r,n]=A.useState(!1),{connectSession:t}=P(d),s=(t==null?void 0:t.loginIdentity.orgName)??"",i=!!D(t),c=E(t),v=Y(t),[b,,C]=u({method:"PUT",reapitConnectBrowserSession:d,action:x[g.updateCustomer],uriParams:{customerId:t==null?void 0:t.loginIdentity.orgId}}),[w,,j]=u({method:"POST",reapitConnectBrowserSession:d,action:x[g.createDeveloper]});return e.jsx(N,{children:e.jsxs(R,{children:[e.jsx(S,{className:U,height:"40px",width:"200px",icon:"reapitLogo"}),e.jsxs(M,{isFlexColumn:!0,children:[e.jsx(k,{hasNoMargin:!0,hasCenteredText:!0,children:"Welcome"}),e.jsx(a,{hasCenteredText:!0,hasSectionMargin:!0,children:"to the Reapit Foundations DeveloperPortal"})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{hasGreyText:!0,hasCenteredText:!0,children:["The organisation \u2018",s,"\u2019 has already been setup within the DeveloperPortal. To access this organisation, you will need to be invited by the Admin who set the account up."]}),e.jsxs(a,{hasGreyText:!0,hasCenteredText:!0,hasSectionMargin:!0,children:["For more information on how an Admin can Invite Members to an organisation, please"," ",e.jsx("a",{onClick:f(_.inviteMembersDocs),target:"_blank",rel:"noreferrer",children:"click here"}),"."]})]}),v&&!c&&!i&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{hasGreyText:!0,hasCenteredText:!0,children:["Unfortunately, only an Admin can setup your developer organisation \u2018",s,"\u2019. Please contact an Admin to set up the account."]}),e.jsxs(a,{hasGreyText:!0,hasCenteredText:!0,children:["They can do this up from"," ",e.jsx("a",{href:`${window.location.origin}${l.SELECT_ROLE}`,target:"_blank",rel:"noreferrer",children:"this page"}),"."]}),e.jsx(a,{hasGreyText:!0,hasCenteredText:!0,hasSectionMargin:!0,children:"You will need to contact them directly to perform this task."})]}),c&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(a,{hasGreyText:!0,hasCenteredText:!0,children:"This portal is used for building apps and integrations on top of our Platform APIs."}),e.jsx(a,{hasGreyText:!0,hasCenteredText:!0,children:"Whilst using the DeveloperPortal to build against our Sandbox environment is free, API consumption charges apply when your app or integration is published (either privately or publicly) in the AppMarket."}),e.jsx(a,{hasGreyText:!0,hasCenteredText:!0,hasSectionMargin:!0,children:"To view our Terms and Conditions, please click \u2018Proceed\u2019 below."})]}),e.jsxs(I,{alignment:"center",children:[e.jsx(p,{onClick:f(o.marketplaceUrl),intent:"default",children:"Visit AppMarket"}),c&&!i&&e.jsx(p,{onClick:h(!0,n),intent:"primary",children:"Proceed"})]}),e.jsx(G,{visible:r,onAccept:T(C,j,t),onDecline:h(!1,n),isSubmitting:w||b}),e.jsx(a,{hasGreyText:!0,hasCenteredText:!0,children:o.APP_VERSION})]})})};export{y as CustomerRegister,y as default,T as handleCreateAccount,h as handleSetModal};
