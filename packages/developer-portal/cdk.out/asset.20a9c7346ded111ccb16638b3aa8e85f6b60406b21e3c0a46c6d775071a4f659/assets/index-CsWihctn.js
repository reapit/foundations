import{h as kt,r as B,ax as Kc,j as t,w as lt,ay as Ht,az as Xc,aA as Ma,aB as Kn,as as we,ar as Le,a2 as jn,$ as se,Y as de,aC as oo,a0 as w,a8 as ce,a9 as N,c as ee,aD as ct,aE as ji,aF as bi,aG as m0,aH as Oe,aI as x0,M as bn,a1 as dr,a7 as qr,aw as pe,V as pr,a5 as qe,aJ as hr,aK as Be,aL as Ua,a3 as fr,aM as Fe,aN as lo,aO as Br,aP as Xn,aQ as wi,aR as co,ac as un,aS as v0,aT as Ci,aU as Pe,aV as y0,aW as _i,aX as Gr,aY as j0,aZ as ut,a_ as La,a6 as It,au as Tn,a$ as xe,b0 as ze,b1 as Jc,b2 as Oa,av as en,b3 as Yr,b4 as b0,a4 as Fa,b5 as w0,ah as uo,ai as dn,b6 as eu,Q as Si,b7 as po,b8 as At,b9 as ho,ba as Zt,bb as ki,bc as fo,bd as C0,be as Et,bf as _0,bg as S0,bh as nu,bi as k0,bj as I0,aj as tu,ad as A0,bk as E0,bl as T0,bm as gr}from"./vendor-q73t4OJb.js";import{u as ye,f as P0,d as ru,A as F,a as R0,b as D0,g as N0,c as mr,e as za,h as go,i as M0,r as U0,P as L0,j as O0,U as F0,k as z0}from"./pusher-event-wrapper-DfEpHcBf.js";import{o as te,E as ie,n as Jn,R as oe,d as Ii,r as K,e as Pn,g as Rn,G as Dn,u as Me,c as Ue,U as Re,b as iu,f as Hr,h as au,I as Zr,i as mo}from"./index-DkTsc282.js";import{c as qn,a as L,e as Qe,u as $t,o as Qt,h as su,d as Wa,C as W0,f as V0,t as ou,b as lu,g as q0,i as B0}from"./error-messages-CyrV44qA.js";import{s as nn,y as G0,i as Ai,a as Y0,b as cu,c as H0,d as Ei}from"./yup-ChW0zsYM.js";import{f as Z0}from"./FileSaver.min-CqlkrKlq.js";import{P as $0}from"./papaparse.min-JWZD9LmX.js";import{S as Va,C as $r,I as uu,W as Q0,a as K0}from"./webhooks-animated-docs-icon-OdAJPVP_.js";const X0=kt("div")({name:"HtmlContentWrap",class:"hy0i3hj-html-content-wrap",propsAsIs:!1}),J0=["bold","italic","underline","strikethrough","heading1","heading2","paragraph","quote","olist","ulist","code","line","link"],e2=({onChange:s,hasError:a,actions:o=J0,containerClass:m="",defaultContent:f,placeholder:x,actionbarClass:v="pell-actionbar",buttonClass:b="pell-button",contentClass:_="pell-content",dataTest:y="",onBlur:P,onPaste:I})=>{const E=B.useRef(null);return B.useEffect(()=>{if(Kc.init({element:E&&E.current,onChange:T=>s&&s(T),styleWithCSS:!1,defaultParagraphSeparator:"div",actions:o,classes:{actionbar:v,button:b,content:_}}),E&&E.current){const T=E.current.getElementsByClassName(_)[0];x&&T.setAttribute("placeholder",x)}},[]),B.useEffect(()=>{if(E&&E.current){const T=E.current.getElementsByClassName(_)[0];f!==T.innerHTML&&(T.innerHTML=f||"")}},[f]),B.useEffect(()=>{if(E&&E.current){const T=U=>{var R;U.preventDefault();const z=((R=U.clipboardData)==null?void 0:R.getData("text/plain"))??"",D=window.getSelection();if(!(D!=null&&D.rangeCount))return!1;D.deleteFromDocument(),D.getRangeAt(0).insertNode(document.createTextNode(z))};return E.current.addEventListener("paste",T),()=>{var U;return(U=E.current)==null?void 0:U.removeEventListener("paste",T)}}},[E]),t.jsx(X0,{children:t.jsx("div",{onPaste:I,onBlur:P,ref:E,"data-test":y,className:`pell ${a&&"pell--is-danger"} ${m}`})})},n2=s=>{let a="";return s&&(s.buildingNumber&&(a=a.concat(`${s.buildingNumber}`)),s.buildingName&&(a=a.concat(` ${s.buildingName}`)),s.line1&&(a=a.concat(` ${s.line1}`)),s.line2&&(a=a.concat(` ${s.line2}`)),s.line3&&(a=a.concat(` ${s.line3}`)),s.line4&&(a=a.concat(` ${s.line4}`)),s.postcode&&(a=a.concat(` ${s.postcode}`)),s.country&&(a=a.concat(` ${s.country}`))),a},dt="s1gxdqv9-step-option-item-selected",du=kt("div")({name:"StepContainer",class:"sjtd378-step-container",propsAsIs:!1}),pt=kt("div")({name:"StepOptionItem",class:"s16agsy2-step-option-item",propsAsIs:!1}),ht=kt("div")({name:"StepOptionItemText",class:"se3ab8l-step-option-item-text",propsAsIs:!1}),pu=kt("div")({name:"StepFormContainer",class:"s1cum27r-step-form-container",propsAsIs:!1}),t2=kt("div")({name:"HelperContentContainer",class:"hzqukf0-helper-content-container",propsAsIs:!1}),et="s1u7t7z0-step-is-hidden",r2=kt("div")({name:"ControlsContainer",class:"c4zt2p6-controls-container",propsAsIs:!1}),i2=B.memo(()=>t.jsxs("svg",{width:"100%",viewBox:"0 0 415 224",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("rect",{width:"100%",height:"224",rx:"4",fill:"#d8dee4"}),t.jsx("path",{d:"M100.25 153.375C100.25 149.121 102.099 145.053 105.32 142.219C105.983 141.632 106.217 140.701 105.907 139.873C105.597 139.044 104.802 138.496 103.918 138.496H70.5C65.8122 138.496 62 142.308 62 146.995V155.496C62 160.183 65.8122 163.996 70.5 163.996H100.492C101.253 163.996 101.954 163.588 102.337 162.929C102.719 162.27 102.711 161.458 102.328 160.799C100.951 158.441 100.25 155.942 100.25 153.375ZM74.75 155.5C72.4082 155.5 70.5 153.591 70.5 151.25C70.5 148.908 72.4084 147 74.75 147C77.0918 147 78.9999 148.908 78.9999 151.25C78.9999 153.592 77.0918 155.5 74.75 155.5Z",fill:"#9faebc"}),t.jsx("path",{d:"M149.123 134.25C148.736 134.25 148.349 134.271 147.971 134.305C144.431 128.993 138.485 125.75 132.123 125.75C122.229 125.75 114.065 133.302 113.096 142.946C108.204 143.893 104.498 148.211 104.498 153.375C104.498 159.231 109.267 164 115.123 164H149.123C157.325 164 163.998 157.328 163.998 149.125C163.998 140.922 157.325 134.25 149.123 134.25Z",fill:"#9faebc"}),t.jsx("path",{d:"M132.843 157.167H135.136V169.985H132.843V157.167Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.259 156.584H135.72V170.568H132.259V156.584ZM133.427 157.75V169.402H134.551V157.75H133.427Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M150.037 168.841H152.329V177.992H150.037V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M149.452 168.258H152.913V178.575H149.452V168.258ZM150.621 169.424V177.409H151.745V169.424H150.621Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M115.65 168.841H117.943V177.992H115.65V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115.066 168.258H118.527V178.575H115.066V168.258ZM116.234 169.424V177.409H117.358V169.424H116.234Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M132.843 168.841H135.136V177.992H132.843V168.841Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.259 168.258H135.72V178.575H132.259V168.258ZM133.427 169.424V177.409H134.551V169.424H133.427Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M115.65 169.985V167.697H152.329V169.985L115.65 169.985Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115.066 170.568L115.066 167.114L152.913 167.114V170.568L115.066 170.568ZM116.234 169.401L151.745 169.401V168.28H116.234V169.401Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M154.621 180.28C154.621 182.175 153.082 183.711 151.182 183.711C149.283 183.711 147.744 182.175 147.744 180.28C147.744 178.384 149.283 176.848 151.182 176.848C153.082 176.848 154.621 178.384 154.621 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.182 177.431C149.606 177.431 148.328 178.706 148.328 180.28C148.328 181.853 149.606 183.128 151.182 183.128C152.759 183.128 154.037 181.853 154.037 180.28C154.037 178.706 152.759 177.431 151.182 177.431ZM147.159 180.28C147.159 178.062 148.961 176.265 151.182 176.265C153.404 176.265 155.205 178.062 155.205 180.28C155.205 182.497 153.404 184.294 151.182 184.294C148.961 184.294 147.159 182.497 147.159 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M137.428 180.28C137.428 182.175 135.889 183.711 133.989 183.711C132.09 183.711 130.551 182.175 130.551 180.28C130.551 178.384 132.09 176.848 133.989 176.848C135.889 176.848 137.428 178.384 137.428 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.989 177.431C132.413 177.431 131.135 178.706 131.135 180.28C131.135 181.853 132.413 183.128 133.989 183.128C135.566 183.128 136.844 181.853 136.844 180.28C136.844 178.706 135.566 177.431 133.989 177.431ZM129.966 180.28C129.966 178.062 131.768 176.265 133.989 176.265C136.211 176.265 138.012 178.062 138.012 180.28C138.012 182.497 136.211 184.294 133.989 184.294C131.768 184.294 129.966 182.497 129.966 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M138.574 154.879C138.574 157.406 136.522 159.454 133.989 159.454C131.457 159.454 129.405 157.406 129.405 154.879C129.405 152.352 131.457 150.303 133.989 150.303C136.522 150.303 138.574 152.352 138.574 154.879Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.989 150.887C131.78 150.887 129.989 152.674 129.989 154.879C129.989 157.084 131.78 158.871 133.989 158.871C136.199 158.871 137.99 157.084 137.99 154.879C137.99 152.674 136.199 150.887 133.989 150.887ZM128.82 154.879C128.82 152.03 131.135 149.72 133.989 149.72C136.844 149.72 139.159 152.03 139.159 154.879C139.159 157.728 136.844 160.038 133.989 160.038C131.135 160.038 128.82 157.728 128.82 154.879Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M120.235 180.28C120.235 182.175 118.696 183.711 116.796 183.711C114.897 183.711 113.358 182.175 113.358 180.28C113.358 178.384 114.897 176.848 116.796 176.848C118.696 176.848 120.235 178.384 120.235 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.796 177.431C115.22 177.431 113.942 178.706 113.942 180.28C113.942 181.853 115.22 183.128 116.796 183.128C118.373 183.128 119.651 181.853 119.651 180.28C119.651 178.706 118.373 177.431 116.796 177.431ZM112.773 180.28C112.773 178.062 114.575 176.265 116.796 176.265C119.018 176.265 120.819 178.062 120.819 180.28C120.819 182.497 119.018 184.294 116.796 184.294C114.575 184.294 112.773 182.497 112.773 180.28Z",fill:"#7e9bfa"}),t.jsx("path",{d:"M155.5 108.75H70.5C65.8122 108.75 62 112.562 62 117.249V125.749C62 130.437 65.8122 134.249 70.5 134.249H110.14C110.896 134.249 111.593 133.846 111.976 133.191C116.175 125.979 123.897 121.499 132.125 121.499C138.746 121.499 145.087 124.372 149.529 129.379C149.886 129.783 150.383 130.033 150.923 130.089C153.494 130.331 156.035 131.147 158.466 132.524C159.227 132.953 160.179 132.877 160.859 132.316C162.856 130.684 164 128.291 164 125.754V117.254C164 112.562 160.188 108.75 155.5 108.75ZM74.75 125.749C72.4082 125.749 70.5 123.841 70.5 121.499C70.5 119.158 72.4084 117.25 74.75 117.25C77.0918 117.25 78.9999 119.158 78.9999 121.499C78.9999 123.841 77.0918 125.749 74.75 125.749Z",fill:"#23A4DE"}),t.jsx("path",{d:"M155.5 79H70.5001C65.8122 79 62 82.8122 62 87.5V96.0001C62 100.688 65.8122 104.5 70.5001 104.5H155.5C160.188 104.5 164 100.688 164 96.0001V87.5C164 82.8122 160.188 79 155.5 79ZM74.75 96.0001C72.4082 96.0001 70.5001 94.0918 70.5001 91.7502C70.5001 89.4084 72.4082 87.5 74.75 87.5C77.0918 87.5 78.9999 89.4084 78.9999 91.75C78.9999 94.0918 77.0918 96.0001 74.75 96.0001Z",fill:"#798da1"}),t.jsx("path",{d:"M116.817 56.7389L118.758 57.8594L140.378 20.4131L138.437 19.2926L116.817 56.7389Z",fill:"#9faebc"}),t.jsx("path",{d:"M159.614 53.7471H116.373V55.9881H159.614V53.7471Z",fill:"#9faebc"}),t.jsx("path",{d:"M117.229 55.0057L138.857 67.4932L139.978 65.5525L118.35 53.065L117.229 55.0057Z",fill:"#9faebc"}),t.jsx("path",{d:"M136.016 22.4603L157.645 34.9478L158.765 33.007L137.137 20.5196L136.016 22.4603Z",fill:"#9faebc"}),t.jsx("path",{d:"M117.235 32.9987L118.355 34.9395L139.984 22.452L138.863 20.5113L117.235 32.9987Z",fill:"#9faebc"}),t.jsx("path",{d:"M135.626 20.4136L157.246 57.8599L159.187 56.7394L137.567 19.2931L135.626 20.4136Z",fill:"#9faebc"}),t.jsx("path",{d:"M120.329 31.5127H118.088V56.4877H120.329V31.5127Z",fill:"#9faebc"}),t.jsx("path",{d:"M157.913 31.5127H155.672V56.4877H157.913V31.5127Z",fill:"#9faebc"}),t.jsx("path",{d:"M137.496 64.8497L138.475 66.5449L157.285 55.6842L156.307 53.989L137.496 64.8497Z",fill:"#9faebc"}),t.jsx("path",{d:"M160.883 57.2166C159.587 59.4711 156.698 60.2406 154.443 58.9446C152.189 57.6486 151.419 54.7596 152.715 52.5051C154.011 50.2506 156.9 49.4811 159.155 50.7771C161.423 52.0866 162.192 54.9621 160.883 57.2166Z",fill:"#9faebc"}),t.jsx("path",{d:"M123.271 35.4949C121.975 37.7494 119.086 38.5189 116.832 37.2229C114.577 35.9269 113.808 33.0379 115.104 30.7834C116.4 28.5289 119.289 27.7594 121.543 29.0554C123.798 30.3649 124.567 33.2404 123.271 35.4949Z",fill:"#9faebc"}),t.jsx("path",{d:"M115.117 57.2166C113.821 54.9621 114.591 52.0866 116.845 50.7771C119.1 49.4811 121.975 50.2506 123.285 52.5051C124.581 54.7596 123.811 57.6351 121.557 58.9446C119.289 60.2406 116.413 59.4711 115.117 57.2166Z",fill:"#9faebc"}),t.jsx("path",{d:"M152.729 35.4949C151.433 33.2404 152.202 30.3649 154.457 29.0554C156.711 27.7594 159.587 28.5289 160.896 30.7834C162.192 33.0379 161.423 35.9134 159.168 37.2229C156.914 38.5189 154.025 37.7494 152.729 35.4949Z",fill:"#9faebc"}),t.jsx("path",{d:"M138.001 70.4328C135.395 70.4328 133.289 68.3268 133.289 65.7213C133.289 63.1158 135.395 61.0098 138.001 61.0098C140.606 61.0098 142.712 63.1158 142.712 65.7213C142.712 68.3133 140.606 70.4328 138.001 70.4328Z",fill:"#9faebc"}),t.jsx("path",{d:"M138.001 26.9899C135.395 26.9899 133.289 24.8839 133.289 22.2784C133.289 19.6729 135.395 17.5669 138.001 17.5669C140.606 17.5669 142.712 19.6729 142.712 22.2784C142.712 24.8839 140.606 26.9899 138.001 26.9899Z",fill:"#9faebc"}),t.jsx("path",{d:"M247.126 167.402L216.555 178.52L215.396 182.652C213.75 188.534 207.497 193.344 201.502 193.344V196.123H264.904L247.126 167.402Z",fill:"#607890"}),t.jsx("path",{d:"M259.185 182.652L254.912 167.402L237.29 156.284L219.668 167.402L216.555 178.52H247.126L248.285 182.652C249.931 188.533 256.184 193.344 262.179 193.344L267.629 196.123L273.079 193.344C267.084 193.344 260.831 188.533 259.185 182.652Z",fill:"#506478"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M157.9 172.532C151.905 172.532 147 167.528 147 161.414V139.178L316.678 94.7065V128.06L327.577 139.178V161.414C327.577 167.529 322.672 172.532 316.677 172.532H305.777V172.532H157.9Z",fill:"#607890"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M305.776 28H316.676C322.671 28 327.576 33.003 327.576 39.1178V139.178H316.678V139.179H147V39.1181C147 33.0032 151.905 28.0002 157.9 28.0002H305.776L305.776 28Z",fill:"#798da1"}),t.jsx("path",{d:"M237.288 161.414C240.298 161.414 242.738 158.925 242.738 155.855C242.738 152.785 240.298 150.296 237.288 150.296C234.278 150.296 231.838 152.785 231.838 155.855C231.838 158.925 234.278 161.414 237.288 161.414Z",fill:"#fff"}),t.jsx("path",{d:"M293.607 198.902H180.973C179.468 198.902 178.248 197.658 178.248 196.123C178.248 194.587 179.468 193.343 180.973 193.343H293.607C295.112 193.343 296.332 194.587 296.332 196.123C296.332 197.658 295.112 198.902 293.607 198.902Z",fill:"#607890"}),t.jsx("path",{d:"M317.892 44.9788V62.2251C263.897 62.2251 209.903 62.2246 155.908 62.2246V44.9788C155.908 40.0763 159.466 36.0986 163.851 36.0986H309.949C314.335 36.0986 317.892 40.0763 317.892 44.9788Z",fill:"#23A4DE"}),t.jsx("path",{d:"M317.922 58.4512V139.451C284.941 139.451 185.437 139.451 155.922 139.451V58.4512C209.922 58.4512 263.922 58.4512 317.922 58.4512Z",fill:"#fff"}),t.jsx("path",{d:"M285.858 50.6068C284.023 50.6068 282.537 49.1202 282.537 47.2863V47.2403C282.537 45.4061 284.024 43.9199 285.858 43.9199C287.691 43.9199 289.178 45.4065 289.178 47.2403V47.2863C289.178 49.1206 287.691 50.6068 285.858 50.6068Z",fill:"#fff"}),t.jsx("path",{d:"M296.463 50.6068C294.629 50.6068 293.143 49.1202 293.143 47.2863V47.2403C293.143 45.4061 294.629 43.9199 296.463 43.9199C298.297 43.9199 299.783 45.4065 299.783 47.2403V47.2863C299.783 49.1206 298.297 50.6068 296.463 50.6068Z",fill:"#fff"}),t.jsx("path",{d:"M307.068 50.6068C305.234 50.6068 303.748 49.1202 303.748 47.2863V47.2403C303.748 45.4061 305.235 43.9199 307.068 43.9199C308.903 43.9199 310.389 45.4065 310.389 47.2403V47.2863C310.389 49.1206 308.903 50.6068 307.068 50.6068Z",fill:"#fff"}),t.jsx("rect",{x:"175.922",y:"67.6875",width:"34.0186",height:"59.9375",rx:"4",fill:"#798da1"}),t.jsx("rect",{x:"218.039",y:"72.5474",width:"33.6558",height:"33.6558",rx:"4",fill:"#9faebc"}),t.jsx("rect",{x:"218.039",y:"113.045",width:"24.299",height:"7.2897",rx:"3.64485",fill:"#23A4DE"}),t.jsx("path",{d:"M339.571 67H274.788C267.737 67 262 72.5564 262 79.3861V118.638C262 125.468 267.737 131.024 274.788 131.024H339.571C346.622 131.024 352.359 125.468 352.359 118.638V79.3861C352.359 72.5564 346.622 67 339.571 67Z",fill:"#fff"}),t.jsx("path",{d:"M339.57 67H321.247C314.196 67 308.459 72.5564 308.459 79.3861L295.098 118.638C295.098 125.468 300.835 131.024 307.886 131.024H339.57C346.621 131.024 352.358 125.468 352.358 118.638V79.3861C352.358 72.5564 346.621 67 339.57 67Z",fill:"#fff"}),t.jsx("path",{d:"M339.571 67H274.788C267.737 67 262 72.5564 262 79.3861V118.638C262 125.468 267.737 131.024 274.788 131.024H339.571C346.622 131.024 352.359 125.468 352.359 118.638V79.3861C352.359 72.5564 346.622 67 339.571 67ZM294.792 86.7046L281.339 99.7333L293.303 111.319C294.337 112.321 294.337 113.945 293.303 114.945C292.27 115.946 290.594 115.946 289.56 114.945L275.723 101.545C274.689 100.543 274.689 98.9215 275.723 97.9199L291.047 83.0795C292.082 82.078 293.758 82.078 294.792 83.0795C295.825 84.0794 295.825 85.703 294.792 86.7046ZM317.932 80.6731L303.934 119.058C303.447 120.395 301.934 121.094 300.556 120.622C299.178 120.151 298.454 118.686 298.941 117.351L312.94 78.9656C313.427 77.6308 314.938 76.9301 316.318 77.4018C317.696 77.8735 318.42 79.3382 317.932 80.6731ZM338.636 100.104L323.312 114.945C322.278 115.946 320.601 115.946 319.567 114.945C318.535 113.945 318.535 112.321 319.567 111.319L333.02 98.2908L321.057 86.7046C320.022 85.703 320.022 84.0794 321.057 83.0795C322.089 82.078 323.766 82.078 324.8 83.0795L338.636 96.4791C339.67 97.4807 339.67 99.1026 338.636 100.104Z",fill:"#7e9bfa"})]})),a2=()=>{const s=lt(),{isMobile:a,isTablet:o,isDesktop:m}=Ht(),f=a||o||m;return t.jsxs(Xc,{children:[t.jsxs(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:4,spanSuperWideScreen:5,span4KScreen:7,children:[t.jsx(Kn,{children:"Apps"}),t.jsx(du,{children:t.jsxs(we,{isFlexColumn:!0,isFlexJustifyAround:!0,children:[t.jsxs("div",{className:Le,children:[t.jsx("div",{className:jn,children:t.jsx(se,{hasBoldText:!0,hasNoMargin:!0,children:"View Docs"})}),t.jsxs(we,{isFlexColumn:!0,className:jn,children:[t.jsxs(we,{children:[t.jsx(de,{className:oo,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{hasGreyText:!0,children:"We have invested a considerable amount of time to ensure our documentation is as comprehensive as possible, from detailed references, to our APIs to a glossary of terms and frequently asked questions."})]}),t.jsx(w,{hasGreyText:!0,children:"Having first watched the video, you may want to have a deep dive into the documentation before creating your first app."}),t.jsx("div",{className:Le,children:t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:"If you get stuck at any point when working with Foundations, make the docs your first port of call."})}),t.jsx(ce,{alignment:"left",children:t.jsx(N,{onClick:te(ie.baseDocs),intent:"default",children:"View Docs"})})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:jn,children:t.jsx(se,{hasBoldText:!0,hasNoMargin:!0,children:"Create APP"})}),t.jsxs(we,{isFlexColumn:!0,className:jn,children:[t.jsxs(we,{children:[t.jsx(de,{className:oo,icon:"welcomeInfographic",iconSize:"large"}),t.jsx(w,{hasGreyText:!0,children:"Creating an app is the starting point for authenticating against the Foundations APIs. Your app might be a web application, possibly rendered inside of the AgencyCloud CRM, or a simple data feed to serve a website."})]}),t.jsx("div",{className:Le,children:t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:"In all cases, you will need to use the app creation wizard that will walk you through creating your app, explain key concepts along the way and link out to our documentation where relevant."})}),t.jsx(ce,{alignment:"left",children:t.jsx(N,{intent:"primary",size:2,onClick:Jn(s,oe.APPS_NEW),children:"Create App"})})]})]})]})})]}),t.jsxs(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:8,spanSuperWideScreen:11,span4KScreen:13,children:[t.jsx(Kn,{children:"About Foundations"}),t.jsxs(we,{isFlexAlignStart:!f,isFlexColumn:f,children:[t.jsxs("div",{className:ee(!f&&ct,!f&&ji,f&&Le),children:[t.jsx(w,{hasGreyText:!0,children:"Reapit Foundations is a Platform as a Service that enables developers to access, update and enhance data within the Reapit AgencyCloud desktop CRM."}),t.jsx(i2,{})]}),t.jsxs("div",{className:ee(!f&&ct,!f&&bi),children:[t.jsx(w,{hasGreyText:!0,children:"There are a number of aspects to The Platform documented within this Developer Portal, specifically, APIs, Webhooks, a UI Library and Data Analytics solutions. We also have an AppMarket to facilitate the publishing and installation of the software you build on top of the Platform."}),t.jsx(w,{hasGreyText:!0,children:"Every developer will have different use cases for using our Platform and it is unlikely you will need to use all of the APIs and tooling we provide. However, the starting point for all integrations is to create an \u2018App\u2019, which on a basic level is the means to authenticate against our services."}),t.jsx(w,{hasGreyText:!0,children:"To get started, create your first app using the wizard on the left of this page. This will allow you to authenticate against our APIs."})]})]})]})]})},s2="cbaewf6-card-cursor",o2=({app:s})=>{const a=lt(),{id:o,name:m,isDirectApi:f,developer:x,iconUri:v}=s;return t.jsx(m0,{className:ee(Oe,s2),onClick:Jn(a,`${oe.APPS}/${o}`),hasMainCard:!0,mainCardHeading:m,mainCardSubHeading:x,mainCardSubHeadingAdditional:f?"Integration":"",mainCardAvatarUrl:v??t.jsx(x0,{placeholder:"placeholderSmall",size:50})})},hu=s=>{const a=s===oe.APPS,o=s===oe.APPS_NEW,m=s===oe.APPS_WELCOME,f=/^\/apps\/[a-z0-9-]+\/installations/.test(s),x=/^\/apps\/[a-z0-9-]+\/edit/.test(s),v=/^\/apps\/[a-z0-9-]+\/pipeline/.test(s),b=/^\/apps\/[a-z0-9-]+\/consents/.test(s),_=!x&&!o&&!f&&!v&&!b&&/^\/apps\/[a-z0-9-]+/.test(s);return{isAppsList:a,isAppsNew:o,isAppsWelcome:m,isAppsEdit:x,isAppsDetail:_,isAppsInstallations:f,isAppPipelines:v,isAppConsents:b}},l2=qn().shape({reapitReference:L().trim().required(Qe.FIELD_REQUIRED).test(nn),status:L().trim().required(Qe.FIELD_REQUIRED).test(nn)}),c2=(s,a)=>a==="pending"?"Account Information is being verified":s?"Account Verification":"Account Information Required",u2=(s,a,o)=>()=>{o&&(s(),a())},d2=({closeModal:s,refetchDeveloper:a,developer:o})=>{var D,R;const{globalDataState:m}=Ii(),{register:f,handleSubmit:x,formState:{errors:v}}=$t({resolver:Qt(l2),defaultValues:{...o,companyName:o.company,status:"pending",reapitReference:""}}),{connectSession:b}=bn(K),[_]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getDeveloperMembers],uriParams:{developerId:b==null?void 0:b.loginIdentity.developerId},queryParams:{role:"admin",status:"active"},fetchWhenTrue:[b==null?void 0:b.loginIdentity.developerId]}),[y,,P,I]=Me({method:"PUT",reapitConnectBrowserSession:K,action:Ue[Re.updateDeveloper],uriParams:{developerId:b==null?void 0:b.loginIdentity.developerId}});B.useEffect(u2(s,a,I),[I]);const{currentMember:E}=m,T=iu(b),U=E==null?void 0:E.role,z=o.status;return T?z==="pending"?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"We are currently verifying your account information. This is typically done within 1 \u2013 2 working days. You will be notified via email when this has been completed and you can continue with your app submission."}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:s,children:"Close"})})]}):U!=="admin"?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before an app can be submitted (either privately or publicly), we will first need to verify your account information (which can only be submitted by an Admin) as API Consumption charges will apply."}),t.jsx(w,{children:"Please contact one of the Admins listed below:"}),t.jsx(dr,{className:qr,rows:(D=_==null?void 0:_.data)==null?void 0:D.map(G=>({cells:[{label:"Name",value:G.name??"",icon:"contact",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Email Admin",value:"",children:t.jsx("a",{href:`mailto:${G.email}?subject=Developer%20Portal%20\u2013%20Listing%20our%20app&body=Before%20we%20can%20submit%20an%20app,%20we%20need%20to%20verify%20our%20Reapit%20Reference.%20Please%20can%20you%20login%20to%20the%20Developer%20Portal,%20submit%20the%20app%20and%20enter%20the%20required%20information.%20The%20Reapit%20Reference%20can%20be%20found%20on%20any%20Reapit%20correspondence%20under%20the%20\u2018Account\u2019%20section.`,target:"_blank",rel:"noopener noreferrer",children:"Send Email"}),icon:"email",cellHasDarkText:!0,narrowTable:{showLabel:!0}}]}))}),t.jsx(w,{children:"Alternatively, you can request the option to become an Admin. Simply ask one of the Admins above to visit the \u2018Organisation\u2019 page to view the member options."}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:s,children:"Close"})})]}):t.jsxs("form",{onSubmit:x(G=>P(G)),children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before an app can be submitted (either privately or publicly), we will first need to verify your account information as API Consumption charges will apply."}),t.jsx(pe,{className:qr,...f("reapitReference"),inputAddOnText:(R=v==null?void 0:v.reapitReference)==null?void 0:R.message,type:"text",label:"Reapit Reference",placeholder:"Enter your Reapit reference here",intent:"danger"}),t.jsx(w,{children:"You can find your Reapit Reference from any Reapit correspondence under the \u2018Account\u2019 section."}),t.jsx(w,{children:"The verification process is typically completed within 1 \u2013 2 working days. You will be notified via email when this has been completed and you can continue with your app submission."}),t.jsxs(ce,{alignment:"right",children:[t.jsx(N,{intent:"default",onClick:s,children:"Close"}),t.jsx(N,{intent:"primary",type:"submit",disabled:y,loading:y,children:"Submit"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Any changes have been saved successfully."}),t.jsx(w,{children:"However, before you can list an app in the AppMarket ('Submit for approval'), you will first need to submit your account information."}),t.jsxs(w,{children:["Please"," ",t.jsxs("a",{href:"mailto:jhennessy@reapit.com?subject=Submitting%20my%20app%20for%20approval%20/%20listing%20in%20the%20AppMarket",target:"_blank",rel:"noopener noreferrer",children:[" ","click here"]})," ","to contact a member of the team."]}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:s,children:"Close"})})]})};var p2=["PROVISIONING","PROVISION_REQUEST","FAILED_TO_PROVISION","PRE_PROVISIONED","DELETING","DELETED","SCHEDULED_FOR_DELETION","DELETION_REQUEST","CREATED"],fu=["IN_PROGRESS","DELETING","PROVISION_REQUEST","PROVISIONING","QUEUED","SCHEDULED_FOR_DELETION","DELETION_REQUEST","CREATED","DELETED"],gu=["PROVISIONING","PROVISION_REQUEST"],h2=["PRE_PROVISIONED","PROVISIONING","PROVISION_REQUEST","FAILED_TO_PROVISION"],ft=(s=>(s.NPM="npm",s.YARN="yarn",s.YARN_BERRY="yarn-berry",s))(ft||{}),mu=(s=>(s.NODE="node",s.REACT="react",s))(mu||{}),f2=(s=>(s.BUILD="BUILD",s.RELEASE="RELEASE",s.REPO="REPO",s))(f2||{}),g2=(s=>(s.PAYMENT="payment",s.DEPLOYMENT="deployment",s))(g2||{}),m2=(s=>(s.FEATURED_HERO="featuredHeroApps",s.HERO="heroApps",s.FILTERS="appsFilters",s.FEATURED="featuredApps",s.SIMPLE="simpleApps",s))(m2||{}),x2=(s=>(s.APPLICATION_INSTALL="application.install",s.APPLICATION_UNINSTALL="application.uninstall",s.APPLICANTS_CREATED="applicants.created",s.APPLICANTS_MODIFIED="applicants.modified",s.APPOINTMENTS_CANCELLED="appointments.cancelled",s.APPOINTMENTS_CONFIRMED="appointments.confirmed",s.APPOINTMENTS_CREATED="appointments.created",s.APPOINTMENTS_MODIFIED="appointments.modified",s.COMPANIES_CREATED="companies.created",s.COMPANIES_MODIFIED="companies.modified",s.CONTACTS_CREATED="contacts.created",s.CONTACTS_MODIFIED="contacts.modified",s.CONTACTS_OPTEDOUT="contacts.optedout",s.CONVEYANCING_MODIFIED="conveyancing.modified",s.DOCUMENTS_CREATED="documents.created",s.DOCUMENTS_MODIFIED="documents.modified",s.ENQUIRIES_ACCEPTED="enquiries.accepted",s.ENQUIRIES_CREATED="enquiries.created",s.ENQUIRIES_MODIFIED="enquiries.modified",s.ENQUIRIES_REJECTED="enquiries.rejected",s.IDENTITYCHECKS_CREATED="identitychecks.created",s.IDENTITYCHECKS_MODIFIED="identitychecks.modified",s.LANDLORDS_CREATED="landlords.created",s.LANDLORDS_MODIFIED="landlords.modified",s.OFFERS_ACCEPTED="offers.accepted",s.OFFERS_CREATED="offers.created",s.OFFERS_MODIFIED="offers.modified",s.OFFERS_REJECTED="offers.rejected",s.OFFERS_WITHDRAWN="offers.withdrawn",s.OFFICES_CREATED="offices.created",s.OFFICES_MODIFIED="offices.modified",s.PROPERTIES_CREATED="properties.created",s.PROPERTIES_MODIFIED="properties.modified",s.PROPERTIES_SELLING_ASKINGPRICECHANGED="properties.selling.askingpricechanged",s.PROPERTIES_SELLING_COMPLETED="properties.selling.completed",s.PROPERTIES_SELLING_EXCHANGED="properties.selling.exchanged",s.PROPERTIES_SELLING_WITHDRAWN="properties.selling.withdrawn",s.PROPERTIES_SELLING_INSTRUCTED="properties.selling.instructed",s.PROPERTIES_SELLING_LOSTINSTRUCTION="properties.selling.lostinstruction",s.PROPERTIES_SELLING_UNDEROFFER="properties.selling.underoffer",s.TENANCIES_CREATED="tenancies.created",s.TENANCIES_MODIFIED="tenancies.modified",s.VENDORS_CREATED="vendors.created",s.VENDORS_MODIFIED="vendors.modified",s.WORKSORDERS_CANCELLED="worksorders.cancelled",s.WORKSORDERS_COMPLETE="worksorders.complete",s.WORKSORDERS_MODIFIED="worksorders.modified",s.WORKSORDERS_RAISED="worksorders.raised",s))(x2||{});const v2=s=>{var o;const a=s;return a.description||delete a.description,a.summary||delete a.summary,a.supportEmail||delete a.supportEmail,a.telephone||delete a.telephone,a.homePage||delete a.homePage,a.launchUri||delete a.launchUri,a.videoUrl1||delete a.videoUrl1,a.videoUrl2||delete a.videoUrl2,a.categoryIds||delete a.categoryIds,a.redirectUris&&!a.redirectUris.length&&delete a.redirectUris,a.signoutUris&&!a.signoutUris.length&&delete a.signoutUris,(o=a.desktopIntegrationTypeIds)!=null&&o.length||(delete a.launchWindowSizeX,delete a.launchWindowSizeY),a},xu=({name:s,categoryIds:a,telephone:o,supportEmail:m,launchUri:f,iconImageUrl:x,screen5ImageUrl:v,screen4ImageUrl:b,screen3ImageUrl:_,screen2ImageUrl:y,screen1ImageUrl:P,videoUrl1:I,videoUrl2:E,homePage:T,isAgencyCloudIntegrated:U,summary:z,description:D,termsAndConditionsUrl:R,developerId:G,isFree:q,deletionProtection:W,privacyPolicyUrl:Q,pricingUrl:X,isListed:H,scopes:me,redirectUris:re,signoutUris:ke,limitToClientIds:_e,desktopIntegrationTypeIds:Ge,products:pn,isPrivateApp:wn,launchWindowSizeX:Cn,launchWindowSizeY:rn})=>{const an={name:s,telephone:o,supportEmail:m,launchUri:f,iconImageUrl:x,screen5ImageUrl:v,screen4ImageUrl:b,screen3ImageUrl:_,screen2ImageUrl:y,screen1ImageUrl:P,videoUrl1:I,videoUrl2:E,homePage:T,summary:z,description:D,termsAndConditionsUrl:R,developerId:G,isFree:q,deletionProtection:W,isListed:H,privacyPolicyUrl:Q,pricingUrl:X,isDirectApi:!U,categoryIds:a.split(",").filter(Boolean),scopes:me.split(",").filter(Boolean),redirectUris:re.split(",").filter(Boolean),signoutUris:ke.split(",").filter(Boolean),limitToClientIds:wn?_e.split(",").filter(Boolean):[],desktopIntegrationTypeIds:Ge.split(",").filter(Boolean),products:pn.split(",").filter(Boolean),launchWindowSizeX:Number(Cn),launchWindowSizeY:Number(rn)};return v2(an)},y2=s=>{if(!s)return!1;try{return qn().shape({name:L().required(),branch:L().required(),repository:qn().shape({repositoryUrl:L().trim().required().matches(su)}),buildCommand:L().trim().required(),packageManager:L().trim().required().test(G0),outDir:L().required()}).validateSync(s),!0}catch{return!1}},j2=(s,a)=>()=>{a&&s(!0)},b2=s=>()=>{s(!0)},w2=(s,a,o,m,f,x,v)=>async()=>{var _,y,P,I;const b=await s(v);if(f&&b&&typeof b!="boolean"&&b.subDomain&&x){const E=P0(f,x),T=xu(E),U=`https://${b.subDomain}.iaas.paas.reapit.cloud`,z=`https://${b.subDomain}.iaas.paas.reapit.cloud/login`;(_=T==null?void 0:T.redirectUris)!=null&&_.includes(U)||((y=T==null?void 0:T.redirectUris)==null||y.push(U)),(P=T==null?void 0:T.signoutUris)!=null&&P.includes(z)||((I=T==null?void 0:T.signoutUris)==null||I.push(z)),await a(T)&&(o(),m())}},C2=s=>()=>{s()},_2=(s,a)=>async()=>{await s()&&a()},S2=()=>{var pn;const s=pr(),a=lt(),{connectSession:o}=bn(K),{appPipelineState:m,appId:f,appsDataState:x}=ye(),{Modal:v,openModal:b,closeModal:_}=qe(),{appPipeline:y,setAppPipelineSaving:P,setAppPipelineDeploying:I}=m,{pathname:E}=s,T=E.includes("new")||E.includes("configure"),{appDetail:U,appsDetailRefresh:z,appRefreshRevisions:D}=x,R=(o==null?void 0:o.loginIdentity.developerId)??null,G=y2(y),q=!!((pn=y==null?void 0:y.repository)!=null&&pn.installationId),W=!!(y!=null&&y.bitbucketClientId),Q=q||W,[X,,H]=Me({reapitConnectBrowserSession:K,action:Ue[Re.deletePipeline],uriParams:{appId:y==null?void 0:y.id},method:"DELETE",headers:{Authorization:o==null?void 0:o.idToken}}),[me,re,ke]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createPipelineDeployment],uriParams:{pipelineId:y==null?void 0:y.id},headers:{Authorization:o==null?void 0:o.idToken},returnType:Hr.RESPONSE}),[,,_e]=Me({reapitConnectBrowserSession:K,method:"PUT",action:Ue[Re.updatePipeline],uriParams:{pipelineId:y==null?void 0:y.id},headers:{Authorization:o==null?void 0:o.idToken},returnType:Hr.RESPONSE}),[,,Ge]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createAppRevsion],method:"POST",uriParams:{appId:f},returnType:Hr.LOCATION});return B.useEffect(j2(I,re),[re]),t.jsxs("div",{className:Oe,children:[t.jsx(de,{className:hr,icon:"webDeveloperInfographic",iconSize:"large"}),t.jsx(se,{children:"Pipeline"}),T?t.jsx(Be,{hasGreyText:!0,children:"When you create an app, we create a pre-provisioned pipeline for your app. You should configure your build steps on this page before using the deployments page to manage your releases to our infra."}):y?t.jsx(Be,{hasGreyText:!0,children:"When you have a pipeline for your application, you can manage deployments from this page. Each table row refers to a deployment, and by expading the content, you can follow progress in real time."}):t.jsx(Be,{hasGreyText:!0,children:"To get started with Reapit IAAS pipelines, first take the time to read the documentation. Then visit this page to configure your first pipeline."}),t.jsxs(ce,{children:[T&&t.jsx(N,{loading:X,intent:"primary",onClick:b2(P),children:"Save Config"}),h2.includes(y==null?void 0:y.buildStatus)?t.jsx(N,{onClick:w2(_e,Ge,z,D,U,R,{...y??{},buildStatus:"PROVISION_REQUEST"}),disabled:gu.includes(y==null?void 0:y.buildStatus),loading:gu.includes(y==null?void 0:y.buildStatus),intent:"primary",children:"Provision"}):y&&!T&&G?t.jsx(t.Fragment,{children:t.jsx(N,{loading:me||y.buildStatus==="IN_PROGRESS",intent:"primary",onClick:C2(ke),disabled:p2.includes(y.buildStatus)||fu.includes(y.buildStatus)||y.buildStatus==="QUEUED"||!Q,children:"Deploy"})}):y&&!G&&!E.includes("configure")?t.jsx(N,{intent:"primary",onClick:Jn(a,`${oe.APPS}/${f}/pipeline/configure`),children:"Configure"}):null,y&&t.jsx(N,{loading:X,intent:"danger",disabled:fu.includes(y.buildStatus),onClick:b,children:"Delete Pipeline"}),t.jsx(N,{intent:"default",onClick:te(ie.iaasDocs),children:"View Docs"})]}),t.jsxs(v,{title:"Delete Pipeline",children:[t.jsx(w,{hasGreyText:!0,children:"Are you sure you want to delete this pipeline? This will tear down any infrastructure you have provisioned and cannot be recovered."}),t.jsxs(ce,{alignment:"right",children:[t.jsx(N,{intent:"default",onClick:_,children:"Close"}),t.jsx(N,{intent:"danger",onClick:_2(H,_),children:"Delete"})]})]})]})},k2=s=>{var m;const a=$0.unparse({fields:["App Name","Client","Customer Name","Created On","Uninstalled On","Status","Installed By","Uninstalled By"],data:((m=s.data)==null?void 0:m.map(({client:f,appName:x,customerName:v,created:b,terminatesOn:_,status:y,installedBy:P,uninstalledBy:I})=>[x,f,v,b,_,y,P,I]))||[]}),o=new Blob([a],{type:"data:text/csv;charset=utf-8,"});Z0.saveAs(o,"installs.csv")},I2=()=>{var v;const[s,a]=B.useState(!1),{appsDataState:o}=ye(),m=(v=o.appDetail)==null?void 0:v.id,{connectSession:f}=bn(K),[x]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getInstallations],queryParams:{appId:m,isInstalled:!0,developerId:f==null?void 0:f.loginIdentity.developerId,pageSize:999},fetchWhenTrue:[s,f]});return B.useEffect(()=>{x&&x.data&&(k2(x),s&&x&&a(!1))},[x,s]),t.jsx(ce,{children:t.jsx(N,{intent:"primary",loading:s,disabled:s||!f,onClick:()=>a(!0),children:"Download CSV"})})};var A2={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Ti=(s,a,o,m)=>()=>{if(m==="confirmed"||!a)return s({...ru,isRevalidating:!0,isListed:a});s({...ru,isRevalidating:!0}),o()},E2=(s,a,o)=>()=>{o&&s({name:a==null?void 0:a.loginIdentity.name,email:a==null?void 0:a.loginIdentity.email,rejectionReason:"Cancelled by developer",rejectedByDeveloper:!0})},T2=(s,a)=>()=>{s!=null&&s.data&&s.data[0]&&s.data[0].id&&a(s.data[0].id)},P2=(s,a,o,m)=>()=>{m&&(s(),o(),a(null))},R2=(s,a)=>async o=>{o==null||o.stopPropagation(),await s()&&a(oe.APPS)},D2=(s,a,o)=>()=>{o&&(a(),s())},N2=s=>a=>{a==null||a.stopPropagation(),s()},xr=()=>{var Pt;const s=pr(),{appId:a,appEditState:o,appsDataState:m}=ye(),{globalDataState:f,globalRefreshCurrentDeveloper:x}=Ii(),v=lt(),[b,_]=B.useState(null),{connectSession:y}=bn(K),{Modal:P,openModal:I,closeModal:E}=qe(),{Modal:T,openModal:U,closeModal:z}=qe(),D=au(y),R=iu(y),{pathname:G}=s,{isAppsEdit:q,isAppsDetail:W,isAppPipelines:Q,isAppConsents:X,isAppsInstallations:H}=hu(G),{currentDeveloper:me}=f,{setAppEditSaving:re,appUnsavedFields:ke,appIncompleteFields:_e}=o,{appsRefresh:Ge}=m,{appsDetailRefresh:pn,appRefreshRevisions:wn,appRevisions:Cn,appDetail:rn,appDetailRefreshing:an,appDetailLoading:sn,appRevisionsRefreshing:Xt}=m,Ke=!Object.keys(_e).length,Ye=!!(rn!=null&&rn.pendingRevisions),vr=!!((Pt=m.appDetail)!=null&&Pt.isListed),tt=an||Xt,Jt=!!Object.keys(ke).length,{deletionProtection:Gn,id:Tt,name:er}=rn??{},[,,rt,Yn]=Me({reapitConnectBrowserSession:K,action:Ue[Re.cancelRevision],uriParams:{appId:a,revisionId:b}}),[,,yr,it]=Me({reapitConnectBrowserSession:K,action:Ue[Re.deleteApp],method:"DELETE",uriParams:{appId:a}});B.useEffect(T2(Cn,_),[Cn]),B.useEffect(D2(Ge,z,it),[it]),B.useEffect(P2(pn,_,wn,Yn),[Yn]);const hn=me==null?void 0:me.status;return q?t.jsxs("div",{className:ee(Oe,Le),children:[t.jsx(de,{className:hr,icon:"editAppInfographic",iconSize:"large"}),Ke&&!vr&&!sn&&!Ye?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Ready For Review"}),t.jsxs(Be,{hasGreyText:!0,children:["As your app listing is now complete, you can submit it for review by one of our team, so you can go live with customer data. For more on this process"," ",t.jsx("a",{onClick:te(ie.appApprovalDocs),children:"visit here."})]}),t.jsx(Be,{hasGreyText:!0,children:"You also have the option of saving any additional changes as you make them before submitting."}),t.jsxs(ce,{children:[Jt&&t.jsx(N,{intent:"primary",loading:tt,onClick:Ti(re,!1,I,hn),children:"Save Changes"}),t.jsx(N,{intent:"primary",loading:tt,onClick:Ti(re,!0,I,hn),children:"Submit Review"})]})]}):Ye?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Revision Outstanding"}),t.jsx(Be,{hasGreyText:!0,children:"You have recently submitted an app listing revision for approval."}),t.jsxs(Be,{hasGreyText:!0,children:["For more on this process ",t.jsx("a",{onClick:te(ie.appApprovalDocs),children:"visit here."})]}),t.jsx(Be,{hasGreyText:!0,children:"If you no longer want your app revision to be approved, you can cancel below."}),t.jsx(ce,{children:t.jsx(N,{intent:"primary",loading:tt,onClick:E2(rt,y,b),children:"Cancel Revision"})})]}):vr?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Listed Application"}),t.jsxs(Be,{hasGreyText:!0,children:["As your app is live with customer data, you will need to submit any app changes for approval by one of our team. For more on this process ",t.jsx("a",{onClick:te(ie.appApprovalDocs),children:"visit here."})]}),t.jsx(Be,{hasGreyText:!0,children:"You also have the option of de-listing your app and reverting to a sandbox only integration."}),t.jsxs(ce,{children:[t.jsx(N,{intent:"primary",loading:tt,onClick:Ti(re,!1,I,hn),children:"De-list app"}),Jt&&t.jsx(N,{intent:"primary",loading:tt,onClick:Ti(re,!0,I,hn),children:"Create Revision"})]})]}):Jt?t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"Unsaved Changes"}),t.jsx(Be,{hasGreyText:!0,children:"Before you list your app you can save the details at any point below. After app listing, you will have to create an app revision for our team to review."}),t.jsx(ce,{children:t.jsx(N,{intent:"primary",loading:tt,onClick:Ti(re,!1,I,hn),children:"Save Changes"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"App Listings"}),t.jsx(Be,{hasGreyText:!0,children:"Actions will appear below as you perform tasks on this page"})]}),t.jsx(P,{title:c2(R,hn),children:me&&t.jsx(d2,{developer:me,closeModal:E,refetchDeveloper:x})})]}):W?t.jsxs("div",{className:ee(Oe,Le),children:[t.jsx(de,{className:hr,icon:"appMarketInfographic",iconSize:"large"}),t.jsx(w,{children:"Preview in AppMarket"}),t.jsx(Be,{hasGreyText:!0,children:"Clicking below will take you to your current AppMarket listing, to view your app as users will see it."}),t.jsxs(ce,{children:[t.jsx(N,{intent:"primary",onClick:te(`${A2.marketplaceUrl}/${a}`),children:"Preview"}),t.jsx(N,{intent:"danger",onClick:N2(U),children:"Delete App"})]}),t.jsxs(T,{title:`Confirm ${er} Deletion`,children:[D?Gn?t.jsxs(w,{children:["\u2018",er,"\u2019 has deletion protection enabled to avoid accidental data loss. If you really want to delete the app, visit ",t.jsx(Ua,{to:`${oe.APPS}/${Tt}/edit/app-listing`,children:"this page"}),", uncheck the delete protection checkbox and save the revision."]}):t.jsxs(w,{children:["Are your sure you want to remove the app \u2018",er,"\u2019? By clicking \u2018delete\u2019 it will remove all app data including all revisions and listings."]}):t.jsx(w,{children:"Unfortunately, your user account does not have the correct permissions to delete this app. Only an Admin of your developer organisation can delete apps."}),t.jsxs(ce,{alignment:"right",children:[t.jsx(N,{intent:"default",onClick:z,children:"Cancel"}),t.jsx(N,{fixedWidth:!0,intent:"danger",disabled:Gn||!D,onClick:R2(yr,v),children:"Delete"})]})]})]}):Q?t.jsx(S2,{}):X?t.jsxs("div",{className:ee(Oe,Le),children:[t.jsx(de,{className:hr,icon:"editAppInfographic",iconSize:"large"}),t.jsx(w,{children:"App Consents"}),t.jsx(Be,{hasGreyText:!0,children:"This page is visible because you have requested new permissions as part of your current outstanding app revision. An email will be sent to each of the customers who installed your app, requesting they agree to the new permissions you have requested."}),t.jsx(Be,{hasGreyText:!0,children:"Each customer will have to agree to the new permission before our team can approve your revision. You can either track this process here or reach out to your customer to expedite their response to our message."}),t.jsx(Be,{hasGreyText:!0,children:"You can also request that the email is re-sent to each customer individually."}),t.jsx(ce,{children:t.jsx(N,{intent:"default",onClick:te(ie.appPermissionsDocs),children:"View Docs"})})]}):H?t.jsxs("div",{className:ee(Oe,Le),children:[t.jsx(de,{className:hr,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{children:"Apps Documentation"}),t.jsx(Be,{hasGreyText:!0,children:"This is the dashboard for your applications created using the Reapit Foundations platform. If you have not created an app before or you need help, please take the time to view our getting started guide."}),t.jsx(ce,{className:hr,children:t.jsx(N,{intent:"default",onClick:te(ie.developerPortalDocs),children:"View Docs"})}),t.jsx(I2,{})]}):t.jsxs("div",{className:ee(Oe,Le),children:[t.jsx(de,{className:hr,icon:"myAppsInfographic",iconSize:"large"}),t.jsx(w,{children:"Apps Documentation"}),t.jsx(Be,{hasGreyText:!0,children:"This is the dashboard for your applications created using the Reapit Foundations platform. If you have not created an app before or you need help, please take the time to view our getting started guide."}),t.jsx(ce,{children:t.jsx(N,{intent:"default",onClick:te(ie.developerPortalDocs),children:"View Docs"})})]})},M2=()=>{var I;const{isMobile:s}=Ht(),{appsDataState:a}=ye(),{Modal:o,openModal:m,closeModal:f}=qe(),{apps:x,appsSetPageNumber:v}=a,b=(x==null?void 0:x.pageNumber)??1,_=(x==null?void 0:x.totalCount)??0,y=(x==null?void 0:x.pageSize)??0,P=Math.ceil((_??1)/(y??1));return t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:"My Apps"}),s&&t.jsxs(o,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:f,children:"Close"})})]}),t.jsx(fr,{className:jn,children:(I=x==null?void 0:x.data)==null?void 0:I.map(E=>t.jsx(Fe,{children:t.jsx(o2,{app:E})},E.id))}),P>1&&t.jsx(lo,{callback:v,currentPage:b,numberPages:P}),t.jsx(Br,{onClick:m})]})},gt=(s,a,o="clientCredentials")=>()=>{s(m=>({...m,nextStep:a,authFlow:o}))},U2=()=>{const{appWizardState:s,setAppWizardState:a}=ye(),{nextStep:o}=s;return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{className:ee(o===F.agencyCloudStep&&dt),onClick:gt(a,F.agencyCloudStep,"authorisationCode"),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"logoSettingsInfographic"}),t.jsx(ht,{children:"AgencyCloud Functionality"}),o===F.agencyCloudStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.externalAppStep&&dt),onClick:gt(a,F.externalAppStep),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"userHouseInfographic"}),t.jsx(ht,{children:"Create an External Web Application"}),o===F.externalAppStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.dataFeedStep&&dt),onClick:gt(a,F.dataFeedStep),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"feedInfographic"}),t.jsx(ht,{children:"Data / Portal / Reporting Feed"}),o===F.dataFeedStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.websiteFeedStep&&dt),onClick:gt(a,F.websiteFeedStep),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"feedAltInfographic"}),t.jsx(ht,{children:"Website Feed"}),o===F.websiteFeedStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.webServicesStep&&dt),onClick:gt(a,F.webServicesStep),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"globeInfographic"}),t.jsx(ht,{children:"WebServices to Platform"}),o===F.webServicesStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.reapitConnectStep&&dt),onClick:gt(a,F.reapitConnectStep,"authorisationCode"),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"doorLockInfographic"}),t.jsx(ht,{children:"Reapit Connect as ID Provider"}),o===F.reapitConnectStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.clientSideStep&&dt),onClick:gt(a,F.clientSideStep,"authorisationCode"),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"devicesInfographic"}),t.jsx(ht,{children:"Client Side App"}),o===F.clientSideStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.serverSideStep&&dt),onClick:gt(a,F.serverSideStep),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"serverInfographic"}),t.jsx(ht,{children:"Server Side Integration"}),o===F.serverSideStep&&t.jsx(de,{icon:"check",intent:"primary"})]})]})},L2=s=>()=>{s&&s(a=>({...a,nextStep:F.permissionsStep}))},xo=({register:s,errors:a})=>{var m,f;const{setAppWizardState:o}=ye();return B.useEffect(L2(o),[]),t.jsxs(pu,{children:[t.jsx(pe,{className:wi,label:"Login Redirect URI",type:"text",...s("redirectUris"),defaultValue:"http://localhost:8080",inputAddOnText:(m=a==null?void 0:a.redirectUris)==null?void 0:m.message,intent:"danger"}),t.jsx(pe,{label:"Logout Redirect URI",type:"text",...s("signoutUris"),defaultValue:"http://localhost:8080/login",inputAddOnText:(f=a==null?void 0:a.signoutUris)==null?void 0:f.message,intent:"danger"})]})},vu=()=>{const{appWizardState:s,setAppWizardState:a}=ye(),{nextStep:o}=s;return t.jsxs(t.Fragment,{children:[t.jsxs(pt,{className:ee(Xn,o===F.clientSideStep&&dt),onClick:gt(a,F.clientSideStep,"authorisationCode"),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"devicesInfographic"}),t.jsx(ht,{children:"Client Side App"}),o===F.clientSideStep&&t.jsx(de,{icon:"check",intent:"primary"})]}),t.jsxs(pt,{className:ee(o===F.serverSideStep&&dt),onClick:gt(a,F.serverSideStep),children:[t.jsx(de,{className:Xn,fontSize:"2rem",icon:"serverInfographic"}),t.jsx(ht,{children:"Server Side Integration"}),o===F.serverSideStep&&t.jsx(de,{icon:"check",intent:"primary"})]})]})};var O2=F2;function F2(s,a,o){var m=null,f=null,x=function(){m&&(clearTimeout(m),f=null,m=null)},v=function(){var _=f;x(),_&&_()},b=function(){if(!a)return s.apply(this,arguments);var _=this,y=arguments,P=o&&!m;if(x(),f=function(){s.apply(_,y)},m=setTimeout(function(){if(m=null,!P){var I=f;return f=null,I()}},a),P)return f()};return b.cancel=x,b.flush=v,b}const z2=co(O2),W2=s=>s.map(a=>{const{description:o,name:m}=a;return{value:m,name:o}}),V2=(s,a,o,m,f)=>()=>{const x=f().scopes??s.join(",");if((x||o)&&a){const v=a.filter(y=>{var T,U;const P=y.name&&x.includes(y.name),I=o&&((T=y.description)==null?void 0:T.toLowerCase().includes(o.toLowerCase())),E=!((U=y.name)!=null&&U.includes("payment"));return(P||I)&&E}),b=[...new Set([...v.map(y=>JSON.stringify(y))])].map(y=>JSON.parse(y)),_=W2(b);m(_)}},q2=s=>()=>{s(a=>({...a,lastStep:!0}))},qa=({register:s,getValues:a,errors:o})=>{var z,D;const{appWizardState:m,setAppWizardState:f}=ye(),{connectSession:x}=bn(K),[v,b]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getAppPermissions],fetchWhenTrue:[x]}),[_,y]=B.useState(""),[P,I]=B.useState([]),E=B.useCallback(z2(R=>y(R.target.value),500),[500]),{currentStep:T}=m,U=(T&&R0[T].permissions)??[];return B.useEffect(V2(U,v,_,I,a),[v,_]),B.useEffect(q2(f),[]),t.jsx(pu,{children:b?t.jsx(un,{}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{className:v0,onChange:E,icon:"searchSystem",placeholder:"Search permissions to get started"}),t.jsx(Ci,{id:"select-permissions",defaultValues:U,noneSelectedLabel:P.length?"Options will appear below when you search":"Please select options from below",...s("scopes"),options:P}),((z=o==null?void 0:o.scopes)==null?void 0:z.message)&&t.jsx(Pe,{message:(D=o==null?void 0:o.scopes)==null?void 0:D.message})]})})},B2=({register:s,errors:a,getValues:o})=>{const{appWizardState:m}=ye(),{currentStep:f}=m;return t.jsxs(we,{className:ee(y0,Oe),isFlexColumn:!0,children:[f===F.applicationTypeStep&&t.jsx(U2,{}),f===F.agencyCloudStep&&t.jsx(xo,{register:s,errors:a}),f===F.externalAppStep&&t.jsx(vu,{}),f===F.dataFeedStep&&t.jsx(qa,{register:s,getValues:o,errors:a}),f===F.websiteFeedStep&&t.jsx(qa,{register:s,getValues:o,errors:a}),f===F.webServicesStep&&t.jsx(vu,{}),f===F.reapitConnectStep&&t.jsx(xo,{register:s,errors:a}),f===F.serverSideStep&&t.jsx(qa,{register:s,getValues:o,errors:a}),f===F.clientSideStep&&t.jsx(xo,{register:s,errors:a}),f===F.permissionsStep&&t.jsx(qa,{register:s,getValues:o,errors:a})]})};var Ba={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/Ba.exports,function(s,a){(function(){var o,m="4.17.21",f=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",v="Expected a function",b="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",y=500,P="__lodash_placeholder__",I=1,E=2,T=4,U=1,z=2,D=1,R=2,G=4,q=8,W=16,Q=32,X=64,H=128,me=256,re=512,ke=30,_e="...",Ge=800,pn=16,wn=1,Cn=2,rn=3,an=1/0,sn=9007199254740991,Xt=17976931348623157e292,Ke=NaN,Ye=4294967295,vr=Ye-1,tt=Ye>>>1,Jt=[["ary",H],["bind",D],["bindKey",R],["curry",q],["curryRight",W],["flip",re],["partial",Q],["partialRight",X],["rearg",me]],Gn="[object Arguments]",Tt="[object Array]",er="[object AsyncFunction]",rt="[object Boolean]",Yn="[object Date]",yr="[object DOMException]",it="[object Error]",hn="[object Function]",Pt="[object GeneratorFunction]",fn="[object Map]",Rt="[object Number]",Ni="[object Null]",Nn="[object Object]",ei="[object Promise]",Mi="[object Proxy]",Dt="[object RegExp]",gn="[object Set]",Nt="[object String]",nr="[object Symbol]",Ui="[object Undefined]",Mt="[object WeakMap]",Li="[object WeakSet]",Ut="[object ArrayBuffer]",mt="[object DataView]",jr="[object Float32Array]",br="[object Float64Array]",wr="[object Int8Array]",Cr="[object Int16Array]",_r="[object Int32Array]",Sr="[object Uint8Array]",kr="[object Uint8ClampedArray]",Ir="[object Uint16Array]",Ar="[object Uint32Array]",Oi=/\b__p \+= '';/g,Fi=/\b(__p \+=) '' \+/g,zi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,ti=/[&<>"']/g,Wi=RegExp(ni.source),Vi=RegExp(ti.source),qi=/<%-([\s\S]+?)%>/g,Bi=/<%([\s\S]+?)%>/g,ri=/<%=([\s\S]+?)%>/g,Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yi=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ii=/[\\^$.*+?()[\]{}|]/g,$a=RegExp(ii.source),Qa=/^\s+/,Hu=/\s/,Zu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$u=/\{\n\/\* \[wrapped with (.+)\] \*/,Qu=/,? & /,Ku=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xu=/[()=,{}\[\]\/\s]/,Ju=/\\(\\)?/g,ed=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,So=/\w*$/,nd=/^[-+]0x[0-9a-f]+$/i,td=/^0b[01]+$/i,rd=/^\[object .+?Constructor\]$/,id=/^0o[0-7]+$/i,ad=/^(?:0|[1-9]\d*)$/,sd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hi=/($^)/,od=/['\n\r\u2028\u2029\\]/g,Zi="\\ud800-\\udfff",ld="\\u0300-\\u036f",cd="\\ufe20-\\ufe2f",ud="\\u20d0-\\u20ff",ko=ld+cd+ud,Io="\\u2700-\\u27bf",Ao="a-z\\xdf-\\xf6\\xf8-\\xff",dd="\\xac\\xb1\\xd7\\xf7",pd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hd="\\u2000-\\u206f",fd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",To="\\ufe0e\\ufe0f",Po=dd+pd+hd+fd,Ka="['\u2019]",gd="["+Zi+"]",Ro="["+Po+"]",$i="["+ko+"]",Do="\\d+",md="["+Io+"]",No="["+Ao+"]",Mo="[^"+Zi+Po+Do+Io+Ao+Eo+"]",Xa="\\ud83c[\\udffb-\\udfff]",xd="(?:"+$i+"|"+Xa+")",Uo="[^"+Zi+"]",Ja="(?:\\ud83c[\\udde6-\\uddff]){2}",es="[\\ud800-\\udbff][\\udc00-\\udfff]",Er="["+Eo+"]",Lo="\\u200d",Oo="(?:"+No+"|"+Mo+")",vd="(?:"+Er+"|"+Mo+")",Fo="(?:"+Ka+"(?:d|ll|m|re|s|t|ve))?",zo="(?:"+Ka+"(?:D|LL|M|RE|S|T|VE))?",Wo=xd+"?",Vo="["+To+"]?",yd="(?:"+Lo+"(?:"+[Uo,Ja,es].join("|")+")"+Vo+Wo+")*",jd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qo=Vo+Wo+yd,wd="(?:"+[md,Ja,es].join("|")+")"+qo,Cd="(?:"+[Uo+$i+"?",$i,Ja,es,gd].join("|")+")",_d=RegExp(Ka,"g"),Sd=RegExp($i,"g"),ns=RegExp(Xa+"(?="+Xa+")|"+Cd+qo,"g"),kd=RegExp([Er+"?"+No+"+"+Fo+"(?="+[Ro,Er,"$"].join("|")+")",vd+"+"+zo+"(?="+[Ro,Er+Oo,"$"].join("|")+")",Er+"?"+Oo+"+"+Fo,Er+"+"+zo,bd,jd,Do,wd].join("|"),"g"),Id=RegExp("["+Lo+Zi+ko+To+"]"),Ad=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ed=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Td=-1,Ie={};Ie[jr]=Ie[br]=Ie[wr]=Ie[Cr]=Ie[_r]=Ie[Sr]=Ie[kr]=Ie[Ir]=Ie[Ar]=!0,Ie[Gn]=Ie[Tt]=Ie[Ut]=Ie[rt]=Ie[mt]=Ie[Yn]=Ie[it]=Ie[hn]=Ie[fn]=Ie[Rt]=Ie[Nn]=Ie[Dt]=Ie[gn]=Ie[Nt]=Ie[Mt]=!1;var Se={};Se[Gn]=Se[Tt]=Se[Ut]=Se[mt]=Se[rt]=Se[Yn]=Se[jr]=Se[br]=Se[wr]=Se[Cr]=Se[_r]=Se[fn]=Se[Rt]=Se[Nn]=Se[Dt]=Se[gn]=Se[Nt]=Se[nr]=Se[Sr]=Se[kr]=Se[Ir]=Se[Ar]=!0,Se[it]=Se[hn]=Se[Mt]=!1;var Pd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Rd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Md=parseFloat,Ud=parseInt,Bo=typeof _i=="object"&&_i&&_i.Object===Object&&_i,Ld=typeof self=="object"&&self&&self.Object===Object&&self,Ze=Bo||Ld||Function("return this")(),ts=a&&!a.nodeType&&a,tr=ts&&!0&&s&&!s.nodeType&&s,Go=tr&&tr.exports===ts,rs=Go&&Bo.process,Mn=function(){try{var h=tr&&tr.require&&tr.require("util").types;return h||rs&&rs.binding&&rs.binding("util")}catch{}}(),Yo=Mn&&Mn.isArrayBuffer,Ho=Mn&&Mn.isDate,Zo=Mn&&Mn.isMap,$o=Mn&&Mn.isRegExp,Qo=Mn&&Mn.isSet,Ko=Mn&&Mn.isTypedArray;function _n(h,C,j){switch(j.length){case 0:return h.call(C);case 1:return h.call(C,j[0]);case 2:return h.call(C,j[0],j[1]);case 3:return h.call(C,j[0],j[1],j[2])}return h.apply(C,j)}function Od(h,C,j,O){for(var J=-1,ve=h==null?0:h.length;++J<ve;){var We=h[J];C(O,We,j(We),h)}return O}function Un(h,C){for(var j=-1,O=h==null?0:h.length;++j<O&&C(h[j],j,h)!==!1;);return h}function Fd(h,C){for(var j=h==null?0:h.length;j--&&C(h[j],j,h)!==!1;);return h}function Xo(h,C){for(var j=-1,O=h==null?0:h.length;++j<O;)if(!C(h[j],j,h))return!1;return!0}function Ot(h,C){for(var j=-1,O=h==null?0:h.length,J=0,ve=[];++j<O;){var We=h[j];C(We,j,h)&&(ve[J++]=We)}return ve}function Qi(h,C){var j=h==null?0:h.length;return!!j&&Tr(h,C,0)>-1}function is(h,C,j){for(var O=-1,J=h==null?0:h.length;++O<J;)if(j(C,h[O]))return!0;return!1}function Ae(h,C){for(var j=-1,O=h==null?0:h.length,J=Array(O);++j<O;)J[j]=C(h[j],j,h);return J}function Ft(h,C){for(var j=-1,O=C.length,J=h.length;++j<O;)h[J+j]=C[j];return h}function as(h,C,j,O){var J=-1,ve=h==null?0:h.length;for(O&&ve&&(j=h[++J]);++J<ve;)j=C(j,h[J],J,h);return j}function zd(h,C,j,O){var J=h==null?0:h.length;for(O&&J&&(j=h[--J]);J--;)j=C(j,h[J],J,h);return j}function ss(h,C){for(var j=-1,O=h==null?0:h.length;++j<O;)if(C(h[j],j,h))return!0;return!1}var Wd=os("length");function Vd(h){return h.split("")}function qd(h){return h.match(Ku)||[]}function Jo(h,C,j){var O;return j(h,function(J,ve,We){if(C(J,ve,We))return O=ve,!1}),O}function Ki(h,C,j,O){for(var J=h.length,ve=j+(O?1:-1);O?ve--:++ve<J;)if(C(h[ve],ve,h))return ve;return-1}function Tr(h,C,j){return C===C?np(h,C,j):Ki(h,el,j)}function Bd(h,C,j,O){for(var J=j-1,ve=h.length;++J<ve;)if(O(h[J],C))return J;return-1}function el(h){return h!==h}function nl(h,C){var j=h==null?0:h.length;return j?cs(h,C)/j:Ke}function os(h){return function(C){return C==null?o:C[h]}}function ls(h){return function(C){return h==null?o:h[C]}}function tl(h,C,j,O,J){return J(h,function(ve,We,Ce){j=O?(O=!1,ve):C(j,ve,We,Ce)}),j}function Gd(h,C){var j=h.length;for(h.sort(C);j--;)h[j]=h[j].value;return h}function cs(h,C){for(var j,O=-1,J=h.length;++O<J;){var ve=C(h[O]);ve!==o&&(j=j===o?ve:j+ve)}return j}function us(h,C){for(var j=-1,O=Array(h);++j<h;)O[j]=C(j);return O}function Yd(h,C){return Ae(C,function(j){return[j,h[j]]})}function rl(h){return h&&h.slice(0,ol(h)+1).replace(Qa,"")}function Sn(h){return function(C){return h(C)}}function ds(h,C){return Ae(C,function(j){return h[j]})}function ai(h,C){return h.has(C)}function il(h,C){for(var j=-1,O=h.length;++j<O&&Tr(C,h[j],0)>-1;);return j}function al(h,C){for(var j=h.length;j--&&Tr(C,h[j],0)>-1;);return j}function Hd(h,C){for(var j=h.length,O=0;j--;)h[j]===C&&++O;return O}var Zd=ls(Pd),$d=ls(Rd);function Qd(h){return"\\"+Nd[h]}function Kd(h,C){return h==null?o:h[C]}function Pr(h){return Id.test(h)}function Xd(h){return Ad.test(h)}function Jd(h){for(var C,j=[];!(C=h.next()).done;)j.push(C.value);return j}function ps(h){var C=-1,j=Array(h.size);return h.forEach(function(O,J){j[++C]=[J,O]}),j}function sl(h,C){return function(j){return h(C(j))}}function zt(h,C){for(var j=-1,O=h.length,J=0,ve=[];++j<O;){var We=h[j];(We===C||We===P)&&(h[j]=P,ve[J++]=j)}return ve}function Xi(h){var C=-1,j=Array(h.size);return h.forEach(function(O){j[++C]=O}),j}function ep(h){var C=-1,j=Array(h.size);return h.forEach(function(O){j[++C]=[O,O]}),j}function np(h,C,j){for(var O=j-1,J=h.length;++O<J;)if(h[O]===C)return O;return-1}function tp(h,C,j){for(var O=j+1;O--;)if(h[O]===C)return O;return O}function Rr(h){return Pr(h)?ip(h):Wd(h)}function Hn(h){return Pr(h)?ap(h):Vd(h)}function ol(h){for(var C=h.length;C--&&Hu.test(h.charAt(C)););return C}var rp=ls(Dd);function ip(h){for(var C=ns.lastIndex=0;ns.test(h);)++C;return C}function ap(h){return h.match(ns)||[]}function sp(h){return h.match(kd)||[]}var op=function h(C){C=C==null?Ze:Dr.defaults(Ze.Object(),C,Dr.pick(Ze,Ed));var j=C.Array,O=C.Date,J=C.Error,ve=C.Function,We=C.Math,Ce=C.Object,hs=C.RegExp,lp=C.String,Ln=C.TypeError,Ji=j.prototype,cp=ve.prototype,Nr=Ce.prototype,ea=C["__core-js_shared__"],na=cp.toString,be=Nr.hasOwnProperty,up=0,ll=function(){var e=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ta=Nr.toString,dp=na.call(Ce),pp=Ze._,hp=hs("^"+na.call(be).replace(ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ra=Go?C.Buffer:o,Wt=C.Symbol,ia=C.Uint8Array,cl=ra?ra.allocUnsafe:o,aa=sl(Ce.getPrototypeOf,Ce),ul=Ce.create,dl=Nr.propertyIsEnumerable,sa=Ji.splice,pl=Wt?Wt.isConcatSpreadable:o,si=Wt?Wt.iterator:o,rr=Wt?Wt.toStringTag:o,oa=function(){try{var e=lr(Ce,"defineProperty");return e({},"",{}),e}catch{}}(),fp=C.clearTimeout!==Ze.clearTimeout&&C.clearTimeout,gp=O&&O.now!==Ze.Date.now&&O.now,mp=C.setTimeout!==Ze.setTimeout&&C.setTimeout,la=We.ceil,ca=We.floor,fs=Ce.getOwnPropertySymbols,xp=ra?ra.isBuffer:o,hl=C.isFinite,vp=Ji.join,yp=sl(Ce.keys,Ce),Ve=We.max,Xe=We.min,jp=O.now,bp=C.parseInt,fl=We.random,wp=Ji.reverse,gs=lr(C,"DataView"),oi=lr(C,"Map"),ms=lr(C,"Promise"),Mr=lr(C,"Set"),li=lr(C,"WeakMap"),ci=lr(Ce,"create"),ua=li&&new li,Ur={},Cp=cr(gs),_p=cr(oi),Sp=cr(ms),kp=cr(Mr),Ip=cr(li),da=Wt?Wt.prototype:o,ui=da?da.valueOf:o,gl=da?da.toString:o;function c(e){if(Te(e)&&!ne(e)&&!(e instanceof fe)){if(e instanceof On)return e;if(be.call(e,"__wrapped__"))return mc(e)}return new On(e)}var Lr=function(){function e(){}return function(n){if(!Ee(n))return{};if(ul)return ul(n);e.prototype=n;var r=new e;return e.prototype=o,r}}();function pa(){}function On(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}c.templateSettings={escape:qi,evaluate:Bi,interpolate:ri,variable:"",imports:{_:c}},c.prototype=pa.prototype,c.prototype.constructor=c,On.prototype=Lr(pa.prototype),On.prototype.constructor=On;function fe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ye,this.__views__=[]}function Ap(){var e=new fe(this.__wrapped__);return e.__actions__=mn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mn(this.__views__),e}function Ep(){if(this.__filtered__){var e=new fe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Tp(){var e=this.__wrapped__.value(),n=this.__dir__,r=ne(e),i=n<0,l=r?e.length:0,u=Vh(0,l,this.__views__),d=u.start,p=u.end,g=p-d,S=i?p:d-1,k=this.__iteratees__,A=k.length,M=0,V=Xe(g,this.__takeCount__);if(!r||!i&&l==g&&V==g)return Fl(e,this.__actions__);var Z=[];e:for(;g--&&M<V;){S+=n;for(var le=-1,$=e[S];++le<A;){var he=k[le],ge=he.iteratee,An=he.type,cn=ge($);if(An==Cn)$=cn;else if(!cn){if(An==wn)continue e;break e}}Z[M++]=$}return Z}fe.prototype=Lr(pa.prototype),fe.prototype.constructor=fe;function ir(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Pp(){this.__data__=ci?ci(null):{},this.size=0}function Rp(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Dp(e){var n=this.__data__;if(ci){var r=n[e];return r===_?o:r}return be.call(n,e)?n[e]:o}function Np(e){var n=this.__data__;return ci?n[e]!==o:be.call(n,e)}function Mp(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ci&&n===o?_:n,this}ir.prototype.clear=Pp,ir.prototype.delete=Rp,ir.prototype.get=Dp,ir.prototype.has=Np,ir.prototype.set=Mp;function xt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Up(){this.__data__=[],this.size=0}function Lp(e){var n=this.__data__,r=ha(n,e);if(r<0)return!1;var i=n.length-1;return r==i?n.pop():sa.call(n,r,1),--this.size,!0}function Op(e){var n=this.__data__,r=ha(n,e);return r<0?o:n[r][1]}function Fp(e){return ha(this.__data__,e)>-1}function zp(e,n){var r=this.__data__,i=ha(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}xt.prototype.clear=Up,xt.prototype.delete=Lp,xt.prototype.get=Op,xt.prototype.has=Fp,xt.prototype.set=zp;function vt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}function Wp(){this.size=0,this.__data__={hash:new ir,map:new(oi||xt),string:new ir}}function Vp(e){var n=Sa(this,e).delete(e);return this.size-=n?1:0,n}function qp(e){return Sa(this,e).get(e)}function Bp(e){return Sa(this,e).has(e)}function Gp(e,n){var r=Sa(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}vt.prototype.clear=Wp,vt.prototype.delete=Vp,vt.prototype.get=qp,vt.prototype.has=Bp,vt.prototype.set=Gp;function ar(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new vt;++n<r;)this.add(e[n])}function Yp(e){return this.__data__.set(e,_),this}function Hp(e){return this.__data__.has(e)}ar.prototype.add=ar.prototype.push=Yp,ar.prototype.has=Hp;function Zn(e){var n=this.__data__=new xt(e);this.size=n.size}function Zp(){this.__data__=new xt,this.size=0}function $p(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}function Qp(e){return this.__data__.get(e)}function Kp(e){return this.__data__.has(e)}function Xp(e,n){var r=this.__data__;if(r instanceof xt){var i=r.__data__;if(!oi||i.length<f-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new vt(i)}return r.set(e,n),this.size=r.size,this}Zn.prototype.clear=Zp,Zn.prototype.delete=$p,Zn.prototype.get=Qp,Zn.prototype.has=Kp,Zn.prototype.set=Xp;function ml(e,n){var r=ne(e),i=!r&&ur(e),l=!r&&!i&&Yt(e),u=!r&&!i&&!l&&Wr(e),d=r||i||l||u,p=d?us(e.length,lp):[],g=p.length;for(var S in e)(n||be.call(e,S))&&!(d&&(S=="length"||l&&(S=="offset"||S=="parent")||u&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||wt(S,g)))&&p.push(S);return p}function xl(e){var n=e.length;return n?e[Is(0,n-1)]:o}function Jp(e,n){return ka(mn(e),sr(n,0,e.length))}function eh(e){return ka(mn(e))}function xs(e,n,r){(r!==o&&!$n(e[n],r)||r===o&&!(n in e))&&yt(e,n,r)}function di(e,n,r){var i=e[n];(!(be.call(e,n)&&$n(i,r))||r===o&&!(n in e))&&yt(e,n,r)}function ha(e,n){for(var r=e.length;r--;)if($n(e[r][0],n))return r;return-1}function nh(e,n,r,i){return Vt(e,function(l,u,d){n(i,l,r(l),d)}),i}function vl(e,n){return e&&st(n,He(n),e)}function th(e,n){return e&&st(n,vn(n),e)}function yt(e,n,r){n=="__proto__"&&oa?oa(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function vs(e,n){for(var r=-1,i=n.length,l=j(i),u=e==null;++r<i;)l[r]=u?o:Xs(e,n[r]);return l}function sr(e,n,r){return e===e&&(r!==o&&(e=e<=r?e:r),n!==o&&(e=e>=n?e:n)),e}function Fn(e,n,r,i,l,u){var d,p=n&I,g=n&E,S=n&T;if(r&&(d=l?r(e,i,l,u):r(e)),d!==o)return d;if(!Ee(e))return e;var k=ne(e);if(k){if(d=Bh(e),!p)return mn(e,d)}else{var A=Je(e),M=A==hn||A==Pt;if(Yt(e))return Vl(e,p);if(A==Nn||A==Gn||M&&!l){if(d=g||M?{}:oc(e),!p)return g?Dh(e,th(d,e)):Rh(e,vl(d,e))}else{if(!Se[A])return l?e:{};d=Gh(e,A,p)}}u||(u=new Zn);var V=u.get(e);if(V)return V;u.set(e,d),Uc(e)?e.forEach(function($){d.add(Fn($,n,r,$,e,u))}):Nc(e)&&e.forEach(function($,he){d.set(he,Fn($,n,r,he,e,u))});var Z=S?g?Os:Ls:g?vn:He,le=k?o:Z(e);return Un(le||e,function($,he){le&&(he=$,$=e[he]),di(d,he,Fn($,n,r,he,e,u))}),d}function rh(e){var n=He(e);return function(r){return yl(r,e,n)}}function yl(e,n,r){var i=r.length;if(e==null)return!i;for(e=Ce(e);i--;){var l=r[i],u=n[l],d=e[l];if(d===o&&!(l in e)||!u(d))return!1}return!0}function jl(e,n,r){if(typeof e!="function")throw new Ln(v);return vi(function(){e.apply(o,r)},n)}function pi(e,n,r,i){var l=-1,u=Qi,d=!0,p=e.length,g=[],S=n.length;if(!p)return g;r&&(n=Ae(n,Sn(r))),i?(u=is,d=!1):n.length>=f&&(u=ai,d=!1,n=new ar(n));e:for(;++l<p;){var k=e[l],A=r==null?k:r(k);if(k=i||k!==0?k:0,d&&A===A){for(var M=S;M--;)if(n[M]===A)continue e;g.push(k)}else u(n,A,i)||g.push(k)}return g}var Vt=Hl(at),bl=Hl(js,!0);function ih(e,n){var r=!0;return Vt(e,function(i,l,u){return r=!!n(i,l,u),r}),r}function fa(e,n,r){for(var i=-1,l=e.length;++i<l;){var u=e[i],d=n(u);if(d!=null&&(p===o?d===d&&!In(d):r(d,p)))var p=d,g=u}return g}function ah(e,n,r,i){var l=e.length;for(r=ae(r),r<0&&(r=-r>l?0:l+r),i=i===o||i>l?l:ae(i),i<0&&(i+=l),i=r>i?0:Oc(i);r<i;)e[r++]=n;return e}function wl(e,n){var r=[];return Vt(e,function(i,l,u){n(i,l,u)&&r.push(i)}),r}function $e(e,n,r,i,l){var u=-1,d=e.length;for(r||(r=Hh),l||(l=[]);++u<d;){var p=e[u];n>0&&r(p)?n>1?$e(p,n-1,r,i,l):Ft(l,p):i||(l[l.length]=p)}return l}var ys=Zl(),Cl=Zl(!0);function at(e,n){return e&&ys(e,n,He)}function js(e,n){return e&&Cl(e,n,He)}function ga(e,n){return Ot(n,function(r){return Ct(e[r])})}function or(e,n){n=Bt(n,e);for(var r=0,i=n.length;e!=null&&r<i;)e=e[ot(n[r++])];return r&&r==i?e:o}function _l(e,n,r){var i=n(e);return ne(e)?i:Ft(i,r(e))}function on(e){return e==null?e===o?Ui:Ni:rr&&rr in Ce(e)?Wh(e):ef(e)}function bs(e,n){return e>n}function sh(e,n){return e!=null&&be.call(e,n)}function oh(e,n){return e!=null&&n in Ce(e)}function lh(e,n,r){return e>=Xe(n,r)&&e<Ve(n,r)}function ws(e,n,r){for(var i=r?is:Qi,l=e[0].length,u=e.length,d=u,p=j(u),g=1/0,S=[];d--;){var k=e[d];d&&n&&(k=Ae(k,Sn(n))),g=Xe(k.length,g),p[d]=!r&&(n||l>=120&&k.length>=120)?new ar(d&&k):o}k=e[0];var A=-1,M=p[0];e:for(;++A<l&&S.length<g;){var V=k[A],Z=n?n(V):V;if(V=r||V!==0?V:0,!(M?ai(M,Z):i(S,Z,r))){for(d=u;--d;){var le=p[d];if(!(le?ai(le,Z):i(e[d],Z,r)))continue e}M&&M.push(Z),S.push(V)}}return S}function ch(e,n,r,i){return at(e,function(l,u,d){n(i,r(l),u,d)}),i}function hi(e,n,r){n=Bt(n,e),e=dc(e,n);var i=e==null?e:e[ot(Wn(n))];return i==null?o:_n(i,e,r)}function Sl(e){return Te(e)&&on(e)==Gn}function uh(e){return Te(e)&&on(e)==Ut}function dh(e){return Te(e)&&on(e)==Yn}function fi(e,n,r,i,l){return e===n?!0:e==null||n==null||!Te(e)&&!Te(n)?e!==e&&n!==n:ph(e,n,r,i,fi,l)}function ph(e,n,r,i,l,u){var d=ne(e),p=ne(n),g=d?Tt:Je(e),S=p?Tt:Je(n);g=g==Gn?Nn:g,S=S==Gn?Nn:S;var k=g==Nn,A=S==Nn,M=g==S;if(M&&Yt(e)){if(!Yt(n))return!1;d=!0,k=!1}if(M&&!k)return u||(u=new Zn),d||Wr(e)?ic(e,n,r,i,l,u):Fh(e,n,g,r,i,l,u);if(!(r&U)){var V=k&&be.call(e,"__wrapped__"),Z=A&&be.call(n,"__wrapped__");if(V||Z){var le=V?e.value():e,$=Z?n.value():n;return u||(u=new Zn),l(le,$,r,i,u)}}return M?(u||(u=new Zn),zh(e,n,r,i,l,u)):!1}function hh(e){return Te(e)&&Je(e)==fn}function Cs(e,n,r,i){var l=r.length,u=l,d=!i;if(e==null)return!u;for(e=Ce(e);l--;){var p=r[l];if(d&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<u;){p=r[l];var g=p[0],S=e[g],k=p[1];if(d&&p[2]){if(S===o&&!(g in e))return!1}else{var A=new Zn;if(i)var M=i(S,k,g,e,n,A);if(!(M===o?fi(k,S,U|z,i,A):M))return!1}}return!0}function kl(e){if(!Ee(e)||$h(e))return!1;var n=Ct(e)?hp:rd;return n.test(cr(e))}function fh(e){return Te(e)&&on(e)==Dt}function gh(e){return Te(e)&&Je(e)==gn}function mh(e){return Te(e)&&Ra(e.length)&&!!Ie[on(e)]}function Il(e){return typeof e=="function"?e:e==null?yn:typeof e=="object"?ne(e)?Tl(e[0],e[1]):El(e):$c(e)}function _s(e){if(!xi(e))return yp(e);var n=[];for(var r in Ce(e))be.call(e,r)&&r!="constructor"&&n.push(r);return n}function xh(e){if(!Ee(e))return Jh(e);var n=xi(e),r=[];for(var i in e)i=="constructor"&&(n||!be.call(e,i))||r.push(i);return r}function Ss(e,n){return e<n}function Al(e,n){var r=-1,i=xn(e)?j(e.length):[];return Vt(e,function(l,u,d){i[++r]=n(l,u,d)}),i}function El(e){var n=zs(e);return n.length==1&&n[0][2]?cc(n[0][0],n[0][1]):function(r){return r===e||Cs(r,e,n)}}function Tl(e,n){return Vs(e)&&lc(n)?cc(ot(e),n):function(r){var i=Xs(r,e);return i===o&&i===n?Js(r,e):fi(n,i,U|z)}}function ma(e,n,r,i,l){e!==n&&ys(n,function(u,d){if(l||(l=new Zn),Ee(u))vh(e,n,d,r,ma,i,l);else{var p=i?i(Bs(e,d),u,d+"",e,n,l):o;p===o&&(p=u),xs(e,d,p)}},vn)}function vh(e,n,r,i,l,u,d){var p=Bs(e,r),g=Bs(n,r),S=d.get(g);if(S){xs(e,r,S);return}var k=u?u(p,g,r+"",e,n,d):o,A=k===o;if(A){var M=ne(g),V=!M&&Yt(g),Z=!M&&!V&&Wr(g);k=g,M||V||Z?ne(p)?k=p:De(p)?k=mn(p):V?(A=!1,k=Vl(g,!0)):Z?(A=!1,k=ql(g,!0)):k=[]:yi(g)||ur(g)?(k=p,ur(p)?k=Fc(p):(!Ee(p)||Ct(p))&&(k=oc(g))):A=!1}A&&(d.set(g,k),l(k,g,i,u,d),d.delete(g)),xs(e,r,k)}function Pl(e,n){var r=e.length;if(r)return n+=n<0?r:0,wt(n,r)?e[n]:o}function Rl(e,n,r){n.length?n=Ae(n,function(u){return ne(u)?function(d){return or(d,u.length===1?u[0]:u)}:u}):n=[yn];var i=-1;n=Ae(n,Sn(Y()));var l=Al(e,function(u,d,p){var g=Ae(n,function(S){return S(u)});return{criteria:g,index:++i,value:u}});return Gd(l,function(u,d){return Ph(u,d,r)})}function yh(e,n){return Dl(e,n,function(r,i){return Js(e,i)})}function Dl(e,n,r){for(var i=-1,l=n.length,u={};++i<l;){var d=n[i],p=or(e,d);r(p,d)&&gi(u,Bt(d,e),p)}return u}function jh(e){return function(n){return or(n,e)}}function ks(e,n,r,i){var l=i?Bd:Tr,u=-1,d=n.length,p=e;for(e===n&&(n=mn(n)),r&&(p=Ae(e,Sn(r)));++u<d;)for(var g=0,S=n[u],k=r?r(S):S;(g=l(p,k,g,i))>-1;)p!==e&&sa.call(p,g,1),sa.call(e,g,1);return e}function Nl(e,n){for(var r=e?n.length:0,i=r-1;r--;){var l=n[r];if(r==i||l!==u){var u=l;wt(l)?sa.call(e,l,1):Ts(e,l)}}return e}function Is(e,n){return e+ca(fl()*(n-e+1))}function bh(e,n,r,i){for(var l=-1,u=Ve(la((n-e)/(r||1)),0),d=j(u);u--;)d[i?u:++l]=e,e+=r;return d}function As(e,n){var r="";if(!e||n<1||n>sn)return r;do n%2&&(r+=e),n=ca(n/2),n&&(e+=e);while(n);return r}function ue(e,n){return Gs(uc(e,n,yn),e+"")}function wh(e){return xl(Vr(e))}function Ch(e,n){var r=Vr(e);return ka(r,sr(n,0,r.length))}function gi(e,n,r,i){if(!Ee(e))return e;n=Bt(n,e);for(var l=-1,u=n.length,d=u-1,p=e;p!=null&&++l<u;){var g=ot(n[l]),S=r;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(l!=d){var k=p[g];S=i?i(k,g,p):o,S===o&&(S=Ee(k)?k:wt(n[l+1])?[]:{})}di(p,g,S),p=p[g]}return e}var Ml=ua?function(e,n){return ua.set(e,n),e}:yn,_h=oa?function(e,n){return oa(e,"toString",{configurable:!0,enumerable:!1,value:no(n),writable:!0})}:yn;function Sh(e){return ka(Vr(e))}function zn(e,n,r){var i=-1,l=e.length;n<0&&(n=-n>l?0:l+n),r=r>l?l:r,r<0&&(r+=l),l=n>r?0:r-n>>>0,n>>>=0;for(var u=j(l);++i<l;)u[i]=e[i+n];return u}function kh(e,n){var r;return Vt(e,function(i,l,u){return r=n(i,l,u),!r}),!!r}function xa(e,n,r){var i=0,l=e==null?i:e.length;if(typeof n=="number"&&n===n&&l<=tt){for(;i<l;){var u=i+l>>>1,d=e[u];d!==null&&!In(d)&&(r?d<=n:d<n)?i=u+1:l=u}return l}return Es(e,n,yn,r)}function Es(e,n,r,i){var l=0,u=e==null?0:e.length;if(u===0)return 0;n=r(n);for(var d=n!==n,p=n===null,g=In(n),S=n===o;l<u;){var k=ca((l+u)/2),A=r(e[k]),M=A!==o,V=A===null,Z=A===A,le=In(A);if(d)var $=i||Z;else S?$=Z&&(i||M):p?$=Z&&M&&(i||!V):g?$=Z&&M&&!V&&(i||!le):V||le?$=!1:$=i?A<=n:A<n;$?l=k+1:u=k}return Xe(u,vr)}function Ul(e,n){for(var r=-1,i=e.length,l=0,u=[];++r<i;){var d=e[r],p=n?n(d):d;if(!r||!$n(p,g)){var g=p;u[l++]=d===0?0:d}}return u}function Ll(e){return typeof e=="number"?e:In(e)?Ke:+e}function kn(e){if(typeof e=="string")return e;if(ne(e))return Ae(e,kn)+"";if(In(e))return gl?gl.call(e):"";var n=e+"";return n=="0"&&1/e==-an?"-0":n}function qt(e,n,r){var i=-1,l=Qi,u=e.length,d=!0,p=[],g=p;if(r)d=!1,l=is;else if(u>=f){var S=n?null:Lh(e);if(S)return Xi(S);d=!1,l=ai,g=new ar}else g=n?[]:p;e:for(;++i<u;){var k=e[i],A=n?n(k):k;if(k=r||k!==0?k:0,d&&A===A){for(var M=g.length;M--;)if(g[M]===A)continue e;n&&g.push(A),p.push(k)}else l(g,A,r)||(g!==p&&g.push(A),p.push(k))}return p}function Ts(e,n){return n=Bt(n,e),e=dc(e,n),e==null||delete e[ot(Wn(n))]}function Ol(e,n,r,i){return gi(e,n,r(or(e,n)),i)}function va(e,n,r,i){for(var l=e.length,u=i?l:-1;(i?u--:++u<l)&&n(e[u],u,e););return r?zn(e,i?0:u,i?u+1:l):zn(e,i?u+1:0,i?l:u)}function Fl(e,n){var r=e;return r instanceof fe&&(r=r.value()),as(n,function(i,l){return l.func.apply(l.thisArg,Ft([i],l.args))},r)}function Ps(e,n,r){var i=e.length;if(i<2)return i?qt(e[0]):[];for(var l=-1,u=j(i);++l<i;)for(var d=e[l],p=-1;++p<i;)p!=l&&(u[l]=pi(u[l]||d,e[p],n,r));return qt($e(u,1),n,r)}function zl(e,n,r){for(var i=-1,l=e.length,u=n.length,d={};++i<l;){var p=i<u?n[i]:o;r(d,e[i],p)}return d}function Rs(e){return De(e)?e:[]}function Ds(e){return typeof e=="function"?e:yn}function Bt(e,n){return ne(e)?e:Vs(e,n)?[e]:gc(je(e))}var Ih=ue;function Gt(e,n,r){var i=e.length;return r=r===o?i:r,!n&&r>=i?e:zn(e,n,r)}var Wl=fp||function(e){return Ze.clearTimeout(e)};function Vl(e,n){if(n)return e.slice();var r=e.length,i=cl?cl(r):new e.constructor(r);return e.copy(i),i}function Ns(e){var n=new e.constructor(e.byteLength);return new ia(n).set(new ia(e)),n}function Ah(e,n){var r=n?Ns(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Eh(e){var n=new e.constructor(e.source,So.exec(e));return n.lastIndex=e.lastIndex,n}function Th(e){return ui?Ce(ui.call(e)):{}}function ql(e,n){var r=n?Ns(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Bl(e,n){if(e!==n){var r=e!==o,i=e===null,l=e===e,u=In(e),d=n!==o,p=n===null,g=n===n,S=In(n);if(!p&&!S&&!u&&e>n||u&&d&&g&&!p&&!S||i&&d&&g||!r&&g||!l)return 1;if(!i&&!u&&!S&&e<n||S&&r&&l&&!i&&!u||p&&r&&l||!d&&l||!g)return-1}return 0}function Ph(e,n,r){for(var i=-1,l=e.criteria,u=n.criteria,d=l.length,p=r.length;++i<d;){var g=Bl(l[i],u[i]);if(g){if(i>=p)return g;var S=r[i];return g*(S=="desc"?-1:1)}}return e.index-n.index}function Gl(e,n,r,i){for(var l=-1,u=e.length,d=r.length,p=-1,g=n.length,S=Ve(u-d,0),k=j(g+S),A=!i;++p<g;)k[p]=n[p];for(;++l<d;)(A||l<u)&&(k[r[l]]=e[l]);for(;S--;)k[p++]=e[l++];return k}function Yl(e,n,r,i){for(var l=-1,u=e.length,d=-1,p=r.length,g=-1,S=n.length,k=Ve(u-p,0),A=j(k+S),M=!i;++l<k;)A[l]=e[l];for(var V=l;++g<S;)A[V+g]=n[g];for(;++d<p;)(M||l<u)&&(A[V+r[d]]=e[l++]);return A}function mn(e,n){var r=-1,i=e.length;for(n||(n=j(i));++r<i;)n[r]=e[r];return n}function st(e,n,r,i){var l=!r;r||(r={});for(var u=-1,d=n.length;++u<d;){var p=n[u],g=i?i(r[p],e[p],p,r,e):o;g===o&&(g=e[p]),l?yt(r,p,g):di(r,p,g)}return r}function Rh(e,n){return st(e,Ws(e),n)}function Dh(e,n){return st(e,ac(e),n)}function ya(e,n){return function(r,i){var l=ne(r)?Od:nh,u=n?n():{};return l(r,e,Y(i,2),u)}}function Or(e){return ue(function(n,r){var i=-1,l=r.length,u=l>1?r[l-1]:o,d=l>2?r[2]:o;for(u=e.length>3&&typeof u=="function"?(l--,u):o,d&&ln(r[0],r[1],d)&&(u=l<3?o:u,l=1),n=Ce(n);++i<l;){var p=r[i];p&&e(n,p,i,u)}return n})}function Hl(e,n){return function(r,i){if(r==null)return r;if(!xn(r))return e(r,i);for(var l=r.length,u=n?l:-1,d=Ce(r);(n?u--:++u<l)&&i(d[u],u,d)!==!1;);return r}}function Zl(e){return function(n,r,i){for(var l=-1,u=Ce(n),d=i(n),p=d.length;p--;){var g=d[e?p:++l];if(r(u[g],g,u)===!1)break}return n}}function Nh(e,n,r){var i=n&D,l=mi(e);function u(){var d=this&&this!==Ze&&this instanceof u?l:e;return d.apply(i?r:this,arguments)}return u}function $l(e){return function(n){n=je(n);var r=Pr(n)?Hn(n):o,i=r?r[0]:n.charAt(0),l=r?Gt(r,1).join(""):n.slice(1);return i[e]()+l}}function Fr(e){return function(n){return as(Hc(Yc(n).replace(_d,"")),e,"")}}function mi(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Lr(e.prototype),i=e.apply(r,n);return Ee(i)?i:r}}function Mh(e,n,r){var i=mi(e);function l(){for(var u=arguments.length,d=j(u),p=u,g=zr(l);p--;)d[p]=arguments[p];var S=u<3&&d[0]!==g&&d[u-1]!==g?[]:zt(d,g);if(u-=S.length,u<r)return ec(e,n,ja,l.placeholder,o,d,S,o,o,r-u);var k=this&&this!==Ze&&this instanceof l?i:e;return _n(k,this,d)}return l}function Ql(e){return function(n,r,i){var l=Ce(n);if(!xn(n)){var u=Y(r,3);n=He(n),r=function(p){return u(l[p],p,l)}}var d=e(n,r,i);return d>-1?l[u?n[d]:d]:o}}function Kl(e){return bt(function(n){var r=n.length,i=r,l=On.prototype.thru;for(e&&n.reverse();i--;){var u=n[i];if(typeof u!="function")throw new Ln(v);if(l&&!d&&_a(u)=="wrapper")var d=new On([],!0)}for(i=d?i:r;++i<r;){u=n[i];var p=_a(u),g=p=="wrapper"?Fs(u):o;g&&qs(g[0])&&g[1]==(H|q|Q|me)&&!g[4].length&&g[9]==1?d=d[_a(g[0])].apply(d,g[3]):d=u.length==1&&qs(u)?d[p]():d.thru(u)}return function(){var S=arguments,k=S[0];if(d&&S.length==1&&ne(k))return d.plant(k).value();for(var A=0,M=r?n[A].apply(this,S):k;++A<r;)M=n[A].call(this,M);return M}})}function ja(e,n,r,i,l,u,d,p,g,S){var k=n&H,A=n&D,M=n&R,V=n&(q|W),Z=n&re,le=M?o:mi(e);function $(){for(var he=arguments.length,ge=j(he),An=he;An--;)ge[An]=arguments[An];if(V)var cn=zr($),En=Hd(ge,cn);if(i&&(ge=Gl(ge,i,l,V)),u&&(ge=Yl(ge,u,d,V)),he-=En,V&&he<S){var Ne=zt(ge,cn);return ec(e,n,ja,$.placeholder,r,ge,Ne,p,g,S-he)}var Qn=A?r:this,St=M?Qn[e]:e;return he=ge.length,p?ge=nf(ge,p):Z&&he>1&&ge.reverse(),k&&g<he&&(ge.length=g),this&&this!==Ze&&this instanceof $&&(St=le||mi(St)),St.apply(Qn,ge)}return $}function Xl(e,n){return function(r,i){return ch(r,e,n(i),{})}}function ba(e,n){return function(r,i){var l;if(r===o&&i===o)return n;if(r!==o&&(l=r),i!==o){if(l===o)return i;typeof r=="string"||typeof i=="string"?(r=kn(r),i=kn(i)):(r=Ll(r),i=Ll(i)),l=e(r,i)}return l}}function Ms(e){return bt(function(n){return n=Ae(n,Sn(Y())),ue(function(r){var i=this;return e(n,function(l){return _n(l,i,r)})})})}function wa(e,n){n=n===o?" ":kn(n);var r=n.length;if(r<2)return r?As(n,e):n;var i=As(n,la(e/Rr(n)));return Pr(n)?Gt(Hn(i),0,e).join(""):i.slice(0,e)}function Uh(e,n,r,i){var l=n&D,u=mi(e);function d(){for(var p=-1,g=arguments.length,S=-1,k=i.length,A=j(k+g),M=this&&this!==Ze&&this instanceof d?u:e;++S<k;)A[S]=i[S];for(;g--;)A[S++]=arguments[++p];return _n(M,l?r:this,A)}return d}function Jl(e){return function(n,r,i){return i&&typeof i!="number"&&ln(n,r,i)&&(r=i=o),n=_t(n),r===o?(r=n,n=0):r=_t(r),i=i===o?n<r?1:-1:_t(i),bh(n,r,i,e)}}function Ca(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=Vn(n),r=Vn(r)),e(n,r)}}function ec(e,n,r,i,l,u,d,p,g,S){var k=n&q,A=k?d:o,M=k?o:d,V=k?u:o,Z=k?o:u;n|=k?Q:X,n&=~(k?X:Q),n&G||(n&=~(D|R));var le=[e,n,l,V,A,Z,M,p,g,S],$=r.apply(o,le);return qs(e)&&pc($,le),$.placeholder=i,hc($,e,n)}function Us(e){var n=We[e];return function(r,i){if(r=Vn(r),i=i==null?0:Xe(ae(i),292),i&&hl(r)){var l=(je(r)+"e").split("e"),u=n(l[0]+"e"+(+l[1]+i));return l=(je(u)+"e").split("e"),+(l[0]+"e"+(+l[1]-i))}return n(r)}}var Lh=Mr&&1/Xi(new Mr([,-0]))[1]==an?function(e){return new Mr(e)}:io;function nc(e){return function(n){var r=Je(n);return r==fn?ps(n):r==gn?ep(n):Yd(n,e(n))}}function jt(e,n,r,i,l,u,d,p){var g=n&R;if(!g&&typeof e!="function")throw new Ln(v);var S=i?i.length:0;if(S||(n&=~(Q|X),i=l=o),d=d===o?d:Ve(ae(d),0),p=p===o?p:ae(p),S-=l?l.length:0,n&X){var k=i,A=l;i=l=o}var M=g?o:Fs(e),V=[e,n,r,i,l,k,A,u,d,p];if(M&&Xh(V,M),e=V[0],n=V[1],r=V[2],i=V[3],l=V[4],p=V[9]=V[9]===o?g?0:e.length:Ve(V[9]-S,0),!p&&n&(q|W)&&(n&=~(q|W)),!n||n==D)var Z=Nh(e,n,r);else n==q||n==W?Z=Mh(e,n,p):(n==Q||n==(D|Q))&&!l.length?Z=Uh(e,n,r,i):Z=ja.apply(o,V);var le=M?Ml:pc;return hc(le(Z,V),e,n)}function tc(e,n,r,i){return e===o||$n(e,Nr[r])&&!be.call(i,r)?n:e}function rc(e,n,r,i,l,u){return Ee(e)&&Ee(n)&&(u.set(n,e),ma(e,n,o,rc,u),u.delete(n)),e}function Oh(e){return yi(e)?o:e}function ic(e,n,r,i,l,u){var d=r&U,p=e.length,g=n.length;if(p!=g&&!(d&&g>p))return!1;var S=u.get(e),k=u.get(n);if(S&&k)return S==n&&k==e;var A=-1,M=!0,V=r&z?new ar:o;for(u.set(e,n),u.set(n,e);++A<p;){var Z=e[A],le=n[A];if(i)var $=d?i(le,Z,A,n,e,u):i(Z,le,A,e,n,u);if($!==o){if($)continue;M=!1;break}if(V){if(!ss(n,function(he,ge){if(!ai(V,ge)&&(Z===he||l(Z,he,r,i,u)))return V.push(ge)})){M=!1;break}}else if(!(Z===le||l(Z,le,r,i,u))){M=!1;break}}return u.delete(e),u.delete(n),M}function Fh(e,n,r,i,l,u,d){switch(r){case mt:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ut:return!(e.byteLength!=n.byteLength||!u(new ia(e),new ia(n)));case rt:case Yn:case Rt:return $n(+e,+n);case it:return e.name==n.name&&e.message==n.message;case Dt:case Nt:return e==n+"";case fn:var p=ps;case gn:var g=i&U;if(p||(p=Xi),e.size!=n.size&&!g)return!1;var S=d.get(e);if(S)return S==n;i|=z,d.set(e,n);var k=ic(p(e),p(n),i,l,u,d);return d.delete(e),k;case nr:if(ui)return ui.call(e)==ui.call(n)}return!1}function zh(e,n,r,i,l,u){var d=r&U,p=Ls(e),g=p.length,S=Ls(n),k=S.length;if(g!=k&&!d)return!1;for(var A=g;A--;){var M=p[A];if(!(d?M in n:be.call(n,M)))return!1}var V=u.get(e),Z=u.get(n);if(V&&Z)return V==n&&Z==e;var le=!0;u.set(e,n),u.set(n,e);for(var $=d;++A<g;){M=p[A];var he=e[M],ge=n[M];if(i)var An=d?i(ge,he,M,n,e,u):i(he,ge,M,e,n,u);if(!(An===o?he===ge||l(he,ge,r,i,u):An)){le=!1;break}$||($=M=="constructor")}if(le&&!$){var cn=e.constructor,En=n.constructor;cn!=En&&"constructor"in e&&"constructor"in n&&!(typeof cn=="function"&&cn instanceof cn&&typeof En=="function"&&En instanceof En)&&(le=!1)}return u.delete(e),u.delete(n),le}function bt(e){return Gs(uc(e,o,yc),e+"")}function Ls(e){return _l(e,He,Ws)}function Os(e){return _l(e,vn,ac)}var Fs=ua?function(e){return ua.get(e)}:io;function _a(e){for(var n=e.name+"",r=Ur[n],i=be.call(Ur,n)?r.length:0;i--;){var l=r[i],u=l.func;if(u==null||u==e)return l.name}return n}function zr(e){var n=be.call(c,"placeholder")?c:e;return n.placeholder}function Y(){var e=c.iteratee||to;return e=e===to?Il:e,arguments.length?e(arguments[0],arguments[1]):e}function Sa(e,n){var r=e.__data__;return Zh(n)?r[typeof n=="string"?"string":"hash"]:r.map}function zs(e){for(var n=He(e),r=n.length;r--;){var i=n[r],l=e[i];n[r]=[i,l,lc(l)]}return n}function lr(e,n){var r=Kd(e,n);return kl(r)?r:o}function Wh(e){var n=be.call(e,rr),r=e[rr];try{e[rr]=o;var i=!0}catch{}var l=ta.call(e);return i&&(n?e[rr]=r:delete e[rr]),l}var Ws=fs?function(e){return e==null?[]:(e=Ce(e),Ot(fs(e),function(n){return dl.call(e,n)}))}:ao,ac=fs?function(e){for(var n=[];e;)Ft(n,Ws(e)),e=aa(e);return n}:ao,Je=on;(gs&&Je(new gs(new ArrayBuffer(1)))!=mt||oi&&Je(new oi)!=fn||ms&&Je(ms.resolve())!=ei||Mr&&Je(new Mr)!=gn||li&&Je(new li)!=Mt)&&(Je=function(e){var n=on(e),r=n==Nn?e.constructor:o,i=r?cr(r):"";if(i)switch(i){case Cp:return mt;case _p:return fn;case Sp:return ei;case kp:return gn;case Ip:return Mt}return n});function Vh(e,n,r){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=u.size;switch(u.type){case"drop":e+=d;break;case"dropRight":n-=d;break;case"take":n=Xe(n,e+d);break;case"takeRight":e=Ve(e,n-d);break}}return{start:e,end:n}}function qh(e){var n=e.match($u);return n?n[1].split(Qu):[]}function sc(e,n,r){n=Bt(n,e);for(var i=-1,l=n.length,u=!1;++i<l;){var d=ot(n[i]);if(!(u=e!=null&&r(e,d)))break;e=e[d]}return u||++i!=l?u:(l=e==null?0:e.length,!!l&&Ra(l)&&wt(d,l)&&(ne(e)||ur(e)))}function Bh(e){var n=e.length,r=new e.constructor(n);return n&&typeof e[0]=="string"&&be.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function oc(e){return typeof e.constructor=="function"&&!xi(e)?Lr(aa(e)):{}}function Gh(e,n,r){var i=e.constructor;switch(n){case Ut:return Ns(e);case rt:case Yn:return new i(+e);case mt:return Ah(e,r);case jr:case br:case wr:case Cr:case _r:case Sr:case kr:case Ir:case Ar:return ql(e,r);case fn:return new i;case Rt:case Nt:return new i(e);case Dt:return Eh(e);case gn:return new i;case nr:return Th(e)}}function Yh(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(Zu,`{
/* [wrapped with `+n+`] */
`)}function Hh(e){return ne(e)||ur(e)||!!(pl&&e&&e[pl])}function wt(e,n){var r=typeof e;return n=n??sn,!!n&&(r=="number"||r!="symbol"&&ad.test(e))&&e>-1&&e%1==0&&e<n}function ln(e,n,r){if(!Ee(r))return!1;var i=typeof n;return(i=="number"?xn(r)&&wt(n,r.length):i=="string"&&n in r)?$n(r[n],e):!1}function Vs(e,n){if(ne(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||In(e)?!0:Yi.test(e)||!Gi.test(e)||n!=null&&e in Ce(n)}function Zh(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function qs(e){var n=_a(e),r=c[n];if(typeof r!="function"||!(n in fe.prototype))return!1;if(e===r)return!0;var i=Fs(r);return!!i&&e===i[0]}function $h(e){return!!ll&&ll in e}var Qh=ea?Ct:so;function xi(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Nr;return e===r}function lc(e){return e===e&&!Ee(e)}function cc(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==o||e in Ce(r))}}function Kh(e){var n=Ta(e,function(i){return r.size===y&&r.clear(),i}),r=n.cache;return n}function Xh(e,n){var r=e[1],i=n[1],l=r|i,u=l<(D|R|H),d=i==H&&r==q||i==H&&r==me&&e[7].length<=n[8]||i==(H|me)&&n[7].length<=n[8]&&r==q;if(!(u||d))return e;i&D&&(e[2]=n[2],l|=r&D?0:G);var p=n[3];if(p){var g=e[3];e[3]=g?Gl(g,p,n[4]):p,e[4]=g?zt(e[3],P):n[4]}return p=n[5],p&&(g=e[5],e[5]=g?Yl(g,p,n[6]):p,e[6]=g?zt(e[5],P):n[6]),p=n[7],p&&(e[7]=p),i&H&&(e[8]=e[8]==null?n[8]:Xe(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=l,e}function Jh(e){var n=[];if(e!=null)for(var r in Ce(e))n.push(r);return n}function ef(e){return ta.call(e)}function uc(e,n,r){return n=Ve(n===o?e.length-1:n,0),function(){for(var i=arguments,l=-1,u=Ve(i.length-n,0),d=j(u);++l<u;)d[l]=i[n+l];l=-1;for(var p=j(n+1);++l<n;)p[l]=i[l];return p[n]=r(d),_n(e,this,p)}}function dc(e,n){return n.length<2?e:or(e,zn(n,0,-1))}function nf(e,n){for(var r=e.length,i=Xe(n.length,r),l=mn(e);i--;){var u=n[i];e[i]=wt(u,r)?l[u]:o}return e}function Bs(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var pc=fc(Ml),vi=mp||function(e,n){return Ze.setTimeout(e,n)},Gs=fc(_h);function hc(e,n,r){var i=n+"";return Gs(e,Yh(i,tf(qh(i),r)))}function fc(e){var n=0,r=0;return function(){var i=jp(),l=pn-(i-r);if(r=i,l>0){if(++n>=Ge)return arguments[0]}else n=0;return e.apply(o,arguments)}}function ka(e,n){var r=-1,i=e.length,l=i-1;for(n=n===o?i:n;++r<n;){var u=Is(r,l),d=e[u];e[u]=e[r],e[r]=d}return e.length=n,e}var gc=Kh(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Lt,function(r,i,l,u){n.push(l?u.replace(Ju,"$1"):i||r)}),n});function ot(e){if(typeof e=="string"||In(e))return e;var n=e+"";return n=="0"&&1/e==-an?"-0":n}function cr(e){if(e!=null){try{return na.call(e)}catch{}try{return e+""}catch{}}return""}function tf(e,n){return Un(Jt,function(r){var i="_."+r[0];n&r[1]&&!Qi(e,i)&&e.push(i)}),e.sort()}function mc(e){if(e instanceof fe)return e.clone();var n=new On(e.__wrapped__,e.__chain__);return n.__actions__=mn(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function rf(e,n,r){(r?ln(e,n,r):n===o)?n=1:n=Ve(ae(n),0);var i=e==null?0:e.length;if(!i||n<1)return[];for(var l=0,u=0,d=j(la(i/n));l<i;)d[u++]=zn(e,l,l+=n);return d}function af(e){for(var n=-1,r=e==null?0:e.length,i=0,l=[];++n<r;){var u=e[n];u&&(l[i++]=u)}return l}function sf(){var e=arguments.length;if(!e)return[];for(var n=j(e-1),r=arguments[0],i=e;i--;)n[i-1]=arguments[i];return Ft(ne(r)?mn(r):[r],$e(n,1))}var of=ue(function(e,n){return De(e)?pi(e,$e(n,1,De,!0)):[]}),lf=ue(function(e,n){var r=Wn(n);return De(r)&&(r=o),De(e)?pi(e,$e(n,1,De,!0),Y(r,2)):[]}),cf=ue(function(e,n){var r=Wn(n);return De(r)&&(r=o),De(e)?pi(e,$e(n,1,De,!0),o,r):[]});function uf(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===o?1:ae(n),zn(e,n<0?0:n,i)):[]}function df(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===o?1:ae(n),n=i-n,zn(e,0,n<0?0:n)):[]}function pf(e,n){return e&&e.length?va(e,Y(n,3),!0,!0):[]}function hf(e,n){return e&&e.length?va(e,Y(n,3),!0):[]}function ff(e,n,r,i){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&ln(e,n,r)&&(r=0,i=l),ah(e,n,r,i)):[]}function xc(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=r==null?0:ae(r);return l<0&&(l=Ve(i+l,0)),Ki(e,Y(n,3),l)}function vc(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=i-1;return r!==o&&(l=ae(r),l=r<0?Ve(i+l,0):Xe(l,i-1)),Ki(e,Y(n,3),l,!0)}function yc(e){var n=e==null?0:e.length;return n?$e(e,1):[]}function gf(e){var n=e==null?0:e.length;return n?$e(e,an):[]}function mf(e,n){var r=e==null?0:e.length;return r?(n=n===o?1:ae(n),$e(e,n)):[]}function xf(e){for(var n=-1,r=e==null?0:e.length,i={};++n<r;){var l=e[n];i[l[0]]=l[1]}return i}function jc(e){return e&&e.length?e[0]:o}function vf(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=r==null?0:ae(r);return l<0&&(l=Ve(i+l,0)),Tr(e,n,l)}function yf(e){var n=e==null?0:e.length;return n?zn(e,0,-1):[]}var jf=ue(function(e){var n=Ae(e,Rs);return n.length&&n[0]===e[0]?ws(n):[]}),bf=ue(function(e){var n=Wn(e),r=Ae(e,Rs);return n===Wn(r)?n=o:r.pop(),r.length&&r[0]===e[0]?ws(r,Y(n,2)):[]}),wf=ue(function(e){var n=Wn(e),r=Ae(e,Rs);return n=typeof n=="function"?n:o,n&&r.pop(),r.length&&r[0]===e[0]?ws(r,o,n):[]});function Cf(e,n){return e==null?"":vp.call(e,n)}function Wn(e){var n=e==null?0:e.length;return n?e[n-1]:o}function _f(e,n,r){var i=e==null?0:e.length;if(!i)return-1;var l=i;return r!==o&&(l=ae(r),l=l<0?Ve(i+l,0):Xe(l,i-1)),n===n?tp(e,n,l):Ki(e,el,l,!0)}function Sf(e,n){return e&&e.length?Pl(e,ae(n)):o}var kf=ue(bc);function bc(e,n){return e&&e.length&&n&&n.length?ks(e,n):e}function If(e,n,r){return e&&e.length&&n&&n.length?ks(e,n,Y(r,2)):e}function Af(e,n,r){return e&&e.length&&n&&n.length?ks(e,n,o,r):e}var Ef=bt(function(e,n){var r=e==null?0:e.length,i=vs(e,n);return Nl(e,Ae(n,function(l){return wt(l,r)?+l:l}).sort(Bl)),i});function Tf(e,n){var r=[];if(!(e&&e.length))return r;var i=-1,l=[],u=e.length;for(n=Y(n,3);++i<u;){var d=e[i];n(d,i,e)&&(r.push(d),l.push(i))}return Nl(e,l),r}function Ys(e){return e==null?e:wp.call(e)}function Pf(e,n,r){var i=e==null?0:e.length;return i?(r&&typeof r!="number"&&ln(e,n,r)?(n=0,r=i):(n=n==null?0:ae(n),r=r===o?i:ae(r)),zn(e,n,r)):[]}function Rf(e,n){return xa(e,n)}function Df(e,n,r){return Es(e,n,Y(r,2))}function Nf(e,n){var r=e==null?0:e.length;if(r){var i=xa(e,n);if(i<r&&$n(e[i],n))return i}return-1}function Mf(e,n){return xa(e,n,!0)}function Uf(e,n,r){return Es(e,n,Y(r,2),!0)}function Lf(e,n){var r=e==null?0:e.length;if(r){var i=xa(e,n,!0)-1;if($n(e[i],n))return i}return-1}function Of(e){return e&&e.length?Ul(e):[]}function Ff(e,n){return e&&e.length?Ul(e,Y(n,2)):[]}function zf(e){var n=e==null?0:e.length;return n?zn(e,1,n):[]}function Wf(e,n,r){return e&&e.length?(n=r||n===o?1:ae(n),zn(e,0,n<0?0:n)):[]}function Vf(e,n,r){var i=e==null?0:e.length;return i?(n=r||n===o?1:ae(n),n=i-n,zn(e,n<0?0:n,i)):[]}function qf(e,n){return e&&e.length?va(e,Y(n,3),!1,!0):[]}function Bf(e,n){return e&&e.length?va(e,Y(n,3)):[]}var Gf=ue(function(e){return qt($e(e,1,De,!0))}),Yf=ue(function(e){var n=Wn(e);return De(n)&&(n=o),qt($e(e,1,De,!0),Y(n,2))}),Hf=ue(function(e){var n=Wn(e);return n=typeof n=="function"?n:o,qt($e(e,1,De,!0),o,n)});function Zf(e){return e&&e.length?qt(e):[]}function $f(e,n){return e&&e.length?qt(e,Y(n,2)):[]}function Qf(e,n){return n=typeof n=="function"?n:o,e&&e.length?qt(e,o,n):[]}function Hs(e){if(!(e&&e.length))return[];var n=0;return e=Ot(e,function(r){if(De(r))return n=Ve(r.length,n),!0}),us(n,function(r){return Ae(e,os(r))})}function wc(e,n){if(!(e&&e.length))return[];var r=Hs(e);return n==null?r:Ae(r,function(i){return _n(n,o,i)})}var Kf=ue(function(e,n){return De(e)?pi(e,n):[]}),Xf=ue(function(e){return Ps(Ot(e,De))}),Jf=ue(function(e){var n=Wn(e);return De(n)&&(n=o),Ps(Ot(e,De),Y(n,2))}),e1=ue(function(e){var n=Wn(e);return n=typeof n=="function"?n:o,Ps(Ot(e,De),o,n)}),n1=ue(Hs);function t1(e,n){return zl(e||[],n||[],di)}function r1(e,n){return zl(e||[],n||[],gi)}var i1=ue(function(e){var n=e.length,r=n>1?e[n-1]:o;return r=typeof r=="function"?(e.pop(),r):o,wc(e,r)});function Cc(e){var n=c(e);return n.__chain__=!0,n}function a1(e,n){return n(e),e}function Ia(e,n){return n(e)}var s1=bt(function(e){var n=e.length,r=n?e[0]:0,i=this.__wrapped__,l=function(u){return vs(u,e)};return n>1||this.__actions__.length||!(i instanceof fe)||!wt(r)?this.thru(l):(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:Ia,args:[l],thisArg:o}),new On(i,this.__chain__).thru(function(u){return n&&!u.length&&u.push(o),u}))});function o1(){return Cc(this)}function l1(){return new On(this.value(),this.__chain__)}function c1(){this.__values__===o&&(this.__values__=Lc(this.value()));var e=this.__index__>=this.__values__.length,n=e?o:this.__values__[this.__index__++];return{done:e,value:n}}function u1(){return this}function d1(e){for(var n,r=this;r instanceof pa;){var i=mc(r);i.__index__=0,i.__values__=o,n?l.__wrapped__=i:n=i;var l=i;r=r.__wrapped__}return l.__wrapped__=e,n}function p1(){var e=this.__wrapped__;if(e instanceof fe){var n=e;return this.__actions__.length&&(n=new fe(this)),n=n.reverse(),n.__actions__.push({func:Ia,args:[Ys],thisArg:o}),new On(n,this.__chain__)}return this.thru(Ys)}function h1(){return Fl(this.__wrapped__,this.__actions__)}var f1=ya(function(e,n,r){be.call(e,r)?++e[r]:yt(e,r,1)});function g1(e,n,r){var i=ne(e)?Xo:ih;return r&&ln(e,n,r)&&(n=o),i(e,Y(n,3))}function m1(e,n){var r=ne(e)?Ot:wl;return r(e,Y(n,3))}var x1=Ql(xc),v1=Ql(vc);function y1(e,n){return $e(Aa(e,n),1)}function j1(e,n){return $e(Aa(e,n),an)}function b1(e,n,r){return r=r===o?1:ae(r),$e(Aa(e,n),r)}function _c(e,n){var r=ne(e)?Un:Vt;return r(e,Y(n,3))}function Sc(e,n){var r=ne(e)?Fd:bl;return r(e,Y(n,3))}var w1=ya(function(e,n,r){be.call(e,r)?e[r].push(n):yt(e,r,[n])});function C1(e,n,r,i){e=xn(e)?e:Vr(e),r=r&&!i?ae(r):0;var l=e.length;return r<0&&(r=Ve(l+r,0)),Da(e)?r<=l&&e.indexOf(n,r)>-1:!!l&&Tr(e,n,r)>-1}var _1=ue(function(e,n,r){var i=-1,l=typeof n=="function",u=xn(e)?j(e.length):[];return Vt(e,function(d){u[++i]=l?_n(n,d,r):hi(d,n,r)}),u}),S1=ya(function(e,n,r){yt(e,r,n)});function Aa(e,n){var r=ne(e)?Ae:Al;return r(e,Y(n,3))}function k1(e,n,r,i){return e==null?[]:(ne(n)||(n=n==null?[]:[n]),r=i?o:r,ne(r)||(r=r==null?[]:[r]),Rl(e,n,r))}var I1=ya(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]});function A1(e,n,r){var i=ne(e)?as:tl,l=arguments.length<3;return i(e,Y(n,4),r,l,Vt)}function E1(e,n,r){var i=ne(e)?zd:tl,l=arguments.length<3;return i(e,Y(n,4),r,l,bl)}function T1(e,n){var r=ne(e)?Ot:wl;return r(e,Pa(Y(n,3)))}function P1(e){var n=ne(e)?xl:wh;return n(e)}function R1(e,n,r){(r?ln(e,n,r):n===o)?n=1:n=ae(n);var i=ne(e)?Jp:Ch;return i(e,n)}function D1(e){var n=ne(e)?eh:Sh;return n(e)}function N1(e){if(e==null)return 0;if(xn(e))return Da(e)?Rr(e):e.length;var n=Je(e);return n==fn||n==gn?e.size:_s(e).length}function M1(e,n,r){var i=ne(e)?ss:kh;return r&&ln(e,n,r)&&(n=o),i(e,Y(n,3))}var U1=ue(function(e,n){if(e==null)return[];var r=n.length;return r>1&&ln(e,n[0],n[1])?n=[]:r>2&&ln(n[0],n[1],n[2])&&(n=[n[0]]),Rl(e,$e(n,1),[])}),Ea=gp||function(){return Ze.Date.now()};function L1(e,n){if(typeof n!="function")throw new Ln(v);return e=ae(e),function(){if(--e<1)return n.apply(this,arguments)}}function kc(e,n,r){return n=r?o:n,n=e&&n==null?e.length:n,jt(e,H,o,o,o,o,n)}function Ic(e,n){var r;if(typeof n!="function")throw new Ln(v);return e=ae(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=o),r}}var Zs=ue(function(e,n,r){var i=D;if(r.length){var l=zt(r,zr(Zs));i|=Q}return jt(e,i,n,r,l)}),Ac=ue(function(e,n,r){var i=D|R;if(r.length){var l=zt(r,zr(Ac));i|=Q}return jt(n,i,e,r,l)});function Ec(e,n,r){n=r?o:n;var i=jt(e,q,o,o,o,o,o,n);return i.placeholder=Ec.placeholder,i}function Tc(e,n,r){n=r?o:n;var i=jt(e,W,o,o,o,o,o,n);return i.placeholder=Tc.placeholder,i}function Pc(e,n,r){var i,l,u,d,p,g,S=0,k=!1,A=!1,M=!0;if(typeof e!="function")throw new Ln(v);n=Vn(n)||0,Ee(r)&&(k=!!r.leading,A="maxWait"in r,u=A?Ve(Vn(r.maxWait)||0,n):u,M="trailing"in r?!!r.trailing:M);function V(Ne){var Qn=i,St=l;return i=l=o,S=Ne,d=e.apply(St,Qn),d}function Z(Ne){return S=Ne,p=vi(he,n),k?V(Ne):d}function le(Ne){var Qn=Ne-g,St=Ne-S,Qc=n-Qn;return A?Xe(Qc,u-St):Qc}function $(Ne){var Qn=Ne-g,St=Ne-S;return g===o||Qn>=n||Qn<0||A&&St>=u}function he(){var Ne=Ea();if($(Ne))return ge(Ne);p=vi(he,le(Ne))}function ge(Ne){return p=o,M&&i?V(Ne):(i=l=o,d)}function An(){p!==o&&Wl(p),S=0,i=g=l=p=o}function cn(){return p===o?d:ge(Ea())}function En(){var Ne=Ea(),Qn=$(Ne);if(i=arguments,l=this,g=Ne,Qn){if(p===o)return Z(g);if(A)return Wl(p),p=vi(he,n),V(g)}return p===o&&(p=vi(he,n)),d}return En.cancel=An,En.flush=cn,En}var O1=ue(function(e,n){return jl(e,1,n)}),F1=ue(function(e,n,r){return jl(e,Vn(n)||0,r)});function z1(e){return jt(e,re)}function Ta(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Ln(v);var r=function(){var i=arguments,l=n?n.apply(this,i):i[0],u=r.cache;if(u.has(l))return u.get(l);var d=e.apply(this,i);return r.cache=u.set(l,d)||u,d};return r.cache=new(Ta.Cache||vt),r}Ta.Cache=vt;function Pa(e){if(typeof e!="function")throw new Ln(v);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function W1(e){return Ic(2,e)}var V1=Ih(function(e,n){n=n.length==1&&ne(n[0])?Ae(n[0],Sn(Y())):Ae($e(n,1),Sn(Y()));var r=n.length;return ue(function(i){for(var l=-1,u=Xe(i.length,r);++l<u;)i[l]=n[l].call(this,i[l]);return _n(e,this,i)})}),$s=ue(function(e,n){var r=zt(n,zr($s));return jt(e,Q,o,n,r)}),Rc=ue(function(e,n){var r=zt(n,zr(Rc));return jt(e,X,o,n,r)}),q1=bt(function(e,n){return jt(e,me,o,o,o,n)});function B1(e,n){if(typeof e!="function")throw new Ln(v);return n=n===o?n:ae(n),ue(e,n)}function G1(e,n){if(typeof e!="function")throw new Ln(v);return n=n==null?0:Ve(ae(n),0),ue(function(r){var i=r[n],l=Gt(r,0,n);return i&&Ft(l,i),_n(e,this,l)})}function Y1(e,n,r){var i=!0,l=!0;if(typeof e!="function")throw new Ln(v);return Ee(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),Pc(e,n,{leading:i,maxWait:n,trailing:l})}function H1(e){return kc(e,1)}function Z1(e,n){return $s(Ds(n),e)}function $1(){if(!arguments.length)return[];var e=arguments[0];return ne(e)?e:[e]}function Q1(e){return Fn(e,T)}function K1(e,n){return n=typeof n=="function"?n:o,Fn(e,T,n)}function X1(e){return Fn(e,I|T)}function J1(e,n){return n=typeof n=="function"?n:o,Fn(e,I|T,n)}function eg(e,n){return n==null||yl(e,n,He(n))}function $n(e,n){return e===n||e!==e&&n!==n}var ng=Ca(bs),tg=Ca(function(e,n){return e>=n}),ur=Sl(function(){return arguments}())?Sl:function(e){return Te(e)&&be.call(e,"callee")&&!dl.call(e,"callee")},ne=j.isArray,rg=Yo?Sn(Yo):uh;function xn(e){return e!=null&&Ra(e.length)&&!Ct(e)}function De(e){return Te(e)&&xn(e)}function ig(e){return e===!0||e===!1||Te(e)&&on(e)==rt}var Yt=xp||so,ag=Ho?Sn(Ho):dh;function sg(e){return Te(e)&&e.nodeType===1&&!yi(e)}function og(e){if(e==null)return!0;if(xn(e)&&(ne(e)||typeof e=="string"||typeof e.splice=="function"||Yt(e)||Wr(e)||ur(e)))return!e.length;var n=Je(e);if(n==fn||n==gn)return!e.size;if(xi(e))return!_s(e).length;for(var r in e)if(be.call(e,r))return!1;return!0}function lg(e,n){return fi(e,n)}function cg(e,n,r){r=typeof r=="function"?r:o;var i=r?r(e,n):o;return i===o?fi(e,n,o,r):!!i}function Qs(e){if(!Te(e))return!1;var n=on(e);return n==it||n==yr||typeof e.message=="string"&&typeof e.name=="string"&&!yi(e)}function ug(e){return typeof e=="number"&&hl(e)}function Ct(e){if(!Ee(e))return!1;var n=on(e);return n==hn||n==Pt||n==er||n==Mi}function Dc(e){return typeof e=="number"&&e==ae(e)}function Ra(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sn}function Ee(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Te(e){return e!=null&&typeof e=="object"}var Nc=Zo?Sn(Zo):hh;function dg(e,n){return e===n||Cs(e,n,zs(n))}function pg(e,n,r){return r=typeof r=="function"?r:o,Cs(e,n,zs(n),r)}function hg(e){return Mc(e)&&e!=+e}function fg(e){if(Qh(e))throw new J(x);return kl(e)}function gg(e){return e===null}function mg(e){return e==null}function Mc(e){return typeof e=="number"||Te(e)&&on(e)==Rt}function yi(e){if(!Te(e)||on(e)!=Nn)return!1;var n=aa(e);if(n===null)return!0;var r=be.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&na.call(r)==dp}var Ks=$o?Sn($o):fh;function xg(e){return Dc(e)&&e>=-sn&&e<=sn}var Uc=Qo?Sn(Qo):gh;function Da(e){return typeof e=="string"||!ne(e)&&Te(e)&&on(e)==Nt}function In(e){return typeof e=="symbol"||Te(e)&&on(e)==nr}var Wr=Ko?Sn(Ko):mh;function vg(e){return e===o}function yg(e){return Te(e)&&Je(e)==Mt}function jg(e){return Te(e)&&on(e)==Li}var bg=Ca(Ss),wg=Ca(function(e,n){return e<=n});function Lc(e){if(!e)return[];if(xn(e))return Da(e)?Hn(e):mn(e);if(si&&e[si])return Jd(e[si]());var n=Je(e),r=n==fn?ps:n==gn?Xi:Vr;return r(e)}function _t(e){if(!e)return e===0?e:0;if(e=Vn(e),e===an||e===-an){var n=e<0?-1:1;return n*Xt}return e===e?e:0}function ae(e){var n=_t(e),r=n%1;return n===n?r?n-r:n:0}function Oc(e){return e?sr(ae(e),0,Ye):0}function Vn(e){if(typeof e=="number")return e;if(In(e))return Ke;if(Ee(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ee(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=rl(e);var r=td.test(e);return r||id.test(e)?Ud(e.slice(2),r?2:8):nd.test(e)?Ke:+e}function Fc(e){return st(e,vn(e))}function Cg(e){return e?sr(ae(e),-sn,sn):e===0?e:0}function je(e){return e==null?"":kn(e)}var _g=Or(function(e,n){if(xi(n)||xn(n)){st(n,He(n),e);return}for(var r in n)be.call(n,r)&&di(e,r,n[r])}),zc=Or(function(e,n){st(n,vn(n),e)}),Na=Or(function(e,n,r,i){st(n,vn(n),e,i)}),Sg=Or(function(e,n,r,i){st(n,He(n),e,i)}),kg=bt(vs);function Ig(e,n){var r=Lr(e);return n==null?r:vl(r,n)}var Ag=ue(function(e,n){e=Ce(e);var r=-1,i=n.length,l=i>2?n[2]:o;for(l&&ln(n[0],n[1],l)&&(i=1);++r<i;)for(var u=n[r],d=vn(u),p=-1,g=d.length;++p<g;){var S=d[p],k=e[S];(k===o||$n(k,Nr[S])&&!be.call(e,S))&&(e[S]=u[S])}return e}),Eg=ue(function(e){return e.push(o,rc),_n(Wc,o,e)});function Tg(e,n){return Jo(e,Y(n,3),at)}function Pg(e,n){return Jo(e,Y(n,3),js)}function Rg(e,n){return e==null?e:ys(e,Y(n,3),vn)}function Dg(e,n){return e==null?e:Cl(e,Y(n,3),vn)}function Ng(e,n){return e&&at(e,Y(n,3))}function Mg(e,n){return e&&js(e,Y(n,3))}function Ug(e){return e==null?[]:ga(e,He(e))}function Lg(e){return e==null?[]:ga(e,vn(e))}function Xs(e,n,r){var i=e==null?o:or(e,n);return i===o?r:i}function Og(e,n){return e!=null&&sc(e,n,sh)}function Js(e,n){return e!=null&&sc(e,n,oh)}var Fg=Xl(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=ta.call(n)),e[n]=r},no(yn)),zg=Xl(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=ta.call(n)),be.call(e,n)?e[n].push(r):e[n]=[r]},Y),Wg=ue(hi);function He(e){return xn(e)?ml(e):_s(e)}function vn(e){return xn(e)?ml(e,!0):xh(e)}function Vg(e,n){var r={};return n=Y(n,3),at(e,function(i,l,u){yt(r,n(i,l,u),i)}),r}function qg(e,n){var r={};return n=Y(n,3),at(e,function(i,l,u){yt(r,l,n(i,l,u))}),r}var Bg=Or(function(e,n,r){ma(e,n,r)}),Wc=Or(function(e,n,r,i){ma(e,n,r,i)}),Gg=bt(function(e,n){var r={};if(e==null)return r;var i=!1;n=Ae(n,function(u){return u=Bt(u,e),i||(i=u.length>1),u}),st(e,Os(e),r),i&&(r=Fn(r,I|E|T,Oh));for(var l=n.length;l--;)Ts(r,n[l]);return r});function Yg(e,n){return Vc(e,Pa(Y(n)))}var Hg=bt(function(e,n){return e==null?{}:yh(e,n)});function Vc(e,n){if(e==null)return{};var r=Ae(Os(e),function(i){return[i]});return n=Y(n),Dl(e,r,function(i,l){return n(i,l[0])})}function Zg(e,n,r){n=Bt(n,e);var i=-1,l=n.length;for(l||(l=1,e=o);++i<l;){var u=e==null?o:e[ot(n[i])];u===o&&(i=l,u=r),e=Ct(u)?u.call(e):u}return e}function $g(e,n,r){return e==null?e:gi(e,n,r)}function Qg(e,n,r,i){return i=typeof i=="function"?i:o,e==null?e:gi(e,n,r,i)}var qc=nc(He),Bc=nc(vn);function Kg(e,n,r){var i=ne(e),l=i||Yt(e)||Wr(e);if(n=Y(n,4),r==null){var u=e&&e.constructor;l?r=i?new u:[]:Ee(e)?r=Ct(u)?Lr(aa(e)):{}:r={}}return(l?Un:at)(e,function(d,p,g){return n(r,d,p,g)}),r}function Xg(e,n){return e==null?!0:Ts(e,n)}function Jg(e,n,r){return e==null?e:Ol(e,n,Ds(r))}function em(e,n,r,i){return i=typeof i=="function"?i:o,e==null?e:Ol(e,n,Ds(r),i)}function Vr(e){return e==null?[]:ds(e,He(e))}function nm(e){return e==null?[]:ds(e,vn(e))}function tm(e,n,r){return r===o&&(r=n,n=o),r!==o&&(r=Vn(r),r=r===r?r:0),n!==o&&(n=Vn(n),n=n===n?n:0),sr(Vn(e),n,r)}function rm(e,n,r){return n=_t(n),r===o?(r=n,n=0):r=_t(r),e=Vn(e),lh(e,n,r)}function im(e,n,r){if(r&&typeof r!="boolean"&&ln(e,n,r)&&(n=r=o),r===o&&(typeof n=="boolean"?(r=n,n=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&n===o?(e=0,n=1):(e=_t(e),n===o?(n=e,e=0):n=_t(n)),e>n){var i=e;e=n,n=i}if(r||e%1||n%1){var l=fl();return Xe(e+l*(n-e+Md("1e-"+((l+"").length-1))),n)}return Is(e,n)}var am=Fr(function(e,n,r){return n=n.toLowerCase(),e+(r?Gc(n):n)});function Gc(e){return eo(je(e).toLowerCase())}function Yc(e){return e=je(e),e&&e.replace(sd,Zd).replace(Sd,"")}function sm(e,n,r){e=je(e),n=kn(n);var i=e.length;r=r===o?i:sr(ae(r),0,i);var l=r;return r-=n.length,r>=0&&e.slice(r,l)==n}function om(e){return e=je(e),e&&Vi.test(e)?e.replace(ti,$d):e}function lm(e){return e=je(e),e&&$a.test(e)?e.replace(ii,"\\$&"):e}var cm=Fr(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),um=Fr(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),dm=$l("toLowerCase");function pm(e,n,r){e=je(e),n=ae(n);var i=n?Rr(e):0;if(!n||i>=n)return e;var l=(n-i)/2;return wa(ca(l),r)+e+wa(la(l),r)}function hm(e,n,r){e=je(e),n=ae(n);var i=n?Rr(e):0;return n&&i<n?e+wa(n-i,r):e}function fm(e,n,r){e=je(e),n=ae(n);var i=n?Rr(e):0;return n&&i<n?wa(n-i,r)+e:e}function gm(e,n,r){return r||n==null?n=0:n&&(n=+n),bp(je(e).replace(Qa,""),n||0)}function mm(e,n,r){return(r?ln(e,n,r):n===o)?n=1:n=ae(n),As(je(e),n)}function xm(){var e=arguments,n=je(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var vm=Fr(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()});function ym(e,n,r){return r&&typeof r!="number"&&ln(e,n,r)&&(n=r=o),r=r===o?Ye:r>>>0,r?(e=je(e),e&&(typeof n=="string"||n!=null&&!Ks(n))&&(n=kn(n),!n&&Pr(e))?Gt(Hn(e),0,r):e.split(n,r)):[]}var jm=Fr(function(e,n,r){return e+(r?" ":"")+eo(n)});function bm(e,n,r){return e=je(e),r=r==null?0:sr(ae(r),0,e.length),n=kn(n),e.slice(r,r+n.length)==n}function wm(e,n,r){var i=c.templateSettings;r&&ln(e,n,r)&&(n=o),e=je(e),n=Na({},n,i,tc);var l=Na({},n.imports,i.imports,tc),u=He(l),d=ds(l,u),p,g,S=0,k=n.interpolate||Hi,A="__p += '",M=hs((n.escape||Hi).source+"|"+k.source+"|"+(k===ri?ed:Hi).source+"|"+(n.evaluate||Hi).source+"|$","g"),V="//# sourceURL="+(be.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Td+"]")+`
`;e.replace(M,function($,he,ge,An,cn,En){return ge||(ge=An),A+=e.slice(S,En).replace(od,Qd),he&&(p=!0,A+=`' +
__e(`+he+`) +
'`),cn&&(g=!0,A+=`';
`+cn+`;
__p += '`),ge&&(A+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),S=En+$.length,$}),A+=`';
`;var Z=be.call(n,"variable")&&n.variable;if(!Z)A=`with (obj) {
`+A+`
}
`;else if(Xu.test(Z))throw new J(b);A=(g?A.replace(Oi,""):A).replace(Fi,"$1").replace(zi,"$1;"),A="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+A+`return __p
}`;var le=Zc(function(){return ve(u,V+"return "+A).apply(o,d)});if(le.source=A,Qs(le))throw le;return le}function Cm(e){return je(e).toLowerCase()}function _m(e){return je(e).toUpperCase()}function Sm(e,n,r){if(e=je(e),e&&(r||n===o))return rl(e);if(!e||!(n=kn(n)))return e;var i=Hn(e),l=Hn(n),u=il(i,l),d=al(i,l)+1;return Gt(i,u,d).join("")}function km(e,n,r){if(e=je(e),e&&(r||n===o))return e.slice(0,ol(e)+1);if(!e||!(n=kn(n)))return e;var i=Hn(e),l=al(i,Hn(n))+1;return Gt(i,0,l).join("")}function Im(e,n,r){if(e=je(e),e&&(r||n===o))return e.replace(Qa,"");if(!e||!(n=kn(n)))return e;var i=Hn(e),l=il(i,Hn(n));return Gt(i,l).join("")}function Am(e,n){var r=ke,i=_e;if(Ee(n)){var l="separator"in n?n.separator:l;r="length"in n?ae(n.length):r,i="omission"in n?kn(n.omission):i}e=je(e);var u=e.length;if(Pr(e)){var d=Hn(e);u=d.length}if(r>=u)return e;var p=r-Rr(i);if(p<1)return i;var g=d?Gt(d,0,p).join(""):e.slice(0,p);if(l===o)return g+i;if(d&&(p+=g.length-p),Ks(l)){if(e.slice(p).search(l)){var S,k=g;for(l.global||(l=hs(l.source,je(So.exec(l))+"g")),l.lastIndex=0;S=l.exec(k);)var A=S.index;g=g.slice(0,A===o?p:A)}}else if(e.indexOf(kn(l),p)!=p){var M=g.lastIndexOf(l);M>-1&&(g=g.slice(0,M))}return g+i}function Em(e){return e=je(e),e&&Wi.test(e)?e.replace(ni,rp):e}var Tm=Fr(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),eo=$l("toUpperCase");function Hc(e,n,r){return e=je(e),n=r?o:n,n===o?Xd(e)?sp(e):qd(e):e.match(n)||[]}var Zc=ue(function(e,n){try{return _n(e,o,n)}catch(r){return Qs(r)?r:new J(r)}}),Pm=bt(function(e,n){return Un(n,function(r){r=ot(r),yt(e,r,Zs(e[r],e))}),e});function Rm(e){var n=e==null?0:e.length,r=Y();return e=n?Ae(e,function(i){if(typeof i[1]!="function")throw new Ln(v);return[r(i[0]),i[1]]}):[],ue(function(i){for(var l=-1;++l<n;){var u=e[l];if(_n(u[0],this,i))return _n(u[1],this,i)}})}function Dm(e){return rh(Fn(e,I))}function no(e){return function(){return e}}function Nm(e,n){return e==null||e!==e?n:e}var Mm=Kl(),Um=Kl(!0);function yn(e){return e}function to(e){return Il(typeof e=="function"?e:Fn(e,I))}function Lm(e){return El(Fn(e,I))}function Om(e,n){return Tl(e,Fn(n,I))}var Fm=ue(function(e,n){return function(r){return hi(r,e,n)}}),zm=ue(function(e,n){return function(r){return hi(e,r,n)}});function ro(e,n,r){var i=He(n),l=ga(n,i);r==null&&!(Ee(n)&&(l.length||!i.length))&&(r=n,n=e,e=this,l=ga(n,He(n)));var u=!(Ee(r)&&"chain"in r)||!!r.chain,d=Ct(e);return Un(l,function(p){var g=n[p];e[p]=g,d&&(e.prototype[p]=function(){var S=this.__chain__;if(u||S){var k=e(this.__wrapped__),A=k.__actions__=mn(this.__actions__);return A.push({func:g,args:arguments,thisArg:e}),k.__chain__=S,k}return g.apply(e,Ft([this.value()],arguments))})}),e}function Wm(){return Ze._===this&&(Ze._=pp),this}function io(){}function Vm(e){return e=ae(e),ue(function(n){return Pl(n,e)})}var qm=Ms(Ae),Bm=Ms(Xo),Gm=Ms(ss);function $c(e){return Vs(e)?os(ot(e)):jh(e)}function Ym(e){return function(n){return e==null?o:or(e,n)}}var Hm=Jl(),Zm=Jl(!0);function ao(){return[]}function so(){return!1}function $m(){return{}}function Qm(){return""}function Km(){return!0}function Xm(e,n){if(e=ae(e),e<1||e>sn)return[];var r=Ye,i=Xe(e,Ye);n=Y(n),e-=Ye;for(var l=us(i,n);++r<e;)n(r);return l}function Jm(e){return ne(e)?Ae(e,ot):In(e)?[e]:mn(gc(je(e)))}function e0(e){var n=++up;return je(e)+n}var n0=ba(function(e,n){return e+n},0),t0=Us("ceil"),r0=ba(function(e,n){return e/n},1),i0=Us("floor");function a0(e){return e&&e.length?fa(e,yn,bs):o}function s0(e,n){return e&&e.length?fa(e,Y(n,2),bs):o}function o0(e){return nl(e,yn)}function l0(e,n){return nl(e,Y(n,2))}function c0(e){return e&&e.length?fa(e,yn,Ss):o}function u0(e,n){return e&&e.length?fa(e,Y(n,2),Ss):o}var d0=ba(function(e,n){return e*n},1),p0=Us("round"),h0=ba(function(e,n){return e-n},0);function f0(e){return e&&e.length?cs(e,yn):0}function g0(e,n){return e&&e.length?cs(e,Y(n,2)):0}return c.after=L1,c.ary=kc,c.assign=_g,c.assignIn=zc,c.assignInWith=Na,c.assignWith=Sg,c.at=kg,c.before=Ic,c.bind=Zs,c.bindAll=Pm,c.bindKey=Ac,c.castArray=$1,c.chain=Cc,c.chunk=rf,c.compact=af,c.concat=sf,c.cond=Rm,c.conforms=Dm,c.constant=no,c.countBy=f1,c.create=Ig,c.curry=Ec,c.curryRight=Tc,c.debounce=Pc,c.defaults=Ag,c.defaultsDeep=Eg,c.defer=O1,c.delay=F1,c.difference=of,c.differenceBy=lf,c.differenceWith=cf,c.drop=uf,c.dropRight=df,c.dropRightWhile=pf,c.dropWhile=hf,c.fill=ff,c.filter=m1,c.flatMap=y1,c.flatMapDeep=j1,c.flatMapDepth=b1,c.flatten=yc,c.flattenDeep=gf,c.flattenDepth=mf,c.flip=z1,c.flow=Mm,c.flowRight=Um,c.fromPairs=xf,c.functions=Ug,c.functionsIn=Lg,c.groupBy=w1,c.initial=yf,c.intersection=jf,c.intersectionBy=bf,c.intersectionWith=wf,c.invert=Fg,c.invertBy=zg,c.invokeMap=_1,c.iteratee=to,c.keyBy=S1,c.keys=He,c.keysIn=vn,c.map=Aa,c.mapKeys=Vg,c.mapValues=qg,c.matches=Lm,c.matchesProperty=Om,c.memoize=Ta,c.merge=Bg,c.mergeWith=Wc,c.method=Fm,c.methodOf=zm,c.mixin=ro,c.negate=Pa,c.nthArg=Vm,c.omit=Gg,c.omitBy=Yg,c.once=W1,c.orderBy=k1,c.over=qm,c.overArgs=V1,c.overEvery=Bm,c.overSome=Gm,c.partial=$s,c.partialRight=Rc,c.partition=I1,c.pick=Hg,c.pickBy=Vc,c.property=$c,c.propertyOf=Ym,c.pull=kf,c.pullAll=bc,c.pullAllBy=If,c.pullAllWith=Af,c.pullAt=Ef,c.range=Hm,c.rangeRight=Zm,c.rearg=q1,c.reject=T1,c.remove=Tf,c.rest=B1,c.reverse=Ys,c.sampleSize=R1,c.set=$g,c.setWith=Qg,c.shuffle=D1,c.slice=Pf,c.sortBy=U1,c.sortedUniq=Of,c.sortedUniqBy=Ff,c.split=ym,c.spread=G1,c.tail=zf,c.take=Wf,c.takeRight=Vf,c.takeRightWhile=qf,c.takeWhile=Bf,c.tap=a1,c.throttle=Y1,c.thru=Ia,c.toArray=Lc,c.toPairs=qc,c.toPairsIn=Bc,c.toPath=Jm,c.toPlainObject=Fc,c.transform=Kg,c.unary=H1,c.union=Gf,c.unionBy=Yf,c.unionWith=Hf,c.uniq=Zf,c.uniqBy=$f,c.uniqWith=Qf,c.unset=Xg,c.unzip=Hs,c.unzipWith=wc,c.update=Jg,c.updateWith=em,c.values=Vr,c.valuesIn=nm,c.without=Kf,c.words=Hc,c.wrap=Z1,c.xor=Xf,c.xorBy=Jf,c.xorWith=e1,c.zip=n1,c.zipObject=t1,c.zipObjectDeep=r1,c.zipWith=i1,c.entries=qc,c.entriesIn=Bc,c.extend=zc,c.extendWith=Na,ro(c,c),c.add=n0,c.attempt=Zc,c.camelCase=am,c.capitalize=Gc,c.ceil=t0,c.clamp=tm,c.clone=Q1,c.cloneDeep=X1,c.cloneDeepWith=J1,c.cloneWith=K1,c.conformsTo=eg,c.deburr=Yc,c.defaultTo=Nm,c.divide=r0,c.endsWith=sm,c.eq=$n,c.escape=om,c.escapeRegExp=lm,c.every=g1,c.find=x1,c.findIndex=xc,c.findKey=Tg,c.findLast=v1,c.findLastIndex=vc,c.findLastKey=Pg,c.floor=i0,c.forEach=_c,c.forEachRight=Sc,c.forIn=Rg,c.forInRight=Dg,c.forOwn=Ng,c.forOwnRight=Mg,c.get=Xs,c.gt=ng,c.gte=tg,c.has=Og,c.hasIn=Js,c.head=jc,c.identity=yn,c.includes=C1,c.indexOf=vf,c.inRange=rm,c.invoke=Wg,c.isArguments=ur,c.isArray=ne,c.isArrayBuffer=rg,c.isArrayLike=xn,c.isArrayLikeObject=De,c.isBoolean=ig,c.isBuffer=Yt,c.isDate=ag,c.isElement=sg,c.isEmpty=og,c.isEqual=lg,c.isEqualWith=cg,c.isError=Qs,c.isFinite=ug,c.isFunction=Ct,c.isInteger=Dc,c.isLength=Ra,c.isMap=Nc,c.isMatch=dg,c.isMatchWith=pg,c.isNaN=hg,c.isNative=fg,c.isNil=mg,c.isNull=gg,c.isNumber=Mc,c.isObject=Ee,c.isObjectLike=Te,c.isPlainObject=yi,c.isRegExp=Ks,c.isSafeInteger=xg,c.isSet=Uc,c.isString=Da,c.isSymbol=In,c.isTypedArray=Wr,c.isUndefined=vg,c.isWeakMap=yg,c.isWeakSet=jg,c.join=Cf,c.kebabCase=cm,c.last=Wn,c.lastIndexOf=_f,c.lowerCase=um,c.lowerFirst=dm,c.lt=bg,c.lte=wg,c.max=a0,c.maxBy=s0,c.mean=o0,c.meanBy=l0,c.min=c0,c.minBy=u0,c.stubArray=ao,c.stubFalse=so,c.stubObject=$m,c.stubString=Qm,c.stubTrue=Km,c.multiply=d0,c.nth=Sf,c.noConflict=Wm,c.noop=io,c.now=Ea,c.pad=pm,c.padEnd=hm,c.padStart=fm,c.parseInt=gm,c.random=im,c.reduce=A1,c.reduceRight=E1,c.repeat=mm,c.replace=xm,c.result=Zg,c.round=p0,c.runInContext=h,c.sample=P1,c.size=N1,c.snakeCase=vm,c.some=M1,c.sortedIndex=Rf,c.sortedIndexBy=Df,c.sortedIndexOf=Nf,c.sortedLastIndex=Mf,c.sortedLastIndexBy=Uf,c.sortedLastIndexOf=Lf,c.startCase=jm,c.startsWith=bm,c.subtract=h0,c.sum=f0,c.sumBy=g0,c.template=wm,c.times=Xm,c.toFinite=_t,c.toInteger=ae,c.toLength=Oc,c.toLower=Cm,c.toNumber=Vn,c.toSafeInteger=Cg,c.toString=je,c.toUpper=_m,c.trim=Sm,c.trimEnd=km,c.trimStart=Im,c.truncate=Am,c.unescape=Em,c.uniqueId=e0,c.upperCase=Tm,c.upperFirst=eo,c.each=_c,c.eachRight=Sc,c.first=jc,ro(c,function(){var e={};return at(c,function(n,r){be.call(c.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),c.VERSION=m,Un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),Un(["drop","take"],function(e,n){fe.prototype[e]=function(r){r=r===o?1:Ve(ae(r),0);var i=this.__filtered__&&!n?new fe(this):this.clone();return i.__filtered__?i.__takeCount__=Xe(r,i.__takeCount__):i.__views__.push({size:Xe(r,Ye),type:e+(i.__dir__<0?"Right":"")}),i},fe.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Un(["filter","map","takeWhile"],function(e,n){var r=n+1,i=r==wn||r==rn;fe.prototype[e]=function(l){var u=this.clone();return u.__iteratees__.push({iteratee:Y(l,3),type:r}),u.__filtered__=u.__filtered__||i,u}}),Un(["head","last"],function(e,n){var r="take"+(n?"Right":"");fe.prototype[e]=function(){return this[r](1).value()[0]}}),Un(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");fe.prototype[e]=function(){return this.__filtered__?new fe(this):this[r](1)}}),fe.prototype.compact=function(){return this.filter(yn)},fe.prototype.find=function(e){return this.filter(e).head()},fe.prototype.findLast=function(e){return this.reverse().find(e)},fe.prototype.invokeMap=ue(function(e,n){return typeof e=="function"?new fe(this):this.map(function(r){return hi(r,e,n)})}),fe.prototype.reject=function(e){return this.filter(Pa(Y(e)))},fe.prototype.slice=function(e,n){e=ae(e);var r=this;return r.__filtered__&&(e>0||n<0)?new fe(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==o&&(n=ae(n),r=n<0?r.dropRight(-n):r.take(n-e)),r)},fe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},fe.prototype.toArray=function(){return this.take(Ye)},at(fe.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),l=c[i?"take"+(n=="last"?"Right":""):n],u=i||/^find/.test(n);l&&(c.prototype[n]=function(){var d=this.__wrapped__,p=i?[1]:arguments,g=d instanceof fe,S=p[0],k=g||ne(d),A=function(he){var ge=l.apply(c,Ft([he],p));return i&&M?ge[0]:ge};k&&r&&typeof S=="function"&&S.length!=1&&(g=k=!1);var M=this.__chain__,V=!!this.__actions__.length,Z=u&&!M,le=g&&!V;if(!u&&k){d=le?d:new fe(this);var $=e.apply(d,p);return $.__actions__.push({func:Ia,args:[A],thisArg:o}),new On($,M)}return Z&&le?e.apply(this,p):($=this.thru(A),Z?i?$.value()[0]:$.value():$)})}),Un(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ji[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var l=arguments;if(i&&!this.__chain__){var u=this.value();return n.apply(ne(u)?u:[],l)}return this[r](function(d){return n.apply(ne(d)?d:[],l)})}}),at(fe.prototype,function(e,n){var r=c[n];if(r){var i=r.name+"";be.call(Ur,i)||(Ur[i]=[]),Ur[i].push({name:n,func:r})}}),Ur[ja(o,R).name]=[{name:"wrapper",func:o}],fe.prototype.clone=Ap,fe.prototype.reverse=Ep,fe.prototype.value=Tp,c.prototype.at=s1,c.prototype.chain=o1,c.prototype.commit=l1,c.prototype.next=c1,c.prototype.plant=d1,c.prototype.reverse=p1,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=h1,c.prototype.first=c.prototype.head,si&&(c.prototype[si]=u1),c},Dr=op();tr?((tr.exports=Dr)._=Dr,ts._=Dr):Ze._=Dr}).call(_i)}(Ba,Ba.exports);var G2=Ba.exports,Y2=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","slave","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],H2=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","racial","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"];const Kt=G2,yu=Y2,ju=H2;var Z2=vo;vo.generate=vo;function vo(s){var a={number:!1,words:2,alliterative:!1};s=Kt.merge(a,s||{});var o=$2(s);return{raw:o,dashed:o.join("-"),spaced:o.join(" ")}}function $2(s){var a=[];return Kt.times(s.words-1,function(){s.alliterative&&a.length?a.push(Kt.sample(bu(ju,a[0].substring(0,1)))):a.push(Kt.sample(ju).toLowerCase())}),s.alliterative?a.push(Kt.sample(bu(yu,a[0].substring(0,1)))):a.push(Kt.sample(yu).toLowerCase()),s.number&&a.push(Kt.random(1,9999)),a}function bu(s,a){var o=a.toLowerCase();return Kt.filter(s,function(m){return m.substring(0,1).toLowerCase()===o})}const Q2=co(Z2);/*!
* dashify <https://github.com/jonschlinkert/dashify>
*
* Copyright (c) 2015-2017, Jon Schlinkert.
* Released under the MIT License.
*/var K2=(s,a)=>{if(typeof s!="string")throw new TypeError("expected a string");return s.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,o=>/[À-ž]/.test(o)?o:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,o=>a&&a.condense?"-":o).toLowerCase()};const X2=co(K2),J2=s=>a=>{const{nextStep:o,currentStep:m,authFlow:f}=s;return f==="authorisationCode"&&o===F.permissionsStep?a===F.rcRedirectsStep:o?a===o:m===F.permissionsStep||m===F.serverSideStep||m===F.dataFeedStep||m===F.websiteFeedStep?a===F.permissionsStep:m===F.externalAppStep||m===F.webServicesStep||m===F.applicationTypeStep?a===m:!1},ex=()=>{const{appWizardState:s}=ye(),{isMobile:a,isTablet:o,isDesktop:m}=Ht(),{Modal:f,openModal:x,closeModal:v}=qe(),{Modal:b,openModal:_,closeModal:y}=qe(),{Modal:P,openModal:I,closeModal:E}=qe(),{Modal:T,openModal:U,closeModal:z}=qe(),D=J2(s),R=a||o||m;return t.jsxs(t2,{children:[t.jsxs("div",{className:ee(D(F.applicationTypeStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"About Apps"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&ct,!R&&ji,R&&Le),onClick:U,children:[t.jsx(w,{hasGreyText:!0,children:"Every developer will have different use cases for our Platform and it is unlikely you will need to use all of the APIs and tooling we provide. However, the starting point for all integrations is to create an \u2018App\u2019,"}),t.jsx(Va,{width:"100%",height:"100%"})]}),t.jsxs("div",{className:ee(!R&&ct,!R&&bi),children:[t.jsx(w,{hasGreyText:!0,children:"On a basic level an app is the means to authenticate against our services. To create an app, you should follow the steps in the wizard on the left of this page."}),t.jsx(w,{hasGreyText:!0,children:"When you have completed this wizard, you will land on a dedicated page for your App, that will give you the Client Id, and in the case of server-side apps, a Client Secret, that will enable you to authenticate against out APIs. From here you can get started with development against our developer sandbox data."}),t.jsx(w,{hasGreyText:!0,children:"When you are ready to go live with a customer, you will need to complete some additional information and submit your app for review by one of our team. On approval of your app, it will be listed in the AppMarket for your customers to install, this will then grant access to their production data."})]})]})]}),t.jsxs("div",{className:ee(D(F.agencyCloudStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"AgencyCloud Functionality"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&ct,!R&&ji,R&&Le),onClick:_,children:[t.jsx(w,{hasGreyText:!0,children:"For the greatest integration with our AgencyCloud Desktop CRM, we support the ability to load client-side apps using an internal web browser, inside of the CRM."}),t.jsx(Va,{width:"100%",height:"100%"})]}),t.jsxs("div",{className:ee(!R&&ct,!R&&bi),children:[t.jsxs(w,{hasGreyText:!0,children:["You can either launch your app from a dedicated menu, for example from a property or a contact, or even replace certain screens. Using our Desktop API your app can receive contextual information based on the screen or location the app is launched from. Providing relevant data for your users. For more information on our Desktop API please ",t.jsx("a",{onClick:te(ie.desktopDocs),children:"see here."})]}),t.jsxs(w,{hasGreyText:!0,children:["To ensure a consistent UI and UX, it is a requirement that apps that integrate with AgencyCloud use our Elements UI library and our Design System. If you want to familiarise yourself with this before moving on, you can ",t.jsx("a",{onClick:te(ie.elementsDocs),children:"view the docs here."})]}),t.jsxs(w,{hasGreyText:!0,children:["Please be aware that we do not support rendering of web applications that use a third-party UI. You cannot simply link out from your integrated app or render a pre-existing app in an iframe. For more information on the requirements, ",t.jsx("a",{onClick:te(ie.acLaunchableDocs),children:"please click here."})]})]})]})]}),t.jsxs("div",{className:ee(D(F.externalAppStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"External Web Applications"}),t.jsx(w,{hasGreyText:!0,children:"You should select this if you wish to integrate our Platform APIs with a pre-existing or future web application that you do not wish to launch from within the AgencyCloud desktop CRM."}),t.jsx(w,{hasGreyText:!0,children:"Your application can be authenticated against our Platform either on the client-side or server-side. If you choose client-side authentication at the next step but later wish to upgrade to a full AgencyCloud integration in the future, you can do this. However, it is important to note, server-side integrations cannot be launched from within AgencyCloud."})]}),t.jsxs("div",{className:ee(D(F.dataFeedStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Data Portal and Reporting Feeds"}),t.jsxs(w,{hasGreyText:!0,children:["This is a server-side only data feed, using our"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})," You should select this if you have no requirement to render your application inside of the AgencyCloud desktop CRM and, you have no requirement for user-centric client-side authentication."]}),t.jsx(w,{hasGreyText:!0,children:"Typically, you will be pulling data to serve another application, to perform data processing or some other analytics function."}),t.jsx(w,{hasGreyText:!0,children:"You should also select this option if you require a permanent connection to our APIs; to pull data on demand as opposed to on the fly, when a user logs in to your application."})]}),t.jsxs("div",{className:ee(D(F.websiteFeedStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Website Feeds"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsxs("div",{className:ee(!R&&ct,!R&&ji,R&&Le),onClick:I,children:[t.jsx(w,{hasGreyText:!0,children:"It is possible to get up and running with a website feed from the Platform API. You will want to optimise this flow, implementing webhooks and caching however, the below video is our quick start guide."}),t.jsx(Va,{width:"100%",height:"100%"})]}),t.jsxs("div",{className:ee(!R&&ct,!R&&bi),children:[t.jsxs(w,{hasGreyText:!0,children:["When building a public website for a Reapit Customer, you will have no user authentication so your integration must be server-side, using our"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})]}),t.jsx(w,{hasGreyText:!0,children:"Your application will be read-only and by selecting this option, we will pre-populate the typical API permissions your integration will need for most website development."})]})]})]}),t.jsxs("div",{className:ee(D(F.webServicesStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Web Services to Platform"}),t.jsx(w,{hasGreyText:!0,children:"Select this option if you are migrating from the legacy Reapit SOAP API, or web services. These services will soon be deprecated so it is important to start your migration to the Foundations Platform as soon as possible."}),t.jsxs(w,{hasGreyText:!0,children:["You will get options at the next steps to decide whether client or server-side authentication best serves your application needs however, in most cases web services applications are server-side using our"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})]}),t.jsxs(w,{hasGreyText:!0,children:["Please be aware there is not a 1:1 mapping between the SOAP and our Platform REST API. As such, we suggest reading the ",t.jsx("a",{onClick:te(ie.platformAPIDocs),children:"API docs here"})," and looking at the"," ",t.jsxs(Ua,{to:oe.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"to investigate which data sets and permissions you will need before getting started."]})]}),t.jsxs("div",{className:ee(D(F.reapitConnectStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Using Reapit Connect as an Identity Provider"}),t.jsx(w,{hasGreyText:!0,children:"We support using Reapit Connect, our client-side authentication solution, simply as an identity provider for your application."}),t.jsxs(w,{hasGreyText:!0,children:["In this case, your client-side authenticated users will not have any data permissions however, you can access and validate their identity against your own application. For more on"," ",t.jsx("a",{onClick:te(ie.reapitConnectDocs),children:"Reapit Connect visit here"})," and if you are interested in using our Sign In With Reapit button to embed on your own site"," ",t.jsx("a",{onClick:te(ie.loginWithReapitDocs),children:"visit here"})]})]}),t.jsxs("div",{className:ee(D(F.clientSideStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Client Side Apps"}),t.jsxs(w,{hasGreyText:!0,children:["Client-side Apps use our identity provider"," ",t.jsx("a",{onClick:te(ie.reapitConnectDocs),children:"Reapit Connect"})," to authenticate against our API. Your application will need to re-direct to Reapit Connect where we will handle user login and in turn, re-direct back to your app with a code in the URL that you exchange for access and id JWTs, referred to as"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow."})," You will need to provide us with URIs to your application at the next step so we know where to return you to on login and on completion of this wizard, you will receive a Client ID you will need to get started."]}),t.jsxs(w,{hasGreyText:!0,children:["To make this process easier, we provide you with an authentication module for client-side apps,"," ",t.jsx("a",{onClick:te(ie.connectSessionDocs),children:"Connect Session"}),", which comes bundled with our"," ",t.jsx("a",{onClick:te(ie.craDocs),children:"Create React App Template"})," for quick start client-side development."]})]}),t.jsxs("div",{className:ee(D(F.serverSideStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Server Side Apps"}),t.jsxs(we,{isFlexAlignStart:!R,isFlexColumn:R,children:[t.jsx("div",{className:ee(!R&&ct,!R&&ji,R&&Le),onClick:x,children:t.jsx(Va,{width:"100%",height:"100%"})}),t.jsxs("div",{className:ee(!R&&ct,!R&&bi),children:[t.jsxs(w,{hasGreyText:!0,children:["Server-side applications authenticate against our API using the"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})," This process involves the exchange of a Client Id and Secret for a JWT access token to authenticate against all requests."]}),t.jsx(w,{hasGreyText:!0,children:"Unlike client-side applications, you do not have to re-direct to Reapit Connect, nor do your users have to log into your application. Because of this, the flow must only be used on the Server Side to ensure the Client Secret you will be issued at the end of this wizard is held in a secure location."})]})]})]}),t.jsxs("div",{className:ee(D(F.rcRedirectsStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Reapit Connect Redirects"}),t.jsxs(w,{hasGreyText:!0,children:["When using the Reapit Connect"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow,"})," you need to register both a re-direct URI and a logout URI. The former is the location in your app, you want Reapit Connect to re-direct to after a successful user login, the latter, after a succesful logout. Only URIs that are registered here will be accepted as a location by Reapit Connect although, you can register multiple locations with a comma separated list."]}),t.jsxs(w,{hasGreyText:!0,children:["We have pre-populated the URIs that you need when using our"," ",t.jsx("a",{onClick:te(ie.craDocs),children:"Create React App Template"})," however, any localhost or dev.reapit (for local development), or https URI is acceptable. Please note, the URIs must match those in your app exactly, inclusive of white space and trailing slashes."]})]}),t.jsxs("div",{className:ee(D(F.permissionsStep)?Oe:et),children:[t.jsx(se,{hasBoldText:!0,children:"Permissions"}),t.jsxs(w,{hasGreyText:!0,children:["Permissions are registered as scopes against the access token you receive back from one of our Authentication Flows. They map 1:1 and on a read/write basis to endpoints in our our Platform REST API. As such, it is worth looking at the"," ",t.jsxs(Ua,{to:oe.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"before procceeding, to investigate which permissions you think you will need."]}),t.jsx(w,{hasGreyText:!0,children:"For some flows we have pre-populated suggested permissions based on what you have said you wish to acheive with our Platform. These can be removed or added as you see fit and all permissions can be edited later if you wish to add or remove them before your app goes live."})]}),t.jsxs(f,{title:"Server Side Apps",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/s2OEO9RSZ8M",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:v,children:"Close"})})]}),t.jsxs(b,{title:"Desktop API",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/E1df4fThSdw",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:y,children:"Close"})})]}),t.jsxs(P,{title:"Website Feeds",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/EJWB5u1ja_U",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:E,children:"Close"})})]}),t.jsxs(T,{title:"About Apps",children:[t.jsx("iframe",{className:Le,width:"100%",height:"315",src:"https://www.youtube.com/embed/sjXvs72ZWB8",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:z,children:"Close"})})]})]})},nx=qn().shape({redirectUris:L().trim().required(Qe.FIELD_REQUIRED).test({test:Ai,message:"Should be a secure https url or http if localhost or dev.reapit"}),signoutUris:L().trim().required(Qe.FIELD_REQUIRED).test({test:Ai,message:"Should be a secure https url or http if localhost or dev.reapit"}),scopes:L().trim()}),tx=qn().shape({scopes:L().trim().required("At least one scope is required for a server-side app"),redirectUris:L().optional(),signoutUris:L().optional()}),rx=async(s,a,o)=>{if(s==="authorisationCode"&&a&&a===F.permissionsStep){const m=await o("redirectUris"),f=await o("signoutUris");return m&&f}return!0},wu=(s,a,o,m,f)=>x=>{x.preventDefault(),(async()=>{(!a||await rx(o,m,f))&&s(({currentStep:v,nextStep:b,prevStep:_,stepHistory:y,...P})=>a?{...P,nextStep:null,prevStep:v,currentStep:b,stepHistory:[...y,b],lastStep:b===F.reapitConnectStep}:(y.pop(),{...P,nextStep:null,prevStep:y[y.indexOf(_)-1]??null,currentStep:_,stepHistory:y,lastStep:!1}))})().catch(v=>console.error(v))},ix=(s,a,o,m)=>({redirectUris:f,signoutUris:x,scopes:v})=>{var T,U;const b=f==null?void 0:f.split(",").filter(Boolean),_=x==null?void 0:x.split(",").filter(Boolean),y=v==null?void 0:v.split(",").filter(Boolean),P=((T=a==null?void 0:a.loginIdentity)==null?void 0:T.developerId)??"",I=`${X2(((U=a==null?void 0:a.loginIdentity)==null?void 0:U.orgName)??"unknown")}-${Q2().dashed}`;if(!P)return;const E={authFlow:s,name:I,scopes:y,developerId:P,isDirectApi:!o.includes(F.agencyCloudStep),categoryIds:o.includes(F.websiteFeedStep)&&y&&["agencyCloud/properties.read","agencyCloud/negotiators.read","agencyCloud/offices.read"].every(z=>y.includes(z))?["14"]:void 0,...s==="clientCredentials"?{}:{redirectUris:b,signoutUris:_}};return m(E)},ax=(s,a,o,m,f)=>()=>{s&&(o(),m(),f(D0),a(`${oe.APPS}/${s.id}`))},sx=s=>{s.key==="Enter"&&s.preventDefault()},ox=()=>{const{appWizardState:s,setAppWizardState:a,appsDataState:o,appPipelineState:m}=ye(),f=lt(),{isMobile:x}=Ht(),{Modal:v,openModal:b,closeModal:_}=qe(),{currentStep:y,prevStep:P,nextStep:I,stepHistory:E,authFlow:T,lastStep:U}=s,{appsRefresh:z}=o,{appPipelineRefresh:D}=m,{register:R,getValues:G,handleSubmit:q,trigger:W,formState:{errors:Q}}=$t({resolver:Qt(T==="authorisationCode"?nx:tx)}),{connectSession:X}=bn(K),[H,me,re]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createApp],method:"POST",returnType:Hr.LOCATION});B.useEffect(ax(me,f,z,D,a),[me]);const{headingText:ke,headerText:_e,iconName:Ge}=N0(y);return t.jsxs(Xc,{children:[t.jsxs(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:4,spanSuperWideScreen:5,span4KScreen:7,children:[t.jsx(Kn,{children:"Create App"}),x&&t.jsxs(v,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:_,children:"Close"})})]}),t.jsx("form",{onSubmit:q(ix(T,X,E,re)),onKeyDown:sx,children:t.jsxs(du,{children:[t.jsx(se,{hasBoldText:!0,children:ke}),t.jsxs(we,{className:Le,children:[t.jsx(de,{className:oo,icon:Ge,iconSize:"large"}),t.jsx(Be,{hasGreyText:!0,children:_e})]}),t.jsx(we,{children:t.jsx(B2,{register:R,errors:Q,getValues:G})}),t.jsx(r2,{children:t.jsxs(ce,{alignment:"center",children:[t.jsx(N,{intent:"primary",disabled:!P||H,onClick:wu(a,!1,T,I,W),children:"Prev"}),U?t.jsx(N,{intent:"primary",type:"submit",disabled:H,loading:H,children:"Create App"}):t.jsx(N,{intent:"primary",disabled:!I||H,onClick:wu(a,!0,T,I,W),children:"Next"})]})})]})})]}),t.jsx(Ma,{spanMobile:4,spanTablet:4,spanDesktop:4,spanWideScreen:8,spanSuperWideScreen:11,span4KScreen:13,children:t.jsx(ex,{})}),t.jsx(Br,{onClick:b})]})},Qr=(s,a)=>()=>{s(a||null)},yo=kt("div")({name:"PermissionChip",class:"p11sa0f-permission-chip",propsAsIs:!1}),lx=kt("div")({name:"LinkChip",class:"l1vkdn49-link-chip",propsAsIs:!1}),Pi="t11sr6l7-text-overflow",Cu="ttq29n6-text-overflow-container",_u={externalId:"Copy",rotatingExternalId:"Copy",clientSecret:"Copy",rotatingClientSecret:"Copy",appId:"Copy"},Kr=(s,a)=>()=>{s({..._u,[a]:"Copied"}),setTimeout(()=>{s(o=>({...o,[a]:"Copy"}))},5e3)},Su=({isListed:s,pendingRevisions:a,limitToClientIds:o})=>{const m=!!(o!=null&&o.length);return s&&!a&&!m?"Your app is live and public in the AppMarket":s&&!a&&m?"Your app is live in the AppMarket but private to selected customers":s&&a&&!m?"Your app is live and public in the AppMarket with a pending revision under review":s&&a&&m?"Your app is live and private to selected customers with a pending revision under review":"Your app is not live and in development only"},ku=({isDirectApi:s,authFlow:a,desktopIntegrationTypeIds:o})=>{const m=!!(o!=null&&o.length);return a==="clientCredentials"?"Your app is a server-side only integration or data feed":s?"You have a client side authenticated integration that will not render within the AgencyCloud desktop CRM":m?"You have a client side authenticated integration that will replace a screen or launch from within the AgencyCloud desktop CRM":"You have a client side authenticated integration that will render within the AgencyCloud desktop CRM"},Iu=s=>()=>{s(!0)},Au=(s,a,o,m)=>async()=>{await s()&&a(),o&&m()},cx=()=>{const{appsDataState:s,setAppId:a}=ye(),[o,m]=B.useState(_u),[f,x]=B.useState(!1),{appId:v}=Gr(),{connectSession:b}=bn(K),_=au(b);B.useEffect(Qr(a,v),[v]);const{appDetail:y,appDetailLoading:P,appsDetailRefresh:I}=s,{id:E,name:T,externalId:U,authFlow:z,redirectUris:D,signoutUris:R,scopes:G,rotatingExternalId:q}=y??{},[W,Q,,X]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getAppSecret],uriParams:{appId:v},fetchWhenTrue:[v,z==="clientCredentials",f]}),[H,,me]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createAuthClient],method:"POST",uriParams:{appId:v}}),[re,,ke]=Me({reapitConnectBrowserSession:K,action:Ue[Re.deleteAuthClient],method:"DELETE",uriParams:{appId:v}});return P?t.jsx(un,{}):y?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:T}),t.jsx(se,{children:"Authenticating Your App"}),z==="authorisationCode"&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Client-side Apps use our identity provider"," ",t.jsx("a",{onClick:te(ie.reapitConnectDocs),children:"Reapit Connect"})," to authenticate against our API. Your application will need to re-direct to Reapit Connect where we will handle user login and in turn, re-direct back to your app with a code in the URL that you exchange for access and id JWTs, referred to as"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow."})," You will need the Client Id and Redirect Uris below to configure Reapit Connect."]}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["To make this process easier, we provide you with an authentication module for client-side apps,"," ",t.jsx("a",{onClick:te(ie.connectSessionDocs),children:"Connect Session"}),", which comes bundled with our"," ",t.jsx("a",{onClick:te(ie.craDocs),children:"Create React App Template"})," for quick start client-side development."]})]}),z==="clientCredentials"&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Server-side applications authenticate against our API using the"," ",t.jsx("a",{onClick:te(ie.clientCredentials),children:"Client Credentials authentication flow."})," This process involves the exchange of a Client Id and Client Secret for a JWT access token to authenticate against all requests."]}),t.jsxs(w,{hasGreyText:!0,children:["To make this process easier, we provide you with a NodeJS authentication module for server-side apps,"," ",t.jsx("a",{onClick:te(ie.connectSessionDocs),children:"Connect Session"}),"."]}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["For website developers, you might find our code examples useful. We offer examples in the following languages ",t.jsx(lx,{onClick:te(ie.codeExampleNodeWebsite),children:"Node JS"})]})]}),z==="clientCredentials"&&t.jsxs(j0,{className:jn,children:[t.jsxs(fr,{className:ee(q&&Le),children:[U&&t.jsxs(Fe,{children:[t.jsxs(we,{children:[t.jsx(de,{className:ut,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:U})]})]}),t.jsx($r,{text:U,onCopy:Kr(m,"externalId"),children:t.jsx(N,{intent:"default",children:o.externalId})})]}),t.jsxs(Fe,{children:[t.jsxs(we,{children:[t.jsx(de,{className:ut,icon:"doorLockInfographic",iconSize:"medium"}),t.jsxs("div",{className:Cu,children:[t.jsx(se,{hasNoMargin:!0,children:"Authentication Client Secret"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:W!=null&&W.clientSecret&&_?"*********************************":_?"Click to load client secret":"You need to be an admin to view this secret"})]})]}),W!=null&&W.clientSecret?t.jsx($r,{text:W==null?void 0:W.clientSecret,onCopy:Kr(m,"clientSecret"),children:t.jsx(N,{intent:"default",children:o.clientSecret})}):t.jsx(N,{onClick:Iu(x),intent:"default",disabled:Q||!_,loading:P,children:"Load Secret"})]}),t.jsx(Fe,{children:t.jsx(we,{className:La,isFlexAlignCenter:!0,children:t.jsx(N,{onClick:Au(me,I,W,X),intent:"primary",disabled:H||re||!_||!!q,loading:H,children:"Rotate Authentication"})})})]}),q&&t.jsxs(t.Fragment,{children:[t.jsx(se,{children:"New Authentication Credentials"}),t.jsxs(fr,{children:[t.jsxs(Fe,{children:[t.jsxs(we,{children:[t.jsx(de,{className:ut,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:q})]})]}),t.jsx($r,{text:q,onCopy:Kr(m,"rotatingExternalId"),children:t.jsx(N,{intent:"default",children:o.rotatingExternalId})})]}),t.jsxs(Fe,{children:[t.jsxs(we,{children:[t.jsx(de,{className:ut,icon:"doorLockInfographic",iconSize:"medium"}),t.jsxs("div",{className:Cu,children:[t.jsx(se,{hasNoMargin:!0,children:"Authentication Client Secret"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:W!=null&&W.rotatingClientSecret&&_?"*********************************":_?"Click to load client secret":"You need to be an admin to view this secret"})]})]}),W!=null&&W.rotatingClientSecret?t.jsx($r,{text:W==null?void 0:W.rotatingClientSecret,onCopy:Kr(m,"rotatingClientSecret"),children:t.jsx(N,{intent:"default",children:o.rotatingClientSecret})}):t.jsx(N,{onClick:Iu(x),intent:"default",disabled:Q||!_,loading:P,children:"Load Secret"})]}),t.jsx(Fe,{children:t.jsx(we,{className:La,isFlexAlignCenter:!0,children:t.jsx(N,{onClick:Au(ke,I,W,X),intent:"success",disabled:H||re||!_,loading:re,children:"Use"})})})]})]})]}),t.jsxs(fr,{children:[U&&z==="authorisationCode"&&t.jsxs(Fe,{children:[t.jsxs(we,{children:[t.jsx(de,{className:ut,icon:"lockedInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Authentication Client Id"}),t.jsx(w,{hasGreyText:!0,children:U})]})]}),t.jsx($r,{text:U,onCopy:Kr(m,"externalId"),children:t.jsx(N,{intent:"default",children:o.externalId})})]}),E&&t.jsxs(Fe,{children:[t.jsxs(we,{children:[t.jsx(de,{className:ut,icon:"myAppsInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"App Id"}),t.jsx(w,{className:Pi,hasGreyText:!0,children:E})]})]}),t.jsx($r,{text:E,onCopy:Kr(m,"appId"),children:t.jsx(N,{intent:"default",children:o.appId})})]}),z==="authorisationCode"&&!!(D!=null&&D.length)&&t.jsxs(Fe,{children:[t.jsx(se,{hasNoMargin:!0,children:"Redirect Uri(s)"}),D==null?void 0:D.map(_e=>t.jsx(w,{className:Pi,hasGreyText:!0,hasNoMargin:!0,children:_e},_e))]}),z==="authorisationCode"&&!!(R!=null&&R.length)&&t.jsxs(Fe,{children:[t.jsx(se,{hasNoMargin:!0,children:"Sign Out Uri(s)"}),R==null?void 0:R.map(_e=>t.jsx(w,{className:Pi,hasGreyText:!0,hasNoMargin:!0,children:_e},_e))]}),t.jsx(Fe,{children:t.jsxs(Fe,{children:[t.jsx(se,{hasNoMargin:!0,children:"Integration Type"}),t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:ku(y)})]})}),t.jsx(Fe,{children:t.jsxs(Fe,{children:[t.jsx(se,{hasNoMargin:!0,children:"App Status"}),t.jsx(w,{hasGreyText:!0,hasNoMargin:!0,children:Su(y)})]})}),!!(G!=null&&G.length)&&t.jsxs(Fe,{children:[t.jsx(se,{hasNoMargin:!0,children:"Permissions"}),G==null?void 0:G.map(({name:_e,description:Ge})=>t.jsx(yo,{children:Ge},_e))]})]})]}):t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found"})},ux=({register:s,errors:a,control:o})=>{var z,D,R,G,q,W,Q;const{appEditState:m}=ye(),{appEditForm:f}=m,x=Wa({control:o,name:"isAgencyCloudIntegrated"}),v=Wa({control:o,name:"desktopIntegrationTypeIds"}),[b,_]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getDesktopIntegrationTypes],fetchWhenTrue:[x]}),{desktopIntegrationTypeIds:y,isAgencyCloudIntegrated:P,launchWindowSizeX:I,launchWindowSizeY:E}=mr,{name:T}=y,U=(z=b==null?void 0:b.data)==null?void 0:z.filter(X=>{var H;return!((H=X.name)!=null&&H.includes("Payment"))});return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["When your application is integrated with AgencyCloud you can either launch it from the dedicated Apps menu in the AgencyCloud software, or from a series of menus embedded within other pages. Your app can receive contextual entity ids as global variables so it can launch with relevant data for your users. For more on our desktop API"," ",t.jsx("a",{onClick:te(ie.desktopDocs),children:"see here."})]}),t.jsx(w,{hasGreyText:!0,children:"You should toggle \u2018AgencyCloud Integration\u2019 only if you are intending your app to be launched from within AgencyCloud"}),t.jsx(w,{hasGreyText:!0,children:"The below list maps to the various menus from which you can launch your app or replace an AgencyCloud Screen. You should select the ones that are relevant to your app only. You can also select the default height and width of the window you wish your app to launch in within AgencyCloud."}),t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:P.label}),t.jsxs(Jc,{id:"app-edit-is-ac-inegrated",...s("isAgencyCloudIntegrated"),hasGreyBg:!0,children:[t.jsx(Oa,{children:"Yes"}),t.jsx(Oa,{children:"No"})]})]})}),_&&t.jsx(en,{children:t.jsx(un,{})}),b&&t.jsxs(en,{children:[t.jsx(Ci,{id:T,...y,...s("desktopIntegrationTypeIds"),options:U==null?void 0:U.map(({name:X,id:H})=>({name:X,value:H})),defaultValues:f.desktopIntegrationTypeIds.split(",").filter(Boolean)}),((D=a.desktopIntegrationTypeIds)==null?void 0:D.message)&&t.jsx(Pe,{message:(R=a.desktopIntegrationTypeIds)==null?void 0:R.message})]}),t.jsx(xe,{children:t.jsx(pe,{...I,...s("launchWindowSizeX"),disabled:!v.length,errorMessage:(G=a==null?void 0:a.launchWindowSizeX)==null?void 0:G.message,icon:(q=a==null?void 0:a.launchWindowSizeX)!=null&&q.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...E,...s("launchWindowSizeY"),disabled:!v.length,errorMessage:(W=a==null?void 0:a.launchWindowSizeY)==null?void 0:W.message,icon:(Q=a==null?void 0:a.launchWindowSizeY)!=null&&Q.message?"asterisk":null,intent:"danger"})})]})]})},jo={icon:{width:192,height:192},feature:{width:990,height:444},screenshot:{width:1196,height:914}},bo=jo.icon,wo=jo.feature,Xr=jo.screenshot,dx=bo.width/bo.height,px=wo.width/wo.height,Ga=Xr.width/Xr.height,hx="ayjl3ht-app-description-height",Jr=(s,a)=>o=>{s(o),a()},fx=(s,a)=>()=>{s(null),a()},gx=s=>()=>{var a;return((a=s==null?void 0:s.data)==null?void 0:a.sort((o,m)=>{var v,b;const f=(v=o.name)==null?void 0:v.toUpperCase(),x=(b=m.name)==null?void 0:b.toUpperCase();return!f||!x?0:f<x?-1:f>x?1:0}))??[]},mx=({register:s,errors:a,control:o,getValues:m})=>{var rt,Yn,yr,it,hn,Pt,fn,Rt,Ni,Nn,ei,Mi,Dt,gn,Nt,nr,Ui,Mt,Li,Ut,mt,jr,br,wr,Cr,_r,Sr,kr,Ir,Ar,Oi,Fi,zi,ni,ti,Wi,Vi,qi,Bi,ri,Gi,Yi;const{appEditState:f}=ye(),{appEditForm:x}=f,[v,b]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getAppCategories],queryParams:{pageSize:25}}),[,,_]=Me({reapitConnectBrowserSession:K,action:Ue[Re.fileUpload],method:"POST",returnType:Hr.RESPONSE}),y=Wa({control:o,name:"isFree"}),P=Lt=>_(Lt),[I,E]=B.useState(null),{Modal:T,openModal:U,closeModal:z}=qe(),D=B.useMemo(gx(v),[v]),{name:R,supportEmail:G,telephone:q,homePage:W,launchUri:Q,termsAndConditionsUrl:X,privacyPolicyUrl:H,pricingUrl:me,categoryIds:re,description:ke,summary:_e,isFree:Ge,iconImageUrl:pn,screen1ImageUrl:wn,screen2ImageUrl:Cn,screen3ImageUrl:rn,screen4ImageUrl:an,screen5ImageUrl:sn,videoUrl1:Xt,videoUrl2:Ke,deletionProtection:Ye}=mr,{iconImageUrl:vr,screen1ImageUrl:tt,screen2ImageUrl:Jt,screen3ImageUrl:Gn,screen4ImageUrl:Tt,screen5ImageUrl:er}=m();return t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"The detail included on this page populates your app listing in the AppMarket. While you are in development, you can complete this in your own time however, when you are ready to submit your app for approval, it all needs to be completed."}),t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["For information on listing your app ",t.jsx("a",{onClick:te(ie.listingAppDocs),children:"see here"}),". If you are looking for guidance on what we look for when reviewing app, there is a dedicated page"," ",t.jsx("a",{onClick:te(ie.reviewingAppDocs),children:"here."})]}),t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(en,{children:t.jsx(pe,{...R,...s("name"),errorMessage:(rt=a==null?void 0:a.name)==null?void 0:rt.message,icon:(Yn=a==null?void 0:a.name)!=null&&Yn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...G,...s("supportEmail"),errorMessage:(yr=a==null?void 0:a.supportEmail)==null?void 0:yr.message,icon:(it=a==null?void 0:a.supportEmail)!=null&&it.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...q,...s("telephone"),errorMessage:(hn=a==null?void 0:a.telephone)==null?void 0:hn.message,icon:(Pt=a==null?void 0:a.telephone)!=null&&Pt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...W,...s("homePage"),errorMessage:(fn=a==null?void 0:a.homePage)==null?void 0:fn.message,icon:(Rt=a==null?void 0:a.homePage)!=null&&Rt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Q,...s("launchUri"),errorMessage:(Ni=a==null?void 0:a.launchUri)==null?void 0:Ni.message,icon:(Nn=a==null?void 0:a.launchUri)!=null&&Nn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...X,...s("termsAndConditionsUrl"),errorMessage:(ei=a==null?void 0:a.termsAndConditionsUrl)==null?void 0:ei.message,icon:(Mi=a==null?void 0:a.termsAndConditionsUrl)!=null&&Mi.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...H,...s("privacyPolicyUrl"),errorMessage:(Dt=a==null?void 0:a.privacyPolicyUrl)==null?void 0:Dt.message,icon:(gn=a==null?void 0:a.privacyPolicyUrl)!=null&&gn.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Xt,...s("videoUrl1"),errorMessage:(Nt=a==null?void 0:a.videoUrl1)==null?void 0:Nt.message,icon:(nr=a==null?void 0:a.videoUrl1)!=null&&nr.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Ke,...s("videoUrl2"),errorMessage:(Ui=a==null?void 0:a.videoUrl2)==null?void 0:Ui.message,icon:(Mt=a==null?void 0:a.videoUrl2)!=null&&Mt.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...me,...s("pricingUrl"),disabled:y,errorMessage:(Li=a==null?void 0:a.pricingUrl)==null?void 0:Li.message,icon:(Ut=a==null?void 0:a.pricingUrl)!=null&&Ut.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Ge,...s("isFree"),errorMessage:(mt=a==null?void 0:a.isFree)==null?void 0:mt.message,icon:(jr=a==null?void 0:a.isFree)!=null&&jr.message?"asterisk":null,intent:"danger"})}),t.jsx(xe,{children:t.jsx(pe,{...Ye,...s("deletionProtection"),errorMessage:(br=a==null?void 0:a.deletionProtection)==null?void 0:br.message,icon:(wr=a==null?void 0:a.deletionProtection)!=null&&wr.message?"asterisk":null,intent:"danger"})}),t.jsxs(en,{children:[b&&t.jsx(un,{}),D.length&&t.jsxs(pe,{children:[t.jsx(ze,{children:re.label}),t.jsx(Ci,{id:"app-edit-categories-select",...s("categoryIds"),noneSelectedLabel:"Please select one or more categories that best describes your app. These will be used by customers to find your app in the AppMarket",options:D.map(Lt=>({value:Lt.id??"",name:Lt.name??""})),defaultValues:x.categoryIds.split(",").filter(Boolean)}),((Cr=a==null?void 0:a.categoryIds)==null?void 0:Cr.message)&&t.jsx(Pe,{message:(_r=a==null?void 0:a.categoryIds)==null?void 0:_r.message})]})]}),t.jsx(en,{children:t.jsx(pe,{..._e,...s("summary"),errorMessage:(Sr=a==null?void 0:a.summary)==null?void 0:Sr.message,icon:(kr=a==null?void 0:a.summary)!=null&&kr.message?"asterisk":null,intent:"danger"})}),t.jsxs(en,{children:[t.jsx(ze,{children:ke.label}),t.jsx(W0,{control:o,name:"description",render:({field:{onChange:Lt,onBlur:ii,value:$a}})=>t.jsx(e2,{...ke,containerClass:hx,defaultContent:$a,onChange:Lt,onBlur:ii,actions:["bold","italic","paragraph","olist","ulist","link",{name:"test",icon:"<b>H<sub>5</sub></b>",title:"Add heading 5",result:()=>Kc.exec("formatBlock","<h5>")}]})}),((Ir=a==null?void 0:a.description)==null?void 0:Ir.message)&&t.jsx(Pe,{message:(Ar=a==null?void 0:a.description)==null?void 0:Ar.message})]}),t.jsxs(xe,{children:[t.jsx(Zr,{...s("iconImageUrl"),label:pn.label,onFileView:Jr(E,U),defaultValue:vr,onFileUpload:P,placeholderText:"Dimensions: 192px x 192px",fileName:Yr(),aspect:dx,resizeDimensions:bo}),((Oi=a==null?void 0:a.iconImageUrl)==null?void 0:Oi.message)&&t.jsx(Pe,{message:(Fi=a==null?void 0:a.iconImageUrl)==null?void 0:Fi.message})]}),t.jsxs(xe,{children:[t.jsx(Zr,{...s("screen1ImageUrl"),label:wn.label,onFileView:Jr(E,U),defaultValue:tt,onFileUpload:P,placeholderText:"Dimensions: 990px x 444px",fileName:Yr(),aspect:px,resizeDimensions:wo}),((zi=a==null?void 0:a.screen1ImageUrl)==null?void 0:zi.message)&&t.jsx(Pe,{message:(ni=a==null?void 0:a.screen1ImageUrl)==null?void 0:ni.message})]}),t.jsxs(xe,{children:[t.jsx(Zr,{...s("screen2ImageUrl"),label:Cn.label,onFileView:Jr(E,U),defaultValue:Jt,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((ti=a==null?void 0:a.screen2ImageUrl)==null?void 0:ti.message)&&t.jsx(Pe,{message:(Wi=a==null?void 0:a.screen2ImageUrl)==null?void 0:Wi.message})]}),t.jsxs(xe,{children:[t.jsx(Zr,{...s("screen3ImageUrl"),label:rn.label,onFileView:Jr(E,U),defaultValue:Gn,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((Vi=a==null?void 0:a.screen3ImageUrl)==null?void 0:Vi.message)&&t.jsx(Pe,{message:(qi=a==null?void 0:a.screen3ImageUrl)==null?void 0:qi.message})]}),t.jsxs(xe,{children:[t.jsx(Zr,{...s("screen4ImageUrl"),label:an.label,onFileView:Jr(E,U),defaultValue:Tt,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((Bi=a==null?void 0:a.screen4ImageUrl)==null?void 0:Bi.message)&&t.jsx(Pe,{message:(ri=a==null?void 0:a.screen4ImageUrl)==null?void 0:ri.message})]}),t.jsxs(xe,{children:[t.jsx(Zr,{...s("screen5ImageUrl"),label:sn.label,onFileView:Jr(E,U),defaultValue:er,onFileUpload:P,placeholderText:"Dimensions: 1196x x 914px",fileName:Yr(),aspect:Ga,resizeDimensions:Xr}),((Gi=a==null?void 0:a.screen5ImageUrl)==null?void 0:Gi.message)&&t.jsx(Pe,{message:(Yi=a==null?void 0:a.screen5ImageUrl)==null?void 0:Yi.message})]}),t.jsxs(T,{title:"Image Preview",children:[t.jsx(we,{className:jn,isFlexAlignCenter:!0,isFlexJustifyCenter:!0,children:t.jsx(b0,{src:I})}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:fx(E,z),children:"Close"})})]})]})]})},xx=({register:s,errors:a})=>{var f,x,v,b;const{redirectUris:o,signoutUris:m}=mr;return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["When using the Reapit Connect"," ",t.jsx("a",{onClick:te(ie.authoizationFlowDocs),children:"Authorization Code flow,"})," you need to register both a re-direct URI and a logout URI. The former is the location in your app, you want Reapit Connect to re-direct to after a successful user login, the latter, after a succesful logout. Only URIs that are registered here will be accepted as a location by Reapit Connect although, you can register multiple locations with a comma separated list."]}),t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(en,{children:t.jsx(pe,{...o,...s("redirectUris"),errorMessage:(f=a==null?void 0:a.redirectUris)==null?void 0:f.message,icon:(x=a==null?void 0:a.redirectUris)!=null&&x.message?"asterisk":null,intent:"danger"})}),t.jsx(en,{children:t.jsx(pe,{...m,...s("signoutUris"),errorMessage:(v=a==null?void 0:a.signoutUris)==null?void 0:v.message,icon:(b=a==null?void 0:a.signoutUris)!=null&&b.message?"asterisk":null,intent:"danger"})})]})]})},vx="dqurj2d-docs-animated-style",yx=({isAnimated:s})=>t.jsxs("svg",{className:ee(s&&vx,wi),id:"erekCw3TbW21",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",height:"140px",children:[t.jsx("path",{d:"M92.6107,118.751c0-1.914-1.5509-3.465-3.4638-3.465h-1.4623v-33.5396c-1.7976,0-3.4989-.5863-4.9148-1.5746-.952.6711-2.0477,1.167-3.2624,1.4081-.5556.111-1.1226.1665-1.683.1665-.3736,0-.7323-.05-1.0958-.0975l-16.1458-.3054c-.7856.2352-1.6028.4017-2.4654.4017-.8602,0-1.6764-.1663-2.4631-.4017l-16.1458.3056c-.362.0475-.7233.0974-1.0966.0974-.5569,0-1.1218-.0555-1.6889-.1676-1.2112-.2411-2.3048-.7359-3.2578-1.407-1.4159.9882-3.1138,1.5746-4.9101,1.5746L28.554,115.286h-1.4625c-1.9142,0-3.4648,1.551-3.4648,3.465c0,1.915,1.5506,3.465,3.4648,3.465h62.0553c1.913,0,3.4639-1.551,3.4639-3.465Z",fill:"#506478"}),t.jsx("path",{d:"M17.0043,88.7831c.6344.2019,1.2751.2981,1.9065.2981c2.8655,0,5.5122-1.9881,6.3746-5.0665l.35-1.2468c.237,2.2638,1.4787,4.2584,3.3362,5.3748.5994.3551,1.2384.6484,1.948.7984.4388.0949.8761.1401,1.3058.1401c3.1114,0,5.8929-2.3353,6.5213-5.7121l.1623-.8651c.1665,2.4069,1.4602,4.5272,3.3835,5.6728.7722.4613,1.6409.7659,2.5797.8672.2245.0259.4478.0359.6679.0359c3.3779,0,6.2723-2.7314,6.6161-6.3919l.0491-.5264c.8894,10.6514,13.8828,8.0692,13.8828.3424l.1623.8651c.6313,3.3783,3.411,5.7121,6.5212,5.7121.4311,0,.8669-.0454,1.3074-.1401.7061-.15,1.3484-.4433,1.9449-.7984c1.8607-1.1166,3.1023-3.111,3.3394-5.3748l.3499,1.2468c.8626,3.0784,3.5092,5.0665,6.376,5.0665.6302,0,1.2708-.0962,1.9052-.2981c3.5245-1.1215,5.5274-5.0748,4.4756-8.8279L86.7774,59.651C85.5881,55.4075,81.926,52.5,77.7718,52.5h-50.5431c-4.1561,0-7.818,2.9075-9.0075,7.151L12.53,79.9552c-1.0518,3.7533.9514,7.7066,4.4743,8.8279Z",fill:"#607890"}),t.jsx("rect",{width:"15.75",height:"10.5",rx:"1",ry:"1",transform:"translate(36.75 94.5)",fill:"#d8dee4"}),t.jsx("rect",{width:"15.75",height:"10.5",rx:"1",ry:"1",transform:"translate(63 94.5)",fill:"#d8dee4"}),t.jsx("g",{id:"manage-app-listing-one",transform:"translate(39.12742,25.990749)",children:t.jsx("path",{d:"M64.5593,22.0386c-.9453-5.879-6.2367-10.3914-12.613-10.3914-2.3987,0-4.7048.6384-6.706,1.829C42.2069,8.55954,36.7363,5.5,30.6533,5.5c-9.3971,0-17.0546,7.3539-17.0694,16.3926-.0001.056-.0002.1141.0018.1701-6.04098.9785-10.80557,6.0431-10.81556,12.1243C2.759,40.9666,8.62547,46.4815,15.6738,46.4815h46.8668c7.0484,0,12.9329-5.5149,12.9441-12.2945.0101-6.1331-4.8148-11.2298-10.9254-12.1484v0Z",transform:"translate(-39.12742,-25.990749)",fill:"#d8dee4"})}),t.jsx("path",{d:"M121.209,133.349h-50.2457c-.001,0-.0019,0-.0029,0-4.2515-.012-7.6987-3.459-7.7103-7.711v-105.9911c.0116-4.2518,3.4591-7.6993,7.7109-7.7109h50.251c4.251.0116,7.699,3.4588,7.711,7.7103c0,.001,0,.0019,0,.0029v105.9888c0,.001,0,.001,0,.002-.015,4.253-3.459,7.697-7.711,7.709-.001,0-.002,0-.003,0Z",fill:"#d8dee4",stroke:"#506478",strokeWidth:"4"}),t.jsx("path",{d:"M121.214,135.349h-50.2556c-5.3544-.013-9.6952-4.354-9.7083-9.708v-12.297c32.0121,0,41.1849,0,69.6729,0v12.3c-.017,5.354-4.354,9.692-9.709,9.705Z",fill:"#607890"}),t.jsx("rect",{width:"38.5",height:"38.5",rx:"19.25",ry:"19.25",transform:"translate(73.5001 26.25)",fill:"#fff"}),t.jsx("rect",{width:"43.8946",height:"15.6767",rx:"1",ry:"1",transform:"translate(73.7937 85.5774)",fill:"#d8dee4"}),t.jsx("rect",{width:"31.3533",height:"6.27067",rx:"1",ry:"1",transform:"translate(73.7937 75.25)",fill:"#d8dee4"}),t.jsx("circle",{r:"18.375",transform:"translate(63.875 51.625)",fill:"#fff"}),t.jsx("g",{id:"manage-app-listing-two",transform:"translate(60.5,53.5) rotate(0)",children:t.jsx("g",{id:"manage-app-listing-three",transform:"scale(1,1)",children:t.jsx("path",{d:"M57.3649,25c-.8426,0-1.6097.3968-2.1056.9476s-.7714,1.2255-.9028,1.9198v.001l-.8431,4.4579c-1.0435.3462-2.058.7685-3.0393,1.264l-3.7543-2.5598c-.5836-.3978-1.2549-.6809-1.9954-.7199-.7411-.039-1.5636.2249-2.1587.82l-4.4328,4.4329c-.5961.5956-.8585,1.4185-.8204,2.1587.038.7405.3206,1.4132.7184,1.9978l2.5486,3.738c-.4945.9866-.9144,2.0059-1.2577,3.0542l-4.4535.8431c-.6943.1315-1.3698.4069-1.9207.9029-.5508.4959-.9476,1.2644-.9476,2.1071v6.2688c0,.8427.3963,1.6098.9476,2.1057.5509.496,1.2264.7724,1.9207.9038l4.4608.8451c.3462,1.0425.7675,2.0561,1.263,3.0364l-2.5606,3.7544c-.3982.5841-.6804,1.2568-.7184,1.9974-.0381.7405.2239,1.563.8205,2.1586l4.4327,4.4329c.5957.5961,1.4181.8576,2.1587.819.7405-.039,1.4122-.3211,1.9963-.7193l3.7379-2.5482c.9866.4945,2.0064.9134,3.0551,1.2572l.8432,4.4535c.1314.6944.4068,1.3699.9028,1.9208.4959.5509,1.263.9476,2.1056.9476L63.6361,82c.8426,0,1.6097-.3963,2.1056-.9476.496-.5509.7714-1.226.9029-1.9198v-.0015l.8441-4.4573c1.0434-.3463,2.0579-.7685,3.0392-1.264l3.7534,2.5588c.584.3982,1.2562.6804,1.9962.7194.7406.039,1.5636-.223,2.1597-.8191l4.4327-4.4329c.5957-.5961.8581-1.4195.8191-2.1596-.0385-.7406-.3212-1.4123-.7199-1.9964l-2.5486-3.738c.4945-.9866.9144-2.0059,1.2577-3.0547l4.4535-.8431c.6943-.1315,1.3698-.4079,1.9207-.9038.5509-.496.9476-1.263.9476-2.1057v-6.2693c0-.8426-.3963-1.6106-.9476-2.1071-.5509-.496-1.2259-.7714-1.9198-.9029l-4.4587-.8441c-.3462-1.043-.7685-2.0566-1.264-3.0375L82.9696,39.72c.3982-.5841.6809-1.2563.7199-1.9964.039-.7406-.2239-1.564-.8205-2.1596l-4.4318-4.4329c-.5961-.5956-1.419-.859-2.1596-.82-.7401.039-1.4118.3221-1.9955.7198l-3.7379,2.5487c-.9866-.494-2.0064-.9134-3.0551-1.2572l-.8441-4.4545c-.1315-.6944-.4069-1.3686-.9029-1.9198-.4959-.5509-1.2629-.9476-2.1056-.9476L57.3649,25Zm3.1352,17.7026c5.9756,0,10.7954,4.8209,10.7954,10.7966c0,5.9752-4.82,10.7961-10.7954,10.7966-5.9756,0-10.7964-4.8209-10.7964-10.7966c0-5.9761,4.8208-10.7966,10.7964-10.7966Z",transform:"translate(-60.5,-53.5)",fill:"#7e9bfa"})})})]}),jx="dhbkz5x-docs-svg-style",bx="o1em0cms-offset-style-one",wx="o1juy2tl-offset-style-two",Cx=({isAnimated:s})=>t.jsx("svg",{className:ee(s&&jx,wi),id:"e7CDlwhB8m51",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 140",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",height:"140px",children:t.jsxs("g",{clipPath:"url(#e7CDlwhB8m525)",children:[t.jsxs("g",{children:[t.jsx("g",{id:"app-listing-docs-one",transform:"translate(69.99835,61.58215)",children:t.jsx("path",{d:"M119.024,61.4515L69.9983,44.21L20.9727,61.4515L69.9983,78.9543L119.024,61.4515Z",transform:"translate(-69.99835,-61.58215)",fill:"#798da1"})}),t.jsx("g",{id:"app-listing-docs-two",transform:"translate(94.509052,61.58215)",children:t.jsx("path",{d:"M119.022,61.4515L69.9961,44.21v34.7443L119.022,61.4515Z",transform:"translate(-94.509052,-61.58215)",fill:"#9faebc"})}),t.jsxs("g",{transform:"translate(.000001 0)",children:[t.jsxs("g",{transform:"translate(.000001 0)",children:[t.jsx("path",{d:"M88.5528,8.83691h-38.2352c-3.7098,0-6.7278,3.07939-6.7278,6.86359v82.1929c0,3.7846,3.018,6.8636,6.7278,6.8636h38.2352c3.7098,0,6.7286-3.079,6.7286-6.8636v-82.1929c0-3.7842-3.0188-6.86359-6.7286-6.86359v0Z",fill:"#506478"}),t.jsx("path",{d:"M88.529,12.8105h-5.6823c-.5361,0-.9703.4429-.9703.9889c0,1.3117-1.0515,2.3843-2.3365,2.3843h-20.2552c-1.2859,0-2.3374-1.0726-2.3374-2.3843c0-.546-.4341-.9889-.9703-.9889h-5.6823c-1.5652,0-2.8338,1.2941-2.8338,2.8898v64.8486h43.9019v-64.8486c0-1.5957-1.2686-2.8898-2.8338-2.8898Z",fill:"#fff"})]}),t.jsxs("g",{transform:"translate(0 0.000001)",children:[t.jsx("path",{d:"M50.8828,45.4146l18.576-18.2154l18.576,18.2154v25.1546h-37.152v-25.1546Z",fill:"#506478"}),t.jsx("path",{d:"M50.8828,45.4146l18.576-18.2154l18.576,18.2154v14.3121L50.8828,45.4146Z",fill:"#d8dee4"}),t.jsx("path",{d:"M88.036,70.5692h-10.8737L61.7578,34.7519L69.46,27.1992L88.036,45.4146v25.1546Z",fill:"#9faebc"}),t.jsx("path",{d:"M88.036,45.4146v14.3121L69.46,52.6606L61.7578,34.7519L69.46,27.1992L88.036,45.4146Z",fill:"#7e9bfa"})]})]}),t.jsx("g",{id:"app-listing-docs-three",transform:"translate(69.649327,82.061558)",children:t.jsxs("g",{transform:"translate(-69.649326,-79.061558)",children:[t.jsx("path",{d:"M70.011522,75.96449c-.190118.78125-.061612,3.42125,0,5.28l3.903961-3.524822-3.903961-1.755178Z",transform:"translate(.000001 0.000003)",fill:"#506478",strokeWidth:"0.28"}),t.jsx("path",{d:"M69.992961,76.053166l-.017109,5.286723l3.95674-3.620221-3.939631-1.666502Z",transform:"matrix(-1.168966 0 0-1.168966 151.807857 171.062202)",fill:"#607890",strokeWidth:"0.28"})]})}),t.jsx("path",{d:"M69.9983,79.0023L20.9727,61.4512v63.1168l49.0256,15.777v-61.3427Z",fill:"#607890"}),t.jsx("path",{d:"M119.022,124.568v-63.1168L69.9961,79.0023v61.3427l49.0259-15.777Z",fill:"#506478"}),t.jsx("g",{id:"app-listing-docs-four",transform:"translate(36.9986,80.849051)",children:t.jsx("path",{d:"M20.9715,61.4521L4,81.8288L53.9483,100.246L69.9972,78.955L20.9715,61.4521Z",transform:"translate(-36.9986,-80.849051)",fill:"#d8dee4"})}),t.jsx("g",{id:"app-listing-docs-five",transform:"translate(102.997547,80.848101)",children:t.jsx("path",{d:"M119.022,61.4512l16.977,20.3766L86.0506,100.245L69.9961,78.954L119.022,61.4512Z",transform:"translate(-102.997547,-80.848101)",fill:"#798da1"})}),t.jsx("g",{id:"app-listing-docs-six",transform:"translate(89.264528,45.746041)",children:t.jsx("g",{id:"app-listing-docs-seven",transform:"rotate(-67.423922)",children:t.jsx("g",{id:"app-listing-docs-eight",transform:"skewX(-1.018603) skewY(0) scale(1,0.999842)",children:t.jsx("rect",{width:"12.6821",height:"12.724",rx:"3",ry:"3",transform:"translate(-6.34105,-6.362)",fill:"#ffe5c7"})})})}),t.jsx("g",{id:"app-listing-docs-nine",className:bx,children:t.jsx("g",{id:"app-listing-docs-ten",transform:"rotate(-25.945515)",children:t.jsx("g",{id:"app-listing-docs-eleven",transform:"skewX(0.740377) skewY(0) scale(0.999999,0.999917)",children:t.jsx("rect",{width:"25.2093",height:"25.3778",rx:"5",ry:"5",transform:"translate(-12.60465,-12.6889)",fill:"#7e9bfa"})})})}),t.jsx("g",{id:"app-listing-docs-twelve",className:wx,children:t.jsx("g",{id:"app-listing-docs-thirteen",transform:"rotate(18.101295)",children:t.jsx("g",{id:"app-listing-docs-fourteen",transform:"skewX(0.486255) skewY(0) scale(1,0.999964)",children:t.jsx("rect",{width:"9.83494",height:"9.95171",rx:"2",ry:"2",transform:"translate(-4.91747,-4.975855)",fill:"#ffe5c7"})})})})]}),t.jsx("clipPath",{id:"e7CDlwhB8m525",children:t.jsx("rect",{width:"140",height:"140",rx:"0",ry:"0",fill:"#fff"})})]})}),_x=s=>a=>{a.preventDefault(),a.stopPropagation(),s()},Ya=(s,a)=>()=>{s(a)},Sx=()=>{const{appsDataState:s,appEditState:a}=ye(),[o,m]=B.useState(!1),[f,x]=B.useState(!1),{Modal:v,openModal:b,closeModal:_}=qe(),y=s.appDetail??{},{appUnsavedFields:P,appIncompleteFields:I}=a;return t.jsxs(t.Fragment,{children:[t.jsxs(fr,{children:[t.jsxs(Fa,{children:[t.jsx(yx,{isAnimated:o}),t.jsx(se,{children:"Manage App Listing"}),t.jsx(w,{hasGreyText:!0,children:"This page is the starting point for completing your app listing, and initiating the approvals process for your app to go live with customer data."}),t.jsx(w,{hasGreyText:!0,children:"As an app developer, you need to provide us with a number of pieces of information about your integration and have it approved by our team, prior to going live with customer data. For apps that wish to integrate with the AgencyCloud CRM, and be publicly listed in the AppMarket, the approvals process is more involved than for simple server-side or single customer private apps. Regardless of your target audience, you should start to complete your app listing as soon as possible."}),t.jsx(w,{hasGreyText:!0,children:"You can check the status of your app listing at any time by using the button below, prior to submitting for approval."}),t.jsx(N,{intent:"primary",onMouseEnter:Ya(m,!0),onMouseLeave:Ya(m,!1),onClick:_x(b),children:"Check Status"})]}),t.jsxs(Fa,{children:[t.jsx(Cx,{isAnimated:f}),t.jsx(se,{children:"App Listing Documentation"}),t.jsx(w,{hasGreyText:!0,children:"As you make changes, you should save your changes in the left hand side menu. You can do this as many times as you like until your app is listed, or live in the AppMarket."}),t.jsxs(w,{hasGreyText:!0,children:["When you are ready for your app to be reviewed by a member of our team, click the \u2018Submit Review\u2019 button. If you are looking for guidance on what we look for when reviewing app, there is a dedicated page ",t.jsx("a",{onClick:te(ie.reviewingAppDocs),children:"here."})]}),t.jsx(w,{hasGreyText:!0,children:"When your app is live, you will need to create revisions to your app for our team to review. You can only have one live revision outstanding at any given time."}),t.jsx(w,{hasGreyText:!0,children:"For guidelines on completing your app listing, visit the documentation link below before getting started."}),t.jsx(N,{intent:"default",onMouseEnter:Ya(x,!0),onMouseLeave:Ya(x,!1),onClick:te(ie.listingAppDocs),children:"View Docs"})]})]}),t.jsxs(v,{title:"App Listing Status",children:[t.jsxs("div",{className:Le,children:[t.jsx(w,{hasNoMargin:!0,children:"Integration Type"}),t.jsx(w,{hasGreyText:!0,children:ku(y)}),t.jsx(w,{hasNoMargin:!0,children:"AppMarket Status"}),t.jsx(w,{hasGreyText:!0,children:Su(y)}),t.jsx(w,{hasNoMargin:!0,children:"App Listing Status"}),I.length?t.jsxs("div",{className:qr,children:[t.jsx(w,{hasGreyText:!0,children:"The following fields in your app listing must be completed before you can submit for review:"}),I.map(E=>t.jsx(yo,{children:mr[E].label},E))]}):t.jsx(w,{hasGreyText:!0,children:"Your app listing data is complete and you can submit for review at any time."}),t.jsx(w,{hasNoMargin:!0,children:"Unsaved Changes"}),Object.keys(P).length?t.jsxs(t.Fragment,{children:[t.jsx(w,{hasGreyText:!0,children:"The following fields have been edited, save to avoid losing data:"}),Object.keys(P).map(E=>t.jsx(yo,{children:mr[E].label},E))]}):t.jsx(w,{hasGreyText:!0,children:"You have no unsaved changes to your app listing"})]}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:_,children:"Close"})})]})]})},kx=({register:s,errors:a,control:o})=>{var z,D,R,G,q,W,Q;const{appEditState:m}=ye(),{appEditForm:f}=m,[x,v]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getAppPermissions]}),[b,_]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getProducts]}),y=Wa({control:o,name:"isPrivateApp"}),{scopes:P,products:I,isPrivateApp:E,limitToClientIds:T}=mr,U=x==null?void 0:x.filter(X=>{var H;return!((H=X.name)!=null&&H.includes("payment"))});return t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,children:["Permissions are registered as scopes against the access token you receive back from one of our Authentication Flows. They map 1:1 and on a read/write basis to endpoints in our Platform REST API. As such, it is worth looking at the"," ",t.jsxs(Ua,{to:oe.SWAGGER,target:"_blank",rel:"noopener noreferrer",children:["API explorer here"," "]}),"before proceeding, to investigate which permissions you think you will need."]}),v&&t.jsx(un,{}),t.jsx(Tn,{hasMargin:!0,children:U&&t.jsx(en,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:P.label}),t.jsx(Ci,{id:"app-edit-scopes-select",...P,...s("scopes"),options:U.map(({name:X,description:H})=>({name:H,value:X})),defaultValues:f.scopes.split(",").filter(Boolean)}),((z=a.scopes)==null?void 0:z.message)&&t.jsx(Pe,{message:(D=a.scopes)==null?void 0:D.message})]})})}),t.jsx(w,{hasGreyText:!0,children:"This section refers to products that are available within the Reapit Group of Companies. For UK based developers, this will typically default to Agency Cloud however, as we launch the Reapit AppMarket in other countries and with different products, you may wish for your application to list in these alternative AppMarkets. You can select more than one option but at least one option must be selected."}),_&&t.jsx(un,{}),t.jsx(Tn,{hasMargin:!0,children:(b==null?void 0:b.data)&&t.jsx(en,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:I.label}),t.jsx(Ci,{id:"app-edit-products-select",...I,...s("products"),options:(R=b==null?void 0:b.data)==null?void 0:R.map(X=>({value:X.id??"",name:X.name??""})),defaultValues:f.products.split(",").filter(Boolean)}),((G=a.products)==null?void 0:G.message)&&t.jsx(Pe,{message:(q=a.products)==null?void 0:q.message})]})})}),t.jsxs(w,{hasGreyText:!0,children:["You should toggle \u2018Private App\u2019 if you only want your app to be private to a select group of customers (max of 3). Simply enter their \u2018Customer ID\u2019 as a comma separated list. For more information on how to find the Customer ID,"," ",t.jsx("a",{onClick:te(ie.customerIdFindDocs),children:" please see here."})]}),_&&t.jsx(un,{}),t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:E.label}),t.jsxs(Jc,{id:"app-edit-is-private-app",...s("isPrivateApp"),hasGreyBg:!0,children:[t.jsx(Oa,{children:"Yes"}),t.jsx(Oa,{children:"No"})]})]})}),t.jsx(w0,{children:t.jsx(pe,{...T,...s("limitToClientIds"),disabled:!y,errorMessage:(W=a==null?void 0:a.limitToClientIds)==null?void 0:W.message,icon:(Q=a==null?void 0:a.limitToClientIds)!=null&&Q.message?"asterisk":null,intent:"danger"})})]})]})};var tn=(s=>(s.general="general",s.authentication="authentication",s.permissions="permissions",s.acIntegration="ac-integration",s.appListing="app-listing",s))(tn||{});const Ix=s=>t.jsxs(uo,{children:[t.jsx(dn,{path:oe.APPS_EDIT_AUTHENTICATION.split("edit/")[1],element:t.jsx(xx,{...s})}),t.jsx(dn,{path:oe.APPS_EDIT_PERMISSIONS.split("edit/")[1],element:t.jsx(kx,{...s})}),t.jsx(dn,{path:oe.APPS_EDIT_APP_LISTING.split("edit/")[1],element:t.jsx(mx,{...s})}),t.jsx(dn,{path:oe.APPS_EDIT_AC_INTEGRATION.split("edit/")[1],element:t.jsx(ux,{...s})}),t.jsx(dn,{path:oe.APPS_EDIT_GENERAL.split("edit/")[1],element:t.jsx(Sx,{...s})})]}),Ax={USER_SESSION:"authorisationCode",CLIENT_SECRET:"clientCredentials"},{USER_SESSION:Ha,CLIENT_SECRET:Eu}=Ax,{FIELD_REQUIRED:nt,MAXIMUM_CHARACTER_LENGTH:Ri,FIELD_WRONG_EMAIL_FORMAT:Tu}=Qe,{name:Ex,telephone:Co,supportEmail:Tx,launchUri:_o,iconImageUrl:Px,homePage:Pu,description:Rx,summary:Dx,screen1ImageUrl:Nx,authFlow:Di,scopes:Ru,redirectUris:Du,signoutUris:Nu,limitToClientIds:Mu,isListed:Bn,termsAndConditionsUrl:Uu,privacyPolicyUrl:Lu,pricingUrl:Ou,isFree:Mx,products:Ux,videoUrl1:Lx,videoUrl2:Ox,launchWindowSizeX:Fx,launchWindowSizeY:zx}=mr,Fu=qn().shape({[Ex.name]:L().trim().required(nt).max(100,Ri(100)).test(nn),[Bn.name]:V0(),[Co.name]:L().when(Bn.name,{is:!0,then:L().trim().required(nt).matches(ou,Co.errorMessage).max(20,Ri(20)).test(nn),otherwise:L().trim().matches(ou,{excludeEmptyString:!0,message:Co.errorMessage}).max(20,Ri(20)).test(nn)}),[Tx.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().required(nt).matches(lu,Tu),otherwise:L().trim().matches(lu,{excludeEmptyString:!0,message:Tu})}),[_o.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().when(Di.name,(s,a)=>s===Ha?a.required(Qe.FIELD_REQUIRED).test({name:"isValidLaunchUri",test:Ai,message:_o.errorMessage}):a),otherwise:L().notRequired()}).test({name:"isValidLaunchUri",message:_o.errorMessage,test:s=>s?Ai(s):!0}),[Px.name]:L().when(Bn.name,{is:!0,then:L().required(nt),otherwise:L().notRequired()}),[Nx.name]:L().when(Bn.name,{is:!0,then:L().required(nt),otherwise:L().notRequired()}),[Pu.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().required(nt),otherwise:L().notRequired()}).test({name:"isValidHomePage",message:Pu.errorMessage,test:s=>s?Ai(s)||Y0(s):!0}),[Rx.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().required(nt).min(150,Qe.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5)).max(2e5,Qe.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5)),otherwise:L().trim().test({name:"isValidDescription",message:Qe.BETWEEN_MIN_MAX_CHARACTER_LENGTH(150,2e5),test:s=>s?s.length>=150&&s.length<=2e5:!0})}),[Dx.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().required(nt).min(50,Qe.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150)).max(150,Qe.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150)).test(nn),otherwise:L().trim().test({name:"isValidSummary",message:Qe.BETWEEN_MIN_MAX_CHARACTER_LENGTH(50,150),test:s=>s?s.length>=50&&s.length<=150:!0}).test(nn)}),[Di.name]:L().trim().required(nt).oneOf([Ha,Eu]),[Ru.name]:L().when(Di.name,(s,a)=>s===Eu?a.required(Ru.errorMessage):a),[Du.name]:L().trim().when(Di.name,(s,a)=>s===Ha?a.required(Qe.FIELD_REQUIRED).test({name:"isValidUrlWithCustomSchemeRedirectUris",test:cu,message:Du.errorMessage}):a),[Nu.name]:L().trim().when(Di.name,(s,a)=>s===Ha?a.required(Qe.FIELD_REQUIRED).test({name:"isValidUrlWithCustomSchemeSignoutUris",test:cu,message:Nu.errorMessage}):a),[Mu.name]:L().trim().test({name:"isValidLimitToClientIds",test:s=>s?H0(s):!0,message:Mu.errorMessage}).test(nn),[Uu.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().required(nt),otherwise:L().notRequired()}).test({name:"isValidTermsAndConditionsUrl",message:Uu.errorMessage,test:s=>s?Ei(s):!0}),[Lu.name]:L().trim().when(Bn.name,{is:!0,then:L().trim().required(nt),otherwise:L().notRequired()}).test({name:"isValidPrivacyPolicyUrl",message:Lu.errorMessage,test:s=>s?Ei(s):!0}),[Ou.name]:L().trim().when([Mx.name,Bn.name],{is:(s,a)=>!s&&a,then:s=>s.required("Required if not free")}).test({name:"isValidPricingUrl",message:Ou.errorMessage,test:s=>s?Ei(s):!0}),[Lx.name]:L().trim().test({name:"isValidVideo1",message:"Video needs to be a valid https url",test:s=>s?Ei(s):!0}),[Ox.name]:L().trim().test({name:"isValidVideo2",message:"Video needs to be a valid https url",test:s=>s?Ei(s):!0}),[Ux.name]:L().required("At least one product must be selected"),[Fx.name]:L().trim().max(4,Ri(4)).test(nn),[zx.name]:L().trim().max(4,Ri(4)).test(nn)}),Wx=(s,a)=>()=>{(async()=>{var o;try{await Fu.validate({...s,isListed:!0},{abortEarly:!1}),a([])}catch(m){const f=(o=m==null?void 0:m.inner)==null?void 0:o.reduce((x,v)=>(x.includes(v.path)||x.push(v.path),x),[]);a(f)}})().catch(o=>console.error(o))},Vx=(s,a,o)=>{var _;const{isListed:m,scopes:f}=a,x=s==null?void 0:s.isListed,v=(_=s==null?void 0:s.scopes)==null?void 0:_.map(y=>y.name),b=!!(f!=null&&f.filter(y=>!(v!=null&&v.includes(y))).length);return!!(m&&x&&b&&o)},qx=(s,a,o)=>{var _,y;const m=a==null?void 0:a.isListed,f=(_=a==null?void 0:a.scopes)==null?void 0:_.map(P=>P.name),x=s==null?void 0:s.isListed,v=(y=s==null?void 0:s.scopes)==null?void 0:y.map(P=>P.name),b=!!(f!=null&&f.filter(P=>!(v!=null&&v.includes(P))).length);return!!(m&&x&&b&&o)},Bx=(s,a)=>()=>{a(s)},Gx=(s,a)=>()=>{s&&a(s)},Yx=(s,a,o)=>()=>{o.isRevalidating&&(s("isListed",o.isListed,{shouldValidate:!0}),a({...o,isRevalidating:!1,isSaving:!0}))},Hx=(s,a,o,m,f,x,v,b,_,y)=>()=>{a.isSaving&&o(async P=>{const I=xu(P),E=await m(I);s({isListed:P.isListed,isRevalidating:!1,isSaving:!1}),E&&(x(),v(),f()),Vx(b,I,y)&&_()})()},Zx=(s,a,o)=>async()=>{s({actionedBy:o}),a()},$x=()=>{var rn;const{appId:s}=Gr(),{appEditState:a,setAppId:o,appsDataState:m}=ye(),{globalDataState:f}=Ii(),{appEditForm:x,setAppEditSaving:v,appEditSaving:b,setAppUnsavedFields:_,setIncompleteFields:y,appHasInstallations:P}=a,{appsRefresh:I,appsDetailRefresh:E,appRefreshRevisions:T,appDetail:U,appRevisions:z}=m,D=z!=null&&z.data?z.data[0]:null,R=(rn=f==null?void 0:f.currentDeveloper)==null?void 0:rn.email,{Modal:G,openModal:q,closeModal:W}=qe(),[,,Q]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createAppRevsion],method:"POST",uriParams:{appId:s},returnType:Hr.LOCATION}),[,,X]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createConsentEmails],method:"POST",uriParams:{appId:s,revisionId:D==null?void 0:D.id}}),{register:H,handleSubmit:me,control:re,getValues:ke,setValue:_e,reset:Ge,formState:{errors:pn,dirtyFields:wn}}=$t({resolver:Qt(Fu),delayError:500,mode:"onChange",reValidateMode:"onBlur",defaultValues:{...x}}),Cn=Object.keys(wn).length;return B.useEffect(Qr(o,s),[s]),B.useEffect(Gx(wn,_),[Cn]),B.useEffect(Wx(ke(),y),[Cn]),B.useEffect(Bx(x,Ge),[x]),B.useEffect(Yx(_e,v,b),[b]),B.useEffect(Hx(v,b,me,Q,I,E,T,U,q,P),[b]),t.jsxs("form",{children:[t.jsx(Ix,{register:H,errors:pn,control:re,getValues:ke}),t.jsxs(G,{title:"Additional Permissions Requested",children:[t.jsx(w,{hasGreyText:!0,children:"As you have asked for additional permissions for your application and it is currently live and in use, we will need the consent of all clients that have installed your app before we can approve."}),t.jsx(w,{hasGreyText:!0,children:"By sending the request below, we will email the person that installed your app, requesting that they agree to the new permission(s). When all your installed customers have agreed to the new permissions, we will review your app revision as normal. If you choose not to send the request emails, we will do it for you as part of the review process."}),t.jsxs(w,{hasGreyText:!0,children:["If you do, you will be able to track the requests by selecting \u2018App Consents\u2019 on your app listing. For more information, please visit"," ",t.jsx("a",{onClick:te(ie.appPermissionsDocs),target:"_blank",rel:"noreferrer",children:"the docs here"}),"."]}),t.jsxs(ce,{alignment:"right",children:[t.jsx(N,{onClick:W,intent:"default",children:"Close"}),t.jsx(N,{fixedWidth:!0,onClick:Zx(X,W,R),intent:"primary",children:"Send Requests"})]})]})]})},Qx=(s,a)=>o=>{a&&s(`${oe.APPS}/${a}/edit/${o.target.value}`)},Kx=()=>{const s=lt(),a=pr(),{appId:o}=Gr(),{appsDataState:m,setAppId:f}=ye(),{isMobile:x}=Ht(),{Modal:v,openModal:b,closeModal:_}=qe();B.useEffect(Qr(f,o),[o]);const{appDetail:y,appDetailLoading:P}=m,{pathname:I}=a;return P?t.jsx(un,{}):y?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:y.name}),x&&t.jsxs(v,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:_,children:"Close"})})]}),t.jsx(eu,{isFullWidth:!0,name:"app-edit-tabs",onChange:Qx(s,o),options:[{id:tn.general,value:tn.general,text:"About Listings",isChecked:I.includes(tn.general)||I===oe.APPS_EDIT.replace(":appId",o??"")},{id:tn.appListing,value:tn.appListing,text:"AppMarket Listing",isChecked:I.includes(tn.appListing)},y.authFlow==="authorisationCode"&&{id:tn.authentication,value:tn.authentication,text:"Authentication",isChecked:I.includes(tn.authentication)},{id:tn.permissions,value:tn.permissions,text:"Permissions",isChecked:I.includes(tn.permissions)},y.authFlow==="authorisationCode"&&{id:tn.acIntegration,value:tn.acIntegration,text:"AgencyCloud Integration",isChecked:I.includes(tn.acIntegration)}].filter(Boolean)}),t.jsx($x,{}),t.jsx(Br,{onClick:b})]}):t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found"})},Xx=()=>{const s=lt(),{appId:a}=ye(),[o,m]=B.useState(!1),[f,x]=B.useState(!1);return t.jsxs(fr,{children:[t.jsxs(Fa,{children:[t.jsx(uu,{className:wi,children:t.jsx(Q0,{isAnimated:o})}),t.jsx(se,{children:"Pipeline Deployments"}),t.jsx(w,{hasGreyText:!0,children:"Pipelines are configurations used to deploy applications to our infrastructure. Think of them like a CI / CD runner like Github Actions, Travis or CircleCI"}),t.jsx(w,{hasGreyText:!0,children:"A Pipeline can be created via the developer portal or via our CLI NPM package."}),t.jsx(w,{hasGreyText:!0,children:"When you have created a pipeline for your app, you can either deploy it from the command line from a zip file, or by pulling directly from a Github or Bitbucket repo. This will give you a link to your deployed service in the Reapit Platform Cloud."}),t.jsx(N,{intent:"primary",onClick:Jn(s,oe.APP_PIPELINE_NEW.replace(":appId",a)),onMouseOver:()=>{m(!0)},onMouseOut:()=>{m(!1)},children:"Create Pipeline"})]}),t.jsxs(Fa,{children:[t.jsx(uu,{className:wi,children:t.jsx(K0,{isAnimated:f})}),t.jsx(se,{children:"Pipeline Documentation"}),t.jsx(w,{hasGreyText:!0,children:"For more on how to get started with Pipelines and deploying to Reapit infrastructure as a Service (IAAS), visit the doucmentation link below."}),t.jsx(w,{hasGreyText:!0,children:"Please note, this service is a public Alpha and there may be some reliabilty issues while we refine our processes. As such, for now you should only use our infra for internal testing, pre-production applications and non-mission critical services."}),t.jsx(N,{intent:"default",onClick:te(ie.pipelineDocs),onMouseOver:()=>{x(!0)},onMouseOut:()=>{x(!1)},children:"View Docs"})]})]})},zu="f141c8gf-four-col-table",Jx=s=>Si(s).format("DD MMM YYYY hh:mm:ss"),Wu=s=>Si(s).format("DD MMM YYYY hh:mm:ss"),Vu=["DOWNLOAD_SOURCE","INSTALL","BUILD","TEST","DEPLOY"],ev=({tasks:s,s3BuildLogsLocation:a,buildStatus:o,created:m})=>{if(!s||!s.length)return t.jsx(It,{isInline:!0,isFullWidth:!0,isExpanded:!0,intent:"primary",children:"No progress reported for this deployment"});const f=m;f.setDate(1);const x=new Date().getTime()<f.getTime();return t.jsxs(t.Fragment,{children:[t.jsxs(dr,{children:[t.jsxs(po,{className:zu,children:[t.jsx(At,{children:"Task"}),t.jsx(At,{children:"Status"}),t.jsx(At,{children:"Started"}),t.jsx(At,{children:"Finished"})]}),s.sort((v,b)=>Vu.indexOf(v.functionName)-Vu.indexOf(b.functionName)).map(v=>t.jsxs(ho,{className:zu,children:[t.jsx(Zt,{children:za(v.functionName)}),t.jsxs(Zt,{children:[t.jsx(ki,{intent:go(v.buildStatus)}),za(v.buildStatus)]}),t.jsx(Zt,{children:v.startTime?Wu(v.startTime):"-"}),t.jsx(Zt,{children:v.endTime?Wu(v.endTime):"-"})]},v.id))]}),t.jsx("div",{className:ee(fo),children:t.jsx(N,{intent:"primary",disabled:!a||!["FAILED","SUCCEEDED"].includes(o)||x,onClick:()=>{a&&te(a)()},children:x?"Logs Expired":a?"Download Logs":"Logs Unavailable"})})]})},nv=(s,a,o)=>()=>{o&&(a(),s(!1))},tv=(s,a)=>()=>{s&&s.items&&a(s.items)},rv=(s,a,o,m)=>f=>{var v;const x=(s==null?void 0:s.id)||m;!f||!x||((v=f.pipeline)==null?void 0:v.id)!==x||(a.length?o(a.map(b=>b.id===f.id?f:b)):o([f]))},iv=()=>{const[s,a]=B.useState(1),[o,m]=B.useState([]),{appPipelineState:f,appId:x}=ye(),{connectSession:v}=bn(K),{appPipeline:b,setAppPipelineDeploying:_,appPipelineDeploying:y,appPipelinePusherChannel:P}=f,[I,E,,T]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getPipelineDeployments],uriParams:{pipelineId:b==null?void 0:b.id},headers:{Authorization:v==null?void 0:v.idToken},fetchWhenTrue:[v==null?void 0:v.idToken],queryParams:{page:s}});return M0(P,"pipeline-runner-update",rv(b,o,m,x)),B.useEffect(tv(I,m),[I]),B.useEffect(nv(_,T,y),[y]),t.jsx(t.Fragment,{children:E?t.jsx(un,{}):t.jsxs(t.Fragment,{children:[t.jsx(dr,{className:jn,rows:o.map(({type:U,created:z,buildStatus:D,buildVersion:R,currentlyDeployed:G,tasks:q,s3BuildLogsLocation:W})=>({cells:[{label:"Release Type",value:U?U0(U):"Unknown",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Created",value:z?Jx(z):"-",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Status",value:"",children:t.jsxs(t.Fragment,{children:[t.jsx(ki,{intent:go(D)}),za(D)]}),cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Version",value:R,cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Currently Deployed",value:G?"Deployed":"Not Deployed",cellHasDarkText:!0,narrowTable:{showLabel:!0}}],expandableContent:{content:t.jsx(ev,{tasks:q,s3BuildLogsLocation:W,buildStatus:D,created:new Date(z)})}}))}),!I||I.items.length===0&&t.jsx(w,{hasGreyText:!0,children:"This pipeline has not yet been deployed."}),I&&I.items.length>=1&&t.jsx(lo,{currentPage:I.meta.currentPage,numberPages:I.meta.totalPages,callback:a})]})})},av=s=>{switch(s){case"configure":return oe.APP_PIPELINE_CONFIGURE;case"deployments":return oe.APP_PIPELINE;case"environment":return oe.APP_PIPELINE_ENVIRONMENT;case"DNS":return oe.APP_PIPELINE_DNS}},sv=(s,a)=>o=>{const m=o.target.value,f=av(m);a&&s(f.replace(":appId",a))},Za=()=>{const s=pr(),a=lt(),{appId:o}=ye(),{pathname:m}=s;return t.jsx(eu,{isFullWidth:!0,name:"pipeline-tabs",onChange:sv(a,o),options:[{id:"deployments",value:"deployments",text:"Deployments",isChecked:!m.includes("configure")&&!m.includes("environment")&&!m.includes("dns")},{id:"configure",value:"configure",text:"Configure",isChecked:m.includes("configure")},{id:"environment",value:"environment",text:"Environment Variables",isChecked:m.includes("environment")},{id:"DNS",value:"DNS",text:"Custom DNS",isChecked:m.includes("dns")}]})};var ov={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const qu=s=>{const a=ov.appEnv==="production",o=!s;if(o&&a)return"https://bitbucket.org/site/addons/authorize?addon_key=reapit";if(o)return"https://bitbucket.org/site/addons/authorize?addon_key=reapit-dev";if(s&&a)return"https://github.com/apps/reapit";if(s)return"https://github.com/apps/reapit-dev"},lv=()=>{var b,_,y,P,I,E;const{appPipelineState:s}=ye(),{appPipeline:a}=s,o=`https://${a==null?void 0:a.subDomain}.iaas.paas.reapit.cloud`,m=!!((_=(b=a==null?void 0:a.repository)==null?void 0:b.repositoryUrl)!=null&&_.includes("github")),f=!!((P=(y=a==null?void 0:a.repository)==null?void 0:y.repositoryUrl)!=null&&P.includes("bitbucket")),x=!!((I=a==null?void 0:a.repository)!=null&&I.installationId),v=!!(a!=null&&a.bitbucketClientId);return t.jsxs(t.Fragment,{children:[t.jsx(Za,{}),t.jsxs(fr,{className:jn,children:[t.jsx(Fe,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(de,{className:ut,icon:"refreshInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Status"}),t.jsxs(w,{hasNoMargin:!0,hasGreyText:!0,children:[t.jsx(ki,{intent:go((a==null?void 0:a.buildStatus)??"")})," ",za((a==null?void 0:a.buildStatus)??"")]})]})]})}),t.jsx(Fe,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(de,{className:ut,icon:"apiDocsInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Repository"}),t.jsxs(w,{hasNoMargin:!0,hasGreyText:!0,children:[t.jsx(ki,{intent:m||f?"success":"danger"})," ",(E=a==null?void 0:a.repository)!=null&&E.repositoryUrl?t.jsx("a",{href:a.repository.repositoryUrl,target:"_blank",rel:"noreferrer",children:a.repository.repositoryUrl}):"Not configured"]})]})]})}),t.jsx(Fe,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(de,{className:ut,icon:"globeInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Location"}),t.jsx(w,{hasNoMargin:!0,hasGreyText:!0,children:a!=null&&a.subDomain?t.jsx("a",{href:o,target:"_blank",rel:"noreferrer",children:o}):"Awaiting provision request"})]})]})}),t.jsx(Fe,{children:t.jsxs(we,{isFlexAlignCenter:!0,children:[t.jsx(de,{className:ut,icon:"webhooksInfographic",iconSize:"medium"}),t.jsxs("div",{children:[t.jsx(se,{hasNoMargin:!0,children:"Github / Bitbucket App"}),t.jsxs(we,{children:[t.jsx("div",{className:C0,children:t.jsx(ki,{intent:m?x?"success":"critical":f?v?"success":"critical":"danger"})}),t.jsx(w,{hasNoMargin:!0,hasGreyText:!0,children:x?"Github app installed successfully":v?"Bitbucket app installed successfully":!m&&!f?"You need to confgure a repo before installing either the Github or Bitbucket app":t.jsxs(t.Fragment,{children:["To deploy from repos, configure either the Reapit"," ",t.jsx("a",{href:qu(!0),target:"_blank",rel:"noreferrer",children:"Github"})," ","or"," ",t.jsx("a",{href:qu(!1),target:"_blank",rel:"noreferrer",children:"Bitbucket"})," ","app."]})})]})]})]})})]}),t.jsx(iv,{})]})},cv=qn().shape({name:L().required("Required - defaults to your app name").test(nn),branch:L().required('Required - eg "main", "master"').test(nn),repository:qn().shape({repositoryUrl:L().trim().test({name:"isValidDescription",message:"Should be a secure https url if supplied",test:s=>s?su.test(s):!0}).test(nn)}),buildCommand:L().trim().required('A build command is required eg "build" or "bundle"').test(nn),packageManager:L().required("Required - Please select a package manager"),outDir:L().required('Required eg "dist" or "public').test(nn)}),uv=(s,a,o,m)=>async f=>{const x={...f,packageManager:f.packageManager===ft.YARN_BERRY?ft.YARN_BERRY:f.packageManager===ft.YARN?ft.YARN:ft.NPM,appId:m??"",appType:mu.REACT};x.repository||delete x.repository,await s(x)&&(a(!1),o())},dv=(s,a,o)=>()=>{o&&a&&s(oe.APP_PIPELINE.replace(":appId",a))},pv=(s,a,o)=>()=>{a&&(s(),o(!1))},hv=(s,a)=>{if(s){const{name:o,branch:m,repository:f,buildCommand:x,packageManager:v,outDir:b}=s;return{name:o,branch:m,repository:f,buildCommand:x,outDir:b,packageManager:v}}return{name:a==null?void 0:a.name,buildCommand:"build",outDir:"build",branch:"main",packageManager:ft.NPM}},Bu=()=>{var R,G,q,W,Q,X,H,me;const s=lt(),a=pr(),{connectSession:o}=bn(K),{appPipelineState:m,appId:f,appsDataState:x}=ye(),{appPipelineRefresh:v,appPipelineSaving:b,appPipeline:_,setAppPipelineSaving:y}=m,{appDetail:P}=x,{register:I,handleSubmit:E,formState:{errors:T}}=$t({resolver:Qt(cv),defaultValues:hv(_,P)}),[,,U,z]=Me({reapitConnectBrowserSession:K,action:Ue[_?Re.updatePipeline:Re.createPipeline],method:_?"PUT":"POST",uriParams:{pipelineId:f},headers:{Authorization:o==null?void 0:o.idToken}}),D=E(uv(U,y,v,f));return B.useEffect(dv(s,f,z),[z,f]),B.useEffect(pv(D,b,y),[b]),t.jsxs(t.Fragment,{children:[!a.pathname.includes("new")&&t.jsx(Za,{}),t.jsx(w,{hasGreyText:!0,children:"Tell us about how we should build your application here. We assume that your application is a front end app and that, it uses either yarn or npm to run scripts decalared in a package.json file. We assume also that your application is bundled and that bundle is output to a local directory that we can deploy for you."}),t.jsx("form",{children:t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Name"}),t.jsx(Et,{...I("name")}),((R=T.name)==null?void 0:R.message)&&t.jsx(Pe,{message:T.name.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Deployment Branch"}),t.jsx(Et,{...I("branch")}),((G=T.branch)==null?void 0:G.message)&&t.jsx(Pe,{message:T.branch.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Github Repository"}),t.jsx(Et,{...I("repository.repositoryUrl"),placeholder:"https://github.com/org/repo"}),((W=(q=T.repository)==null?void 0:q.repositoryUrl)==null?void 0:W.message)&&t.jsx(Pe,{message:(Q=T.repository)==null?void 0:Q.repositoryUrl.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Package Manager"}),t.jsxs(_0,{id:"package-manager-select",...I("packageManager"),children:[t.jsx("option",{value:ft.NPM,children:"NPM"}),t.jsx("option",{value:ft.YARN,children:"YARN"}),t.jsx("option",{value:ft.YARN_BERRY,children:"YARN BERRY"})]}),((X=T.packageManager)==null?void 0:X.message)&&t.jsx(Pe,{message:T.packageManager.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Build Command"}),t.jsx(Et,{...I("buildCommand")}),((H=T.buildCommand)==null?void 0:H.message)&&t.jsx(Pe,{message:T.buildCommand.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Build Directory"}),t.jsx(Et,{...I("outDir")}),((me=T.outDir)==null?void 0:me.message)&&t.jsx(Pe,{message:T.outDir.message})]})})]})})]})},fv=qn().shape({value:L().matches(/^\w+$/,"Can only container letters and underscores").required("Required - env needs a value")}),gv=({appId:s,connectSession:a,keyValue:o,isOpen:m})=>{var I,E;const[f,,x]=Me({reapitConnectBrowserSession:K,action:Ue[Re.upsertPipelineEnvironment],uriParams:{pipelineId:s},method:"PUT",headers:{Authorization:a==null?void 0:a.idToken}}),{register:v,handleSubmit:b,formState:{errors:_},reset:y}=$t({resolver:Qt(fv)}),P=b(async T=>{await x({key:o,value:T.value})&&y()});return t.jsx(S0,{isOpen:m,children:t.jsx("div",{className:ee(qr,fo),children:t.jsxs("form",{onSubmit:P,children:[t.jsx(se,{children:"Update Environment Variable"}),t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Key"}),t.jsx(Et,{...v("key"),value:o||"",disabled:!0}),((I=_.key)==null?void 0:I.message)&&t.jsx(Pe,{message:_.key.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Value"}),t.jsx(Et,{...v("value")}),((E=_.value)==null?void 0:E.message)&&t.jsx(Pe,{message:_.value.message})]})})]}),t.jsx(ce,{alignment:"center",children:t.jsx(N,{loading:f,disabled:f,intent:"primary",children:"Save"})})]})})})},mv=qn().shape({key:L().matches(/^[a-zA-Z_]+$/,"Can only container letters and underscores").notOneOf([q0("existingKeys")],"Key already exists").required("Required - key cannot be blank"),value:L().required("Required - env needs a value").matches(/^[a-zA-Z0-9\-_]+$/,"Can only container letters, numbers, underscores and hyphens"),existingKeys:B0()}),xv=()=>{var H,me;const{connectSession:s}=bn(K),{appId:a}=ye(),{Modal:o,openModal:m,closeModal:f}=qe(),[x,v]=B.useState([]),[b,_]=B.useState(!1),[y,P]=B.useState([]),[I,E]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getPipelineEnvironment],uriParams:{pipelineId:a},headers:{Authorization:s==null?void 0:s.idToken},fetchWhenTrue:[s==null?void 0:s.idToken]}),[T,,U]=Me({reapitConnectBrowserSession:K,action:Ue[Re.upsertPipelineEnvironment],uriParams:{pipelineId:a},method:"PUT",headers:{Authorization:s==null?void 0:s.idToken}}),[z,,D]=Me({reapitConnectBrowserSession:K,action:Ue[Re.deletePipelineEnvironment],uriParams:{pipelineId:a},method:"DELETE",headers:{Authorization:s==null?void 0:s.idToken}}),{register:R,handleSubmit:G,formState:{errors:q},setValue:W,resetField:Q}=$t({resolver:Qt(mv),defaultValues:{existingKeys:[]}});B.useEffect(()=>{I&&(v(I),W("existingKeys",I))},[I]);const X=G(async({key:re,value:ke,existingKeys:_e})=>{await U({key:re,value:ke,existingKeys:_e})&&(Q("key"),Q("value"),f(),v([...x,re]))});return t.jsxs(t.Fragment,{children:[t.jsx(Za,{}),t.jsx(w,{hasGreyText:!0,children:"You can add your Environment variables for your application here. If you supply any key value pair we will write them to the process.ENV object at compile time when building your app."}),t.jsx(w,{hasGreyText:!0,children:"All variables are stored in a secure and encrypted format however, if you are building a web app environment variables are inherently insecure. As such, you should only store values that can be exposed on the client side."}),t.jsx(w,{hasGreyText:!0,children:"Currently we do not surface your variables over an API when you have stored them for security reasons. If you need to confirm a variable value, we would advise updating it and re-deploying your app."}),E?t.jsx(un,{}):t.jsxs(t.Fragment,{children:[x.length?t.jsxs(dr,{className:jn,children:[t.jsxs(po,{children:[t.jsx(At,{children:"Variable Key"}),t.jsx(At,{children:"Update Variable"})]}),x.map(re=>t.jsxs(nu,{children:[t.jsxs(ho,{children:[t.jsx(Zt,{children:re}),t.jsx(Zt,{children:t.jsxs(ce,{children:[t.jsx(N,{intent:"default",onClick:()=>{Q("key"),Q("value"),_(re===b?!1:re)},children:"Update"}),t.jsx(N,{intent:"danger",loading:z&&y.includes(re),disabled:z&&y.includes(re),onClick:async()=>{P([...y,re]),await D(void 0,{uriParams:{key:re}}),P(y.filter(ke=>ke!==re)),v(x.filter(ke=>ke!==re))},children:"Delete"})]})})]}),t.jsx(gv,{appId:a,connectSession:s,keyValue:re,isOpen:typeof b=="string"&&re===b})]},re))]}):t.jsx(It,{className:jn,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No environment variables currently configured for your pipeline. You can create an environment variable below."}),t.jsx(ce,{alignment:"left",children:t.jsx(N,{intent:"primary",onClick:m,children:"Create Environment Variable"})})]}),t.jsx(o,{title:"Add new Environment Variable",className:ee(qr,fo),children:t.jsxs("form",{onSubmit:X,children:[t.jsxs(Tn,{hasMargin:!0,children:[t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Key"}),t.jsx(Et,{...R("key")}),((H=q.key)==null?void 0:H.message)&&t.jsx(Pe,{message:q.key.message})]})}),t.jsx(xe,{children:t.jsxs(pe,{children:[t.jsx(ze,{children:"Value"}),t.jsx(Et,{...R("value")}),((me=q.value)==null?void 0:me.message)&&t.jsx(Pe,{message:q.value.message})]})})]}),t.jsxs(ce,{alignment:"right",children:[t.jsx(N,{intent:"default",onClick:f,children:"Close"}),t.jsx(N,{intent:"primary",type:"submit",disabled:T,loading:T,children:"Create"})]})]})})]})},vv=qn().shape({customDomain:L().url().trim().required()}),Gu=({customDomain:s,buttonText:a="Edit DNS",pipelineId:o})=>{const{modalIsOpen:m,closeModal:f,openModal:x}=qe(),{register:v,formState:{errors:b},handleSubmit:_}=$t({defaultValues:{customDomain:s},resolver:Qt(vv)});return Me({action:Ue[Re.createCustomPipelineDnsRecord],method:"POST",headers:{},reapitConnectBrowserSession:K,uriParams:{pipelineId:o}}),t.jsxs(t.Fragment,{children:[t.jsx(N,{onClick:()=>x(),intent:"primary",children:a}),t.jsxs(k0,{isOpen:m,onModalClose:f,children:[t.jsx(se,{children:"Setup DNS"}),t.jsx("form",{onSubmit:_(y=>{console.log("values",y)}),children:t.jsxs(Tn,{children:[t.jsxs(en,{children:[t.jsx(pe,{...v("customDomain"),label:"domain name",placeholder:"https://mydomain.com"}),b&&b.customDomain&&t.jsx(It,{className:qr,isFullWidth:!0,isExpanded:!0,intent:"danger",isInline:!0,children:b.customDomain.message})]}),t.jsx(en,{children:t.jsx(N,{intent:"primary",children:"Next"})})]})})]})]})},yv=({pipelineId:s})=>t.jsxs(t.Fragment,{children:[t.jsx(w,{children:"By Clicking the button below, you'll start the custom DNS process"}),t.jsx(Gu,{buttonText:"Setup Custom DNS",pipelineId:s})]}),jv=({customDomain:s,verifyDnsValue:a,pipelineId:o})=>t.jsxs(t.Fragment,{children:[t.jsx(se,{children:"Step 2"}),t.jsx(w,{children:"Use the Text Record Value below to create a TXT record against your configured domain name."}),t.jsx(w,{children:`Once you've added that TXT record. Click the "Verify Record" button below to begin verifying your domain.`}),t.jsx(t.Fragment,{children:t.jsxs(Tn,{children:[t.jsxs(en,{children:[t.jsx(ze,{children:"Domain"}),t.jsx(w,{children:s})]}),t.jsxs(en,{children:[t.jsx(ze,{children:"Text Record Value"}),t.jsx(w,{children:a})]}),t.jsx(en,{children:t.jsxs(ce,{children:[t.jsx(N,{intent:"primary",children:"Verify Record"}),t.jsx(Gu,{customDomain:s,buttonText:"Edit Domain",pipelineId:o})]})})]})})]}),bv=({verifyDnsValue:s,customDomain:a})=>t.jsx(t.Fragment,{children:t.jsxs(Tn,{children:[t.jsxs(xe,{children:[t.jsx(ze,{children:"Text Record Value"}),s]}),t.jsxs(xe,{children:[t.jsx(ze,{children:"Domain Name"}),a]}),t.jsx(xe,{children:t.jsx(N,{children:"Change"})})]})}),wv=()=>{const{appId:s}=ye();bn(K);const{appPipelineState:a}=ye(),{domainVerified:o,verifyDnsName:m,verifyDnsValue:f,customDomain:x}=a.appPipeline;console.log("test",{domainVerified:o,verifyDnsName:m,verifyDnsValue:f,customDomain:x});const v=o?"verified":(!m||!f)&&x?"setup":"not-started";return console.log("step",v),t.jsxs(t.Fragment,{children:[t.jsx(Za,{}),t.jsx(se,{children:"Custom DNS Configuration"}),s?v==="verified"?t.jsx(bv,{}):v==="not-started"?t.jsx(yv,{pipelineId:s}):t.jsx(jv,{pipelineId:s,verifyDnsValue:f,customDomain:x}):t.jsx(un,{})]})},Cv=()=>{const s=pr(),{connectSession:a}=bn(K),{appsDataState:o,appPipelineState:m}=ye(),{isMobile:f}=Ht(),{Modal:x,openModal:v,closeModal:b}=qe(),{pathname:_}=s,{appDetail:y,appDetailLoading:P}=o,{appPipeline:I,appPipelineLoading:E}=m,T=_.includes("configure")?"configure":_.includes("environment")?"environment":_.includes("dns")?"DNS":"deployments";return t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:"App Pipeline"}),f&&t.jsxs(x,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:b,children:"Close"})})]}),E||!a||P?t.jsx(un,{}):!I&&y?t.jsx(Xx,{}):I&&y?t.jsx(t.Fragment,{children:T==="configure"?t.jsx(Bu,{}):T==="deployments"?t.jsx(lv,{}):T==="environment"?t.jsx(xv,{}):t.jsx(wv,{})}):t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of this app found, please select an app from the My Apps page."}),t.jsx(Br,{onClick:v})]})},_v=()=>{const{isMobile:s}=Ht(),{Modal:a,openModal:o,closeModal:m}=qe();return t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:"New Pipeline"}),s&&t.jsxs(a,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:m,children:"Close"})})]}),t.jsx(Bu,{}),t.jsx(Br,{buttonOnClick:o})]})},Sv=s=>()=>{const a=setTimeout(()=>{s(!1)},1e4);return()=>clearTimeout(a)},kv=(s,a)=>()=>{s(!a)},Iv=()=>{const{setAppId:s}=ye(),[a,o]=B.useState(!0),{appId:m}=Gr();return B.useEffect(Qr(s,m),[m]),B.useEffect(Sv(o),[]),t.jsxs(mo,{children:[t.jsxs(It,{onClick:kv(o,a),isExpanded:a,intent:"primary",children:["Pipelines are in public beta and under active development. Please give us feeback and report bugs via"," ",t.jsx("a",{href:ie.iaasBugs,target:"_blank",rel:"noopener noreferrer",children:"Github"})," ","or"," ",t.jsx("a",{href:"mailto:iaasbeta@reapitfoundations.zendesk.com?subject=IAAS%20Beta",target:"_blank",rel:"noopener noreferrer",children:"email."})]}),t.jsxs(uo,{children:[t.jsx(dn,{path:oe.APP_PIPELINE_NEW.split("pipeline/")[1],element:t.jsx(_v,{})}),t.jsx(dn,{path:"*",element:t.jsx(Cv,{})})]})]})},Av=({offices:s})=>t.jsxs("div",{className:I0,children:[t.jsx(se,{children:"Total Offices"}),t.jsx(w,{hasGreyText:!0,children:s.length}),t.jsxs(dr,{className:jn,"data-num-columns-excl-action-col":"2","data-has-expandable-action":"false",children:[t.jsxs(po,{children:[t.jsx(At,{children:"Office Name"}),t.jsx(At,{children:"Office ID"}),t.jsx(At,{})]}),s.map(({name:a,id:o})=>t.jsx(nu,{children:t.jsxs(ho,{children:[t.jsx(Zt,{children:a}),t.jsx(Zt,{children:o})]})},o))]})]}),Ev=qn().shape({appId:L().trim().required(Qe.FIELD_REQUIRED),terminatedBy:L(),terminatedReason:L().trim().required(Qe.FIELD_REQUIRED).min(10,"Must be a minimum of 10 characters").test(nn),terminatesOn:L().trim().required(Qe.FIELD_REQUIRED)}),Tv=(s,a,o)=>async m=>{await a({...m,terminatedBy:s})&&o(null)},Pv=(s,a,o)=>()=>{o&&(s(),a())},Rv=(s,a,o)=>()=>{o&&(a(),s(o))},Dv=(s,a)=>()=>{s(a)},Nv=()=>{var _e,Ge;const{appId:s}=Gr(),{setAppId:a}=ye(),[o,m]=B.useState(null),[f,x]=B.useState(null),[v,b]=B.useState(1),{connectSession:_}=bn(K),{Modal:y,openModal:P,closeModal:I}=qe(),{Modal:E,openModal:T,closeModal:U}=qe(),{isMobile:z}=Ht(),D=_==null?void 0:_.loginIdentity.developerId,R=(_==null?void 0:_.loginIdentity.email)??"",[G,q,,W]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getInstallations],queryParams:{appId:s,pageNumber:v,pageSize:12,isInstalled:!0,developerId:D},fetchWhenTrue:[D]}),[Q,,X,H]=Me({reapitConnectBrowserSession:K,action:Ue[Re.terminateInstallation],uriParams:{installationId:o}}),{register:me,handleSubmit:re,formState:{errors:ke}}=$t({resolver:Qt(Ev),defaultValues:{appId:s,terminatedBy:"",terminatedReason:"",terminatesOn:new Date().toISOString()}});return B.useEffect(Qr(a,s),[s]),B.useEffect(Pv(W,I,H),[H]),t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:"Installations"}),z&&t.jsxs(E,{title:"Controls",children:[t.jsx(xr,{}),t.jsx(ce,{alignment:"right",children:t.jsx(N,{intent:"default",onClick:U,children:"Close"})})]}),q?t.jsx(un,{}):G!=null&&G.totalCount?t.jsxs(t.Fragment,{children:[t.jsxs(w,{hasGreyText:!0,hasSectionMargin:!0,children:["The table below gives you the information you need to understand Reapit Client organisations that have installed your application for use. In addition, you can force terminate a customer installation by using the call to action on each row. For more information on the installations table",t.jsx("a",{onClick:te(ie.installationsTableDocs),children:" see here"}),"."]}),t.jsx(dr,{className:jn,rows:(_e=G==null?void 0:G.data)==null?void 0:_e.map(({customerName:pn,appName:wn,client:Cn,customerAddress:rn,created:an,installedBy:sn,id:Xt,officeGroup:Ke})=>{var Ye;return{cells:[{label:"Customer Name",value:pn??"",icon:"flatInfographic",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Reapit Customer Code",value:Cn??"",narrowTable:{showLabel:!0}},{label:"Customer Address",value:n2(rn),narrowTable:{showLabel:!0}},{label:"Date Installed",value:Si(an).format("DD-MM-YYYY"),narrowTable:{showLabel:!0}},{label:"Installed By",value:t.jsx("a",{href:`mailto:${sn}?subject=Your%20recent%20installation%20of%20${wn}%20in%20the%20Reapit%20AppMarket`,target:"_blank",rel:"noreferrer",children:sn}),narrowTable:{showLabel:!0}}],expandableContent:{content:t.jsxs(t.Fragment,{children:[t.jsxs(ce,{alignment:"center",children:[(Ye=Ke==null?void 0:Ke.offices)!=null&&Ye.length?t.jsx(N,{intent:"primary",onClick:Dv(x,Ke.offices),children:"Show Installed Offices"}):null,t.jsx(N,{type:"button",intent:"danger",onClick:Rv(m,P,Xt),children:"Uninstall"})]}),f&&(Ke==null?void 0:Ke.offices)===f&&t.jsx(Av,{offices:f})]})}}})}),t.jsx(lo,{callback:b,currentPage:v,numberPages:Math.ceil(((G==null?void 0:G.totalCount)??1)/12)}),t.jsxs(y,{title:"Confirm Uninstallation",children:[t.jsx(w,{children:"Please provide a reason for terminating this installation"}),t.jsxs("form",{onSubmit:re(Tv(R,X,m)),children:[t.jsx(Tn,{hasMargin:!0,children:t.jsx(en,{children:t.jsx(pe,{label:"Uninstallation Reason",type:"text",...me("terminatedReason"),inputAddOnText:(Ge=ke.terminatedReason)==null?void 0:Ge.message,intent:"danger"})})}),t.jsxs(ce,{alignment:"right",children:[t.jsx(N,{intent:"default",type:"button",onClick:I,children:"Close"}),t.jsx(N,{disabled:Q,loading:Q,intent:"danger",type:"submit",children:"Uninstall"})]})]})]})]}):G?t.jsx(It,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No installations for the application."}):null,t.jsx(Br,{onClick:T})]})},Mv=(s,a,o,m,f)=>()=>{m&&(async()=>{const x=await s({actionedBy:f});a(null),x&&o()})().catch(x=>console.error(x))},Uv=(s,a)=>()=>{a&&s(a)},Lv=(s,a,o)=>async()=>{await s({actionedBy:o})&&a()},Ov=()=>{const{globalDataState:s}=Ii(),[a,o]=B.useState(null),{appsDataState:m,setAppId:f}=ye(),{currentDeveloper:x}=s,v=x==null?void 0:x.id,b=x==null?void 0:x.email,{appId:_}=Gr();B.useEffect(Qr(f,_),[_]);const{appDetail:y,appRevisions:P}=m,{name:I}=y??{},E=P!=null&&P.data?P.data[0]:null,[T,U,,z]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getRevisionConsents],uriParams:{appId:_,revisionId:E==null?void 0:E.id},fetchWhenTrue:[_,E,y==null?void 0:y.pendingRevisions,y==null?void 0:y.isListed]}),[,,D]=Me({reapitConnectBrowserSession:K,action:Ue[Re.createConsentEmails],method:"POST",uriParams:{appId:_,revisionId:E==null?void 0:E.id}}),[R]=Pn({reapitConnectBrowserSession:K,action:Rn[Dn.getInstallations],queryParams:{appId:_,pageNumber:1,pageSize:999,isInstalled:!0,developerId:v},fetchWhenTrue:[v]}),[,,G]=Me({reapitConnectBrowserSession:K,action:Ue[Re.resendConsentEmail],method:"POST",uriParams:{appId:_,revisionId:E==null?void 0:E.id,consentId:a}});return B.useEffect(Mv(G,o,z,a,b),[a]),t.jsx(t.Fragment,{children:U||!T?t.jsx(un,{}):T.length?t.jsxs(t.Fragment,{children:[t.jsxs(Kn,{children:[I," Consents"]}),t.jsx(dr,{numberColumns:6,rows:T.map(q=>{var W,Q,X,H;return{cells:[{label:"Client",value:(Q=(W=R==null?void 0:R.data)==null?void 0:W.find(me=>me.id===q.installationId))==null?void 0:Q.customerName,icon:"property",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Email",value:q.installedBy,narrowTable:{showLabel:!0}},{label:"Date Sent",value:Si(q.sentDate).format("DD/MM/YYYY HH:mm"),narrowTable:{showLabel:!0}},{label:"Status",value:`${(X=q.status)==null?void 0:X.charAt(0).toUpperCase()}${(H=q.status)==null?void 0:H.slice(1)}`,narrowTable:{showLabel:!0}},{label:"Date Accepted",value:q.approvalDate?Si(q.approvalDate).format("DD/MM/YYYY HH:mm"):"-",narrowTable:{showLabel:!0}}],ctaContent:{headerContent:"Resend Email",icon:"email",onClick:Uv(o,q.id)}}})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Kn,{children:[I," Consents"]}),t.jsx(It,{className:jn,intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No record of any consents for this app - it looks like you need to send an email requesting that your customers agree to your new permission settings. You can do this below or our team will do it as part of the review process."}),t.jsx(ce,{alignment:"left",children:t.jsx(N,{fixedWidth:!0,onClick:Lv(D,z,b),intent:"primary",children:"Send Requests"})})]})})};var Fv={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const zv=()=>{const s=lt(),a=pr(),{pathname:o}=a,{appsDataState:m,appId:f,appEditState:x}=ye(),{globalDataState:v}=Ii(),{currentDeveloper:b}=v,{appLatestRevision:_,appHasInstallations:y}=x,{apps:P,appsLoading:I,appDetail:E}=m,{isAppsList:T,isAppsNew:U,isAppsWelcome:z,isAppsEdit:D,isAppsDetail:R,isAppsInstallations:G,isAppPipelines:q,isAppConsents:W}=hu(o),Q=(b==null?void 0:b.id)&&Fv.pipelineWhitelist.includes(b.id)&&(E==null?void 0:E.authFlow)!=="clientCredentials",X=qx(E,_,y);return t.jsx(mo,{children:t.jsx(L0,{children:t.jsx(we,{isFlexAuto:!0,children:I||!P?t.jsx(t.Fragment,{children:t.jsx(tu,{className:La,children:t.jsx(un,{})})}):!P.totalCount&&!z&&T?t.jsx(A0,{to:oe.APPS_WELCOME}):t.jsxs(t.Fragment,{children:[!!P.totalCount&&t.jsxs(E0,{children:[t.jsxs(T0,{className:Oe,children:[t.jsx(gr,{onClick:Jn(s,oe.APPS),active:T,children:"My Apps"}),(D||R||G||q||W)&&t.jsxs(t.Fragment,{children:[t.jsx(gr,{onClick:Jn(s,`${oe.APPS}/${f}`),active:R,children:"App Details"}),t.jsx(gr,{onClick:Jn(s,`${oe.APPS}/${f}/edit/general`),active:D,children:"Edit App"}),t.jsx(gr,{onClick:Jn(s,`${oe.APPS}/${f}/installations`),active:G,children:"Installations"}),Q&&t.jsx(gr,{onClick:Jn(s,`${oe.APPS}/${f}/pipeline`),active:q,children:"Pipeline"}),X&&t.jsx(gr,{onClick:Jn(s,`${oe.APPS}/${f}/consents`),active:W,children:"App Consents"})]}),t.jsx(gr,{onClick:Jn(s,oe.APPS_NEW),active:U,children:"New App"})]}),t.jsx(xr,{})]}),t.jsx(tu,{className:La,children:t.jsx(mo,{children:t.jsxs(uo,{children:[t.jsx(dn,{index:!0,element:t.jsx(M2,{})}),t.jsx(dn,{path:oe.APPS_NEW.replace("/apps/",""),element:t.jsx(ox,{})}),t.jsx(dn,{path:oe.APPS_WELCOME.replace("/apps/",""),element:t.jsx(a2,{})}),t.jsx(dn,{path:oe.APP_INSTALLATIONS.replace("/apps/",""),element:t.jsx(Nv,{})}),t.jsx(dn,{path:`${oe.APPS_EDIT.replace("/apps/","")}/*`,element:t.jsx(Kx,{})}),t.jsx(dn,{path:oe.APPS_CONSENTS.replace("/apps/",""),element:t.jsx(Ov,{})}),Q&&t.jsx(dn,{path:`${oe.APP_PIPELINE.replace("/apps/","")}/*`,element:t.jsx(Iv,{})}),t.jsx(dn,{path:oe.APP_DETAIL.replace("/apps/",""),element:t.jsx(cx,{})})]})})})]})})})})};var Wv={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Yu=()=>{const{connectSession:s}=bn(K);return s?t.jsx(O0,{cluster:"eu",clientKey:Wv.PUSHER_KEY,authEndpoint:`${F0.DEPLOYMENT_SERVICE_HOST}pusher/auth`,auth:{headers:{Authorization:s.idToken}},children:t.jsx(z0,{children:t.jsx(zv,{})})}):null};export{Yu as Apps,Yu as default};
