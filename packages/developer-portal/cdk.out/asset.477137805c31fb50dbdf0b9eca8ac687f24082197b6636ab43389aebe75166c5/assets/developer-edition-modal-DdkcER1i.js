import{o as I,r as S,j as e,p as a,k as d,c as s,az as U}from"./vendor-D_Z2viGi.js";import{e as B,u as P,r as k,q as _,c as F,d as G,U as R,R as q}from"./index-jXpIrNEd.js";const O="/assets/developer-edition-guide-BAbFKkPV.pdf";var L={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const z="An identical subscription is already active",g=()=>{window.open(L.developerEditionDownloadUrl,"_self")},M=(t,i,l,r)=>async()=>{!r||!t||await i({developerId:(t==null?void 0:t.id)||"",user:r,type:"developerEdition"})&&l("INITIAL")},p=(t,i)=>()=>{t("INITIAL"),i()},W=(t,i)=>()=>{i&&t()},Y=(t,i,l,r)=>t?"Existing Subscription":i?"Success":l?"Unable to create subscription":(r==null?void 0:r.status)==="incomplete"?"Account Information Required":"Agency Cloud Developer Edition",N=(t,i)=>(t==null?void 0:t.role)==="admin"&&(i==null?void 0:i.status)==="incomplete"?e.jsxs("p",{children:["Before you can subscribe to the Developer Edition of AgencyCloud, we will first need to verify your account information. Please",e.jsxs("a",{href:"mailto:jhennessy@reapit.com?subject=Developer%20Edition%20of%20AgencyCloud%20Subscription",target:"_blank",rel:"noopener noreferrer",children:[" ","click here"]})," ","to contact a member of the team."]}):(t==null?void 0:t.role)==="user"&&(i==null?void 0:i.status)==="incomplete"?e.jsx("p",{children:"Before you can subscribe to the Developer Edition of Agency Cloud, billing information will need to be submitted. Please ask the Admin of your organisation to visit this page to contact a member of the team."}):null,X=t=>t?"By confirming the subscription below, a subscription will be added to your developer account but you will not be charged as an existing Reapit customer.":"By confirming the subscription below, a subscription of \xA3300 will automatically be added to your monthly billing.",K=({visible:t,setSubscribingState:i})=>{const{globalDataState:l}=B(),{Modal:r,openModal:D,closeModal:c}=I(),{connectSession:h}=P(k),u=_(h),{currentDeveloper:n,currentMember:o}=l,m=u==null?void 0:u.agencyCloudId,f=!!(m&&m!=="SBOX"&&m!=="SBXA"),y=f||(n==null?void 0:n.developerEditionSubscriptionCost)===0,x=f&&(h==null?void 0:h.loginIdentity.clientId)!=="SBOX";S.useEffect(W(D,t),[t]);const[,v,E,j,b]=F({reapitConnectBrowserSession:k,action:G[R.createSubscription],method:"POST"}),w=!!(b!=null&&b.includes(z)),C=N(o,n),T=Y(w,!!j,x,n),A=X(y);return e.jsx(r,{title:T,children:j?e.jsxs(e.Fragment,{children:[e.jsx(a,{hasGreyText:!0,children:"You have successfully subscribed 1 Agency Cloud user licence and an email has been sent to the following members of your organisation with instructions on how to get started."}),e.jsxs(a,{hasGreyText:!0,children:[o==null?void 0:o.name," -\xA0",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`mailto:${o==null?void 0:o.email}`,children:o==null?void 0:o.email})]}),e.jsx(a,{hasGreyText:!0,children:"We have added your subscription to your monthly billing. To manage your subscriptions please visit the 'Billing' tab."}),e.jsxs(d,{alignment:"right",children:[e.jsx(s,{intent:"default",onClick:p(i,c),children:"Close"}),e.jsx(s,{intent:"primary",type:"submit",onClick:g,children:"Download"})]})]}):w?e.jsxs(e.Fragment,{children:[e.jsxs(a,{hasGreyText:!0,children:["It looks as though you already have a subscription in place for the Developer Edition of Agency Cloud. To download, please use the \u2018Download Now\u2019 button below. For more information or support using the Developer Edition, please\xA0",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:O,children:"click here"})]}),e.jsxs(d,{alignment:"right",children:[e.jsx(s,{intent:"default",onClick:p(i,c),children:"Close"}),e.jsx(s,{intent:"primary",type:"submit",onClick:g,children:"Download"})]})]}):x?e.jsxs(e.Fragment,{children:[e.jsxs(a,{hasGreyText:!0,children:["Your account is currently set to use ",e.jsx("strong",{children:n==null?void 0:n.company}),". In order to subscribe to the developer edition you will need to change your profile setting. Please"," ",e.jsx(U,{to:q.SETTINGS_PROFILE,children:"click here"})," to update your information."]}),e.jsx(d,{alignment:"right",children:e.jsx(s,{intent:"default",onClick:p(i,c),children:"Cancel"})})]}):C&&!y?e.jsxs(e.Fragment,{children:[e.jsx(a,{hasGreyText:!0,children:C}),e.jsx(d,{alignment:"right",children:e.jsx(s,{intent:"default",onClick:p(i,c),children:"Cancel"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(a,{hasGreyText:!0,children:["The Agency Cloud Developer Edition is a licensed product. ",A," For more information regarding the Developer Edition licence please refer to your Developer Registration"," ",e.jsx("a",{href:"/api-docs/developer-terms-and-conditions",rel:"noreferrer",target:"_blank",children:"Terms and Conditions."})]}),e.jsxs(a,{hasGreyText:!0,children:["To proceed, please confirm your subscription below for ",e.jsx("strong",{children:o==null?void 0:o.name})]}),e.jsxs(d,{alignment:"right",children:[e.jsx(s,{intent:"default",onClick:p(i,c),children:"Cancel"}),e.jsx(s,{intent:"primary",type:"submit",onClick:M(n,E,i,o==null?void 0:o.email),loading:v,disabled:v,children:"Confirm"})]})]})})};export{K as D,g as h};
