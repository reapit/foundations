import{u as ra,j as e,al as O,aM as g,E as v,k as N,c as y,Y as qe,o as Y,r as P,aj as ia,d as Oe,g as z,e as Ye,D as J,an as Z,aq as Q,aC as X,bw as ta,i as re,aF as he,a$ as oa,G as ie,$ as Ke,a0 as $,aX as _e,aB as Ve,p as ee,a3 as ua,aN as da,aO as We,bx as ca,J as ze,bh as ba,W as Je,y as ma,a as ha,b3 as va,b4 as ga,N as pa,b5 as ae,ab as xa,aL as ja,a9 as Sa,aa as le}from"./vendor-D_Z2viGi.js";import{u as U,r as T,e as se,c as F,d as H,U as q,R as I,f as te,g as oe,G as ue,p as Ma,j as Ca,n as ne}from"./index-ttC1utHJ.js";import{c as de,a as c,ad as Ta,g as ya,e as ce,u as be,o as me,p as Ze,b as Qe,ae as Xe,t as Ia,f as $e,d as ea}from"./error-messages-CMLWc-_H.js";import{a as fa}from"./cognito-identity-CJTX0oxi.js";import{s as S,c as wa}from"./yup-vcgRn8df.js";import{g as Na}from"./module-DOnifq-p.js";const{FIELD_REQUIRED:ve}=ce,Ea=de().shape({password:c().trim().required(ve),newPassword:c().trim().required(ve).matches(Ta,"Your Password should be a minimum of 8 characters; must contain at least one lowercase letter, one uppercase letter and one number."),confirmPassword:c().trim().required(ve).oneOf([ya("newPassword"),""],"Passwords do not match.")}),Pa=(l,{success:n,error:s})=>async({newPassword:d,password:b})=>{await fa({password:b,newPassword:d,userName:l})?n("Successfully updated your password"):s("Failed to update your password. This error has been logged, please try again")},Aa=()=>{var r,p,m,C,h,x;const{connectSession:l}=U(T),n=ra(),s=(l==null?void 0:l.loginIdentity.email)??"",{register:d,handleSubmit:b,formState:{errors:o}}=be({resolver:me(Ea),defaultValues:{password:"",newPassword:"",confirmPassword:""}});return e.jsxs("form",{onSubmit:b(Pa(s,n)),children:[e.jsxs(O,{hasMargin:!0,children:[e.jsx(g,{children:e.jsx(v,{...d("password"),type:"password",label:"Current Password",placeholder:"Current Password",errorMessage:(r=o==null?void 0:o.password)==null?void 0:r.message,icon:(p=o==null?void 0:o.password)!=null&&p.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...d("newPassword"),type:"password",label:"New Password",placeholder:"New Password",errorMessage:(m=o==null?void 0:o.newPassword)==null?void 0:m.message,icon:(C=o==null?void 0:o.newPassword)!=null&&C.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...d("confirmPassword"),type:"password",label:"Confirm New Password",placeholder:"Confirm New Password",errorMessage:(h=o==null?void 0:o.confirmPassword)==null?void 0:h.message,icon:(x=o==null?void 0:o.confirmPassword)!=null&&x.message?"asterisk":null,intent:"danger"})})]}),e.jsx(N,{children:e.jsx(y,{intent:"primary",type:"submit",children:"Save Changes"})})]})},{FIELD_REQUIRED:ge,MAXIMUM_CHARACTER_LENGTH:pe}=ce,Ra=de().shape({name:c().trim().required(ge).matches(Ze,"Full name is not valid").max(256,pe(256)).test(S),email:c().trim().required(ge).matches(Qe,"Email address is not valid").max(256,pe(256)),jobTitle:c().trim().required(ge).matches(Xe,"Job title is not valid").max(256,pe(256)).test(S),message:c().trim().test(S)}),ka=l=>()=>{l()},Ga=(l,n)=>s=>{l(s),n()},Da=(l,n)=>()=>{n&&l(!0)},K=()=>{var M,a,B,L,R,k,G,D;const l=qe(),{connectLogoutRedirect:n,connectSession:s}=U(T),{globalDataState:d,globalRefreshState:b}=se(),{Modal:o,openModal:r,closeModal:p}=Y(),{currentMember:m}=d,{members:C}=b,{pathname:h}=l,[,x]=C,[,,f,j]=F({reapitConnectBrowserSession:T,action:H[q.inviteMember],method:"POST",uriParams:{developerId:m==null?void 0:m.developerId}});P.useEffect(Da(x,j),[j]);const{register:i,handleSubmit:u,formState:{errors:t}}=be({resolver:me(Ra),defaultValues:{name:"",email:"",jobTitle:"",message:"",sender:s==null?void 0:s.loginIdentity.email}});return e.jsxs("div",{className:ia,children:[e.jsx(Oe,{icon:"reapitConnectInfographic",iconSize:"large"}),e.jsx(z,{children:"Settings"}),e.jsx(Ye,{hasGreyText:!0,children:"You can manage the information we hold about you and change your password in these pages."}),(m==null?void 0:m.role)==="admin"&&e.jsx(Ye,{hasGreyText:!0,children:"Additionally, as an admin, you can manage your developer organisation, members and subscriptions."}),e.jsxs(N,{children:[(m==null?void 0:m.role)==="admin"&&h===I.SETTINGS_MEMBERS&&e.jsx(y,{onClick:r,intent:"primary",children:"Invite Developer"}),e.jsx(y,{onClick:ka(n),intent:"primary",children:"Logout"})]}),e.jsx(o,{title:"Invite Developer",children:e.jsxs("form",{onSubmit:u(Ga(f,p)),children:[e.jsxs(O,{hasMargin:!0,children:[e.jsx(J,{children:e.jsx(v,{...i("name"),label:"Name",placeholder:"Your colleague's full name",errorMessage:(M=t==null?void 0:t.name)==null?void 0:M.message,icon:(a=t==null?void 0:t.name)!=null&&a.message?"asterisk":null,intent:"danger"})}),e.jsx(J,{children:e.jsx(v,{...i("email"),type:"email",label:"Email",placeholder:"An email address we can contact your colleague at",errorMessage:(B=t==null?void 0:t.email)==null?void 0:B.message,icon:(L=t==null?void 0:t.email)!=null&&L.message?"asterisk":null,intent:"danger"})}),e.jsx(J,{children:e.jsx(v,{...i("jobTitle"),label:"Job Title",placeholder:"Your colleague's role at your company'",errorMessage:(R=t==null?void 0:t.jobTitle)==null?void 0:R.message,icon:(k=t==null?void 0:t.jobTitle)!=null&&k.message?"asterisk":null,intent:"danger"})}),e.jsx(J,{children:e.jsx(v,{...i("message"),label:"Invite Message",placeholder:"An optional invite message",errorMessage:(G=t==null?void 0:t.message)==null?void 0:G.message,icon:(D=t==null?void 0:t.message)!=null&&D.message?"asterisk":null,intent:"danger"})})]}),e.jsxs(N,{alignment:"right",children:[e.jsx(y,{intent:"default",onClick:p,children:"Close"}),e.jsx(y,{intent:"primary",type:"submit",children:"Send Invite"})]})]})})]})},Ba=()=>{const{isMobile:l}=Z(),{Modal:n,openModal:s,closeModal:d}=Y();return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:"Password"}),l&&e.jsxs(n,{title:"Controls",children:[e.jsx(K,{}),e.jsx(N,{alignment:"right",children:e.jsx(y,{intent:"default",onClick:d,children:"Close"})})]}),e.jsx(Aa,{}),e.jsx(X,{onClick:s})]})},{MAXIMUM_CHARACTER_LENGTH:w,FIELD_REQUIRED:E}=ce,La=de().shape({company:c().trim().required(E).max(250,w(250)).test(S),telephone:c().trim().required(E).matches(Ia,"Invalid telephone number").max(20,w(20)).test(S),website:c().trim().required(E).test({message:"Invalid website address",test:l=>l?wa(l):!0}).max(100,w(100)),noTaxRegistration:$e(),taxNumber:c().when("noTaxRegistration",{is:!1,then:c().trim().required(E).max(50,w(50)).test(S),otherwise:c().notRequired().test(S)}),noRegistrationNumber:$e(),registrationNumber:c().when("noRegistrationNumber",{is:!1,then:c().trim().required(E).max(50,w(50)).test(S),otherwise:c().notRequired().test(S)}),about:c().trim().required(E).max(250,w(250)).test(S),nationalInsurance:c().when("noRegistrationNumber",{is:!0,then:c().trim().required(E).max(20,w(20)).test(S),otherwise:c().notRequired().test(S)}),buildingName:c().trim().max(35,w(35)).test(S),buildingNumber:c().trim().max(8,w(8)).test(S),line1:c().trim().required(E).max(35,w(35)).test(S),line2:c().trim().max(30,w(30)).test(S),line3:c().trim().max(30,w(30)).test(S),line4:c().trim().required(E).max(30,w(30)).test(S),postcode:c().trim().required(E).max(9,w(9)).test(S),countryId:c().trim().required(E),billingEmail:c().test({message:"Invalid email",test:l=>l?l.match(Qe)!==null:!0})}),Ua=[{value:"GB",label:"United Kingdom"},{value:"AF",label:"Afghanistan"},{value:"AX",label:"\xC5land Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia, Plurinational State of"},{value:"BQ",label:"Bonaire, Sint Eustatius and Saba"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo, the Democratic Republic of the"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"C\xF4te d'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CW",label:"Cura\xE7ao"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"GG",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island and McDonald Islands"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran, Islamic Republic of"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea, Democratic People's Republic of"},{value:"KR",label:"Korea, Republic of"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia, the former Yugoslav Republic of"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia, Federated States of"},{value:"MD",label:"Moldova, Republic of"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestinian Territory, Occupied"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"R\xE9union"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"BL",label:"Saint Barth\xE9lemy"},{value:"SH",label:"Saint Helena, Ascension and Tristan da Cunha"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"LC",label:"Saint Lucia"},{value:"MF",label:"Saint Martin (French part)"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome and Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SX",label:"Sint Maarten (Dutch part)"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad and Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"US",label:"United States"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela, Bolivarian Republic of"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands, British"},{value:"VI",label:"Virgin Islands, U.S."},{value:"WF",label:"Wallis and Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}],Fa=(l,n)=>()=>{n&&l()},Ha=(l,n)=>({company:s,telephone:d,website:b,notificationsEmail:o,noTaxRegistration:r,taxNumber:p,registrationNumber:m,about:C,buildingName:h,buildingNumber:x,line1:f,line2:j,line3:i,line4:u,postcode:t,countryId:M})=>{n({...l,companyName:s,telephone:d,website:b,notificationsEmail:o,noTaxRegistration:r,taxNumber:p,registrationNumber:m,about:C,companyAddress:{...l.companyAddress,buildingName:h,buildingNumber:x,line1:f,line2:j,line3:i,line4:u,postcode:t,countryId:M}})},qa=({developer:l,refreshDeveloper:n})=>{var R,k,G,D,_,V,W,A,je,Se,Me,Ce,Te,ye,Ie,fe,we,Ne,Ee,Pe,Ae,Re,ke,Ge,De,Be,Le,Ue,Fe;const[,s,d,b]=F({reapitConnectBrowserSession:T,action:H[q.updateDeveloper],method:"PUT",uriParams:{developerId:l.id}});P.useEffect(Fa(n,b),[b]);const{company:o,telephone:r,website:p,email:m,notificationsEmail:C,noTaxRegistration:h,taxNumber:x,registrationNumber:f,about:j,companyAddress:i}=l,{register:u,handleSubmit:t,control:M,formState:{errors:a}}=be({resolver:me(La),defaultValues:{company:o??"",telephone:r??"",website:p??"",email:m??"",notificationsEmail:C??"",noTaxRegistration:h??!0,taxNumber:x??"",noregistrationNumber:!f,registrationNumber:f??"",about:j??"",buildingName:(i==null?void 0:i.buildingName)??"",buildingNumber:(i==null?void 0:i.buildingNumber)??"",line1:(i==null?void 0:i.line1)??"",line2:(i==null?void 0:i.line2)??"",line3:(i==null?void 0:i.line3)??"",line4:(i==null?void 0:i.line4)??"",postcode:(i==null?void 0:i.postcode)??"",countryId:(i==null?void 0:i.countryId)??"GBR"}}),B=ea({control:M,name:"noregistrationNumber"}),L=ea({control:M,name:"noTaxRegistration"});return e.jsxs("form",{onSubmit:t(Ha(l,d)),children:[e.jsxs(O,{hasMargin:!0,children:[e.jsx(g,{children:e.jsx(v,{...u("company"),label:"Company Name",placeholder:"This will be the display name of the company in our AppMarket",errorMessage:(R=a==null?void 0:a.company)==null?void 0:R.message,icon:(k=a==null?void 0:a.company)!=null&&k.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("telephone"),label:"Telephone",placeholder:"A number we can discuss your developer account on",errorMessage:(G=a==null?void 0:a.telephone)==null?void 0:G.message,icon:(D=a==null?void 0:a.telephone)!=null&&D.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("website"),label:"Website Address",placeholder:"Your company's corporate website",errorMessage:(_=a==null?void 0:a.website)==null?void 0:_.message,icon:(V=a==null?void 0:a.website)!=null&&V.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("email"),label:"Office Email",disabled:!0,errorMessage:(W=a==null?void 0:a.email)==null?void 0:W.message,icon:(A=a==null?void 0:a.email)!=null&&A.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("notificationsEmail"),label:"Notifications Email",placeholder:"An email address we can send notifications about your developer account to",errorMessage:(je=a==null?void 0:a.notificationsEmail)==null?void 0:je.message,icon:(Se=a==null?void 0:a.notificationsEmail)!=null&&Se.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("noTaxRegistration"),label:"No VAT Number",type:"checkbox"})}),e.jsx(g,{children:e.jsx(v,{...u("taxNumber"),label:"VAT Number",placeholder:"If VAT registered, your must supply your VAT Number",disabled:L,errorMessage:(Me=a==null?void 0:a.taxNumber)==null?void 0:Me.message,icon:(Ce=a==null?void 0:a.taxNumber)!=null&&Ce.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("noregistrationNumber"),label:"No Company Reg Number",type:"checkbox"})}),e.jsx(g,{children:e.jsx(v,{...u("registrationNumber"),label:"Company Reg Number",placeholder:"If you have a formal company, your should supply the registration number",disabled:B,errorMessage:(Te=a==null?void 0:a.registrationNumber)==null?void 0:Te.message,icon:(ye=a==null?void 0:a.registrationNumber)!=null&&ye.message?"asterisk":null,intent:"danger"})}),e.jsx(J,{children:e.jsxs(v,{children:[e.jsx(ta,{...u("about"),placeholder:"Tell us about your company in a few words. This will appear on your AppMarket listing pages"}),e.jsx(re,{children:"About Company"}),((Ie=a==null?void 0:a.about)==null?void 0:Ie.message)&&e.jsx(he,{message:a.about.message})]})}),e.jsx(g,{children:e.jsx(v,{...u("buildingName"),label:"Building Name",placeholder:"The building of your corporate office",errorMessage:(fe=a==null?void 0:a.buildingName)==null?void 0:fe.message,icon:(we=a==null?void 0:a.buildingName)!=null&&we.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("buildingNumber"),label:"Building Number",placeholder:"The number of your corporate office",errorMessage:(Ne=a==null?void 0:a.buildingNumber)==null?void 0:Ne.message,icon:(Ee=a==null?void 0:a.buildingNumber)!=null&&Ee.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("line1"),label:"Address Line 1",placeholder:"Line one of the address for your office",errorMessage:(Pe=a==null?void 0:a.line1)==null?void 0:Pe.message,icon:(Ae=a==null?void 0:a.line1)!=null&&Ae.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("line2"),label:"Address Line 2",placeholder:"Line two of the address for your office",errorMessage:(Re=a==null?void 0:a.line2)==null?void 0:Re.message,icon:(ke=a==null?void 0:a.line2)!=null&&ke.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("line3"),label:"Address Line 3",placeholder:"Line three of the address for your office",errorMessage:(Ge=a==null?void 0:a.line3)==null?void 0:Ge.message,icon:(De=a==null?void 0:a.line3)!=null&&De.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("line4"),label:"Address Line 4",placeholder:"Line four of the address for your office",errorMessage:(Be=a==null?void 0:a.line4)==null?void 0:Be.message,icon:(Le=a==null?void 0:a.line4)!=null&&Le.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...u("postcode"),label:"Postcode",placeholder:"Your office postcode",errorMessage:(Ue=a==null?void 0:a.postcode)==null?void 0:Ue.message,icon:(Fe=a==null?void 0:a.postcode)!=null&&Fe.message?"asterisk":null,intent:"danger"})}),e.jsx(g,{children:e.jsxs(v,{children:[e.jsx(oa,{...u("countryId"),children:Ua.map(({label:na,value:He})=>e.jsx("option",{value:He,children:na},He))}),e.jsx(re,{children:"Country"})]})})]}),e.jsx(N,{children:e.jsx(y,{intent:"primary",type:"submit",disabled:s,loading:s,children:"Save Changes"})})]})},Oa=()=>{const{connectSession:l}=U(T),n=l==null?void 0:l.loginIdentity.developerId,{Modal:s,openModal:d,closeModal:b}=Y(),{isMobile:o}=Z(),[r,p,,m]=te({reapitConnectBrowserSession:T,action:oe[ue.getDeveloper],uriParams:{developerId:n},fetchWhenTrue:[n]});return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:"Company"}),o&&e.jsxs(s,{title:"Controls",children:[e.jsx(K,{}),e.jsx(N,{alignment:"right",children:e.jsx(y,{intent:"default",onClick:b,children:"Close"})})]}),p&&e.jsx(ie,{}),r&&e.jsx(qa,{developer:r,refreshDeveloper:m}),e.jsx(X,{onClick:d})]})},Ya=(l,n,s,d)=>()=>{(n||s||d)&&l()},xe=(l,n)=>()=>{l(n)},Ka=l=>()=>{l(void 0)},_a=(l,n,s)=>()=>{const{name:d,jobTitle:b,email:o}=n,r=s==null?void 0:s.loginIdentity.email,p=s==null?void 0:s.loginIdentity.orgName;l({name:d,jobTitle:b,email:o,sender:r,message:`Resending your invite to the ${p} in the Reapit Developer Portal`})},Va=({member:l,refreshMembers:n})=>{const{connectSession:s}=U(T),d=s==null?void 0:s.loginIdentity.email,[b,,o,r]=F({reapitConnectBrowserSession:T,action:H[q.updateMember],method:"PUT",uriParams:{developerId:l.developerId,memberId:l.id}}),[p,,m,C]=F({reapitConnectBrowserSession:T,action:H[q.updateMember],method:"DELETE",uriParams:{developerId:l.developerId,memberId:l.id}}),[h,,x,f]=F({reapitConnectBrowserSession:T,action:H[q.inviteMember],method:"POST",uriParams:{developerId:l.developerId}});P.useEffect(Ya(n,r,C,f),[r,C,f]);const j=p||b||h,i=j||l.email===d;return e.jsxs(N,{alignment:"center",children:[e.jsxs(y,{intent:"primary",disabled:i,loading:j,onClick:xe(o,{...l,role:l.role==="admin"?"user":"admin"}),children:["Set As ",l.role==="admin"?"User":"Admin"]}),e.jsx(y,{intent:"primary",disabled:i,loading:j,onClick:_a(x,l,s),children:"Invite Again"}),!l.isMainContact&&e.jsx(y,{intent:"primary",disabled:j,loading:j,onClick:xe(o,{...l,isMainContact:!0}),children:"Set As Main Contact"}),l.status==="active"&&e.jsx(y,{intent:"danger",disabled:i,loading:j,onClick:xe(o,{...l,status:"inactive"}),children:"Disable"}),e.jsx(y,{intent:"danger",disabled:i,loading:j,onClick:Ka(m),children:"Delete"})]})},Wa=l=>l==="active"?"success":l==="rejected"?"danger":l==="pending"?"pending":"default",za=(l,n,s)=>()=>{l&&(s(),n(!1))},Ja=()=>{var i;const{connectSession:l}=U(T),{globalRefreshState:n}=se(),{isMobile:s}=Z(),{Modal:d,openModal:b,closeModal:o}=Y(),{members:[r,p]}=n,[m,C]=P.useState(1),h=l==null?void 0:l.loginIdentity.developerId,[x,f,,j]=te({reapitConnectBrowserSession:T,action:oe[ue.getDeveloperMembers],queryParams:{pageSize:12,pageNumber:m},uriParams:{developerId:h},fetchWhenTrue:[h]});return P.useEffect(za(r,p,j),[r]),e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:"Members"}),s&&e.jsxs(d,{title:"Controls",children:[e.jsx(K,{}),e.jsx(N,{alignment:"right",children:e.jsx(y,{intent:"default",onClick:o,children:"Close"})})]}),f&&e.jsx(ie,{}),e.jsx(Ke,{className:$,rows:(i=x==null?void 0:x.data)==null?void 0:i.map(u=>({cells:[{label:"Name",value:u.name??"",icon:"usernameSystem",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Status",value:"",children:e.jsxs(e.Fragment,{children:[e.jsx(_e,{intent:Wa(u.status??"")})," ",`${(u.status??"").charAt(0).toUpperCase()}${(u.status??"").slice(1).toLowerCase()}`]}),narrowTable:{showLabel:!0}},{label:"Email",value:u.email??"",icon:"emailSystem",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Role",value:u.role?`${u.role.charAt(0).toUpperCase()}${u.role.slice(1).toLowerCase()}`:"",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Main Contact",value:u.isMainContact?e.jsx(Oe,{icon:"check",intent:"success"}):"-",narrowTable:{showLabel:!0}}],expandableContent:{content:e.jsx(Va,{member:u,refreshMembers:j})}}))}),e.jsx(Ve,{callback:C,currentPage:m,numberPages:Math.ceil(((x==null?void 0:x.totalCount)??1)/((x==null?void 0:x.pageSize)??1))}),e.jsx(X,{onClick:b})]})},{FIELD_REQUIRED:aa,MAXIMUM_CHARACTER_LENGTH:la}=ce,Za=de().shape({name:c().trim().required(aa).matches(Ze,"Full name is not valid").max(256,la(256)).test(S),jobTitle:c().trim().required(aa).matches(Xe,"Job title is not valid").max(256,la(256)).test(S),gitHubUsername:c().trim().test({name:"isValidDescription",message:"GitHub Username is not valid",test:l=>l?Na.test(l):!0}).test(S)});var Qa={appEnv:"development",sentryDsn:"",connectClientId:"5g5gmhc2r11df5vqoavvdvef5",connectOAuthUrl:"https://connect.dev.paas.reapit.cloud",connectUserPoolId:"eu-west-2_kiftR4qFc",chatbotAppId:"d0f4d712-c12a-4cdf-72a1-7e9795bc061a",marketplaceUrl:"https://marketplace.dev.paas.reapit.cloud/apps",platformApiUrl:"https://platform.dev.paas.reapit.cloud",developerEditionDownloadUrl:"https://updates.reapit.net/install/setupdev.exe",adobeSignApiKey:"CBFCIBAA3AAABLblqZhCDiTpm3mtYxQo6xlPEpdTIPMUeWo1RPWyJnzmq9hUu_O9-a96bDc8nX8bBYL8pztU",liveChatWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],elementsUri:"https://elements.dev.paas.reapit.cloud/?path=/docs/welcome--docs",graphQLUri:"https://graphql.dev.paas.reapit.cloud/graphql",analyticsSchemaDocsUrl:"https://reapit-analytics-schema.dev.paas.reapit.cloud",swaggerUri:"https://reapit-swagger-dev.s3.eu-west-2.amazonaws.com/foundations_swagger.json",DEPLOYMENT_SERVICE_HOST:"https://deployments.dev.paas.reapit.cloud/",PUSHER_KEY:"c48c04b607a9201f6054",zendeskUri:"https://static.zdassets.com/ekr/snippet.js?key=e8ed8416-ceb4-4e91-8186-097321c3ceda",pipelineWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"],swaggerWhitelist:["421b65bc-dd09-4c34-90fa-dacc3cd2ff5a"]};const Xa=(l,n)=>()=>{n&&l()},$a=()=>{var M,a,B,L,R,k,G,D,_,V,W;const{globalDataState:l,globalRefreshCurrentMember:n}=se(),{connectSession:s}=U(T),d=s==null?void 0:s.loginIdentity.clientId,b=s==null?void 0:s.loginIdentity.orgName,o=Ma(s),{currentMember:r,currentDeveloper:p}=l,m=d&&o,C=Qa.swaggerWhitelist.includes(p==null?void 0:p.id),[h]=te({reapitConnectBrowserSession:T,action:oe[ue.getSandboxes]}),[x,,f,j]=F({reapitConnectBrowserSession:T,action:H[q.updateMember],method:"PUT",uriParams:{developerId:r==null?void 0:r.developerId,memberId:r==null?void 0:r.id}});P.useEffect(Xa(n,j),[j]);const{register:i,handleSubmit:u,formState:{errors:t}}=be({resolver:me(Za),defaultValues:{...r,name:(r==null?void 0:r.name)??"",jobTitle:(r==null?void 0:r.jobTitle)??"",gitHubUsername:(r==null?void 0:r.gitHubUsername)??"",useCustomerData:(r==null?void 0:r.useCustomerData)??!1,sandboxId:(r==null?void 0:r.sandboxId)||"GBR"}});return e.jsxs("form",{onSubmit:u(A=>f(A)),children:[e.jsx("div",{className:$,children:e.jsxs(O,{children:[e.jsx(g,{children:e.jsx(v,{...i("name"),label:"Name",placeholder:"Your full name here",errorMessage:(M=t.name)==null?void 0:M.message,icon:(a=t.name)!=null&&a.message?"asteriskSystem":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...i("jobTitle"),label:"Job Title",placeholder:"What role do you have at your company",errorMessage:(B=t.jobTitle)==null?void 0:B.message,icon:(L=t.jobTitle)!=null&&L.message?"asteriskSystem":null,intent:"danger"})}),e.jsx(g,{children:e.jsx(v,{...i("gitHubUsername"),label:"GitHub Username",placeholder:"Github handles help us tracking issues",errorMessage:(R=t.gitHubUsername)==null?void 0:R.message,icon:(k=t.gitHubUsername)!=null&&k.message?"asteriskSystem":null,intent:"danger"})})]})}),e.jsx("div",{className:$,children:e.jsxs(O,{children:[e.jsxs(g,{children:[e.jsx(z,{hasNoMargin:!0,children:"Company Name"}),e.jsx(ee,{hasNoMargin:!0,hasGreyText:!0,children:p==null?void 0:p.company})]}),e.jsxs(g,{children:[e.jsx(z,{hasNoMargin:!0,children:"Email Address"}),e.jsx(ee,{hasNoMargin:!0,hasGreyText:!0,children:r==null?void 0:r.email})]}),e.jsxs(g,{children:[e.jsx(z,{hasNoMargin:!0,children:"Profile Settings"}),e.jsx(ee,{hasNoMargin:!0,hasGreyText:!0,children:s==null?void 0:s.loginIdentity.clientId})]})]})}),(m||C)&&e.jsx(z,{hasNoMargin:!0,children:"Customer Data"}),m&&e.jsx(ee,{hasGreyText:!0,children:"As your account is associated with both the Sandbox Data (SBOX) and Customer Data, you can choose to toggle between which data you want to see available in the Developer Portal."}),C&&e.jsx(ee,{hasGreyText:!0,children:"You can choose which sandbox you wish to view based on your Reapit Product. This is specific and only associated to your developer profile."}),e.jsxs(O,{className:ua,children:[m&&e.jsx(g,{children:e.jsxs(v,{children:[e.jsxs(re,{children:["Use ",b," Customer or Sandbox data"]}),e.jsxs(da,{id:"useCustomerData",hasGreyBg:!0,...i("useCustomerData"),children:[e.jsx(We,{children:"Customer"}),e.jsx(We,{children:"Sandbox"})]}),((G=t.useCustomerData)==null?void 0:G.message)&&e.jsx(he,{message:(D=t.useCustomerData)==null?void 0:D.message})]})}),C&&e.jsx(g,{children:e.jsxs(v,{children:[e.jsx(ca,{hasGreyBg:!0,...i("sandboxId"),options:((_=h==null?void 0:h.data)==null?void 0:_.map(A=>({id:A.id??"",text:A.name??"",value:A.id??"",isChecked:(r==null?void 0:r.sandboxId)===A.id})))??[]}),e.jsx(re,{children:"Choose Sandbox"}),((V=t.sandboxId)==null?void 0:V.message)&&e.jsx(he,{message:(W=t.sandboxId)==null?void 0:W.message})]})})]}),(m||C)&&e.jsx(ze,{className:$,isInline:!0,isExpanded:!0,isFullWidth:!0,intent:"primary",children:"Please note, you will need to log out and log back in again to see this change take effect"}),e.jsx(N,{children:e.jsx(y,{intent:"primary",type:"submit",disabled:x,loading:x,children:"Save Changes"})})]})},el=()=>{const{globalDataState:l}=se(),{isMobile:n}=Z(),{Modal:s,openModal:d,closeModal:b}=Y(),{currentMember:o}=l;return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:"Profile"}),n&&e.jsxs(s,{title:"Controls",children:[e.jsx(K,{}),e.jsx(N,{alignment:"right",children:e.jsx(y,{intent:"default",onClick:b,children:"Close"})})]}),o?e.jsx($a,{}):e.jsx(ie,{}),e.jsx(X,{onClick:d})]})},al=(l,n,s,d)=>()=>{(n||s||d)&&l()},ll=(l,n,s)=>()=>{s&&(l(void 0),n(null))},sl=(l,n)=>()=>{l(n)},nl=()=>{var u,t;const{connectSession:l}=U(T),[n,s]=P.useState(null),[d,b]=P.useState(1),o=l==null?void 0:l.loginIdentity.developerId,{Modal:r,openModal:p,closeModal:m}=Y(),{isMobile:C}=Z(),[h,x,,f]=te({reapitConnectBrowserSession:T,action:oe[ue.getSubscriptions],queryParams:{pageSize:12,pageNumber:d,developerId:o},fetchWhenTrue:[o]}),[,,j,i]=F({reapitConnectBrowserSession:T,action:H[q.deleteSubscription],method:"DELETE",uriParams:{subscriptionId:n}});return P.useEffect(ll(j,s,n),[n]),P.useEffect(al(f,i),[i]),e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:"Subscriptions"}),C&&e.jsxs(r,{title:"Controls",children:[e.jsx(K,{}),e.jsx(N,{alignment:"right",children:e.jsx(y,{intent:"default",onClick:m,children:"Close"})})]}),x&&e.jsx(ie,{}),e.jsx(Ke,{className:$,numberColumns:8,rows:(u=h==null?void 0:h.data)==null?void 0:u.map(M=>({cells:[{label:"Type",value:M.summary??"",className:ba,cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Start Date",value:Je(M.created).format("DD MMM YYYY"),icon:"calendar",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Renewal Date",value:Je(M.renews).format("DD MMM YYYY"),icon:"calendar",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Frequency",value:M.frequency?`${M.frequency.charAt(0).toUpperCase()}${M.frequency.slice(1).toLowerCase()}`:"",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Cost",value:`\xA3${M.cost}`,icon:"pound",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Status",value:"",children:e.jsxs(e.Fragment,{children:[e.jsx(_e,{intent:M.cancelled?"danger":"success"})," ",M.cancelled?"Cancelled":"Active"]}),narrowTable:{showLabel:!0}}],ctaContent:{icon:"trash",headerContent:"Cancel Subscription",isCallToAction:!0,onClick:sl(s,M.id??null)}}))}),(t=h==null?void 0:h.data)!=null&&t.length?e.jsx(Ve,{callback:b,currentPage:d,numberPages:Math.ceil(((h==null?void 0:h.totalCount)??1)/((h==null?void 0:h.pageSize)??1))}):e.jsx(ze,{intent:"primary",isExpanded:!0,isFullWidth:!0,isInline:!0,children:"No subscriptions available for this account"}),e.jsx(X,{onClick:p})]})},rl=()=>{const l=ma(),n=qe(),{globalDataState:s}=se(),{currentMember:d}=s,{pathname:b}=n;return e.jsx(Ca,{children:e.jsxs(ha,{isFlexAuto:!0,children:[e.jsxs(va,{children:[e.jsxs(ga,{className:pa,children:[e.jsx(ae,{onClick:ne(l,I.SETTINGS_PROFILE),active:b===I.SETTINGS_PROFILE,children:"Profile"}),e.jsx(ae,{onClick:ne(l,I.SETTINGS_PASSWORD),active:b===I.SETTINGS_PASSWORD,children:"Password"}),(d==null?void 0:d.role)==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{onClick:ne(l,I.SETTINGS_MEMBERS),active:b===I.SETTINGS_MEMBERS,children:"Members"}),e.jsx(ae,{onClick:ne(l,I.SETTINGS_COMPANY),active:b===I.SETTINGS_COMPANY,children:"Company"}),e.jsx(ae,{onClick:ne(l,I.SETTINGS_SUBSCRIPTIONS),active:b===I.SETTINGS_SUBSCRIPTIONS,children:"Subscriptions"})]})]}),e.jsx(K,{})]}),e.jsx(xa,{className:ja,children:e.jsxs(Sa,{children:[e.jsx(le,{path:I.SETTINGS_PROFILE.replace("/settings/",""),element:e.jsx(el,{})}),e.jsx(le,{path:I.SETTINGS_PASSWORD.replace("/settings/",""),element:e.jsx(Ba,{})}),e.jsx(le,{path:I.SETTINGS_MEMBERS.replace("/settings/",""),element:e.jsx(Ja,{})}),e.jsx(le,{path:I.SETTINGS_COMPANY.replace("/settings/",""),element:e.jsx(Oa,{})}),e.jsx(le,{path:I.SETTINGS_SUBSCRIPTIONS.replace("/settings/",""),element:e.jsx(nl,{})})]})})]})})},sa=()=>e.jsx(rl,{});export{sa as Settings,sa as default};
