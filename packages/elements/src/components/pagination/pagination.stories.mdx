import { useState } from 'react'
import { Story, Canvas, ArgsTable, Meta } from '@storybook/addon-docs'
import { Pagination, PaginationWrap, PaginationText, PaginationButton } from './index'
import { elPaginationPrimary } from './__styles__'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'
import { Icon } from '../icon'

<Meta title="Pagination" />

# Pagination

Pagination for large API calls where paging is desireable.

## Basic Example

In this example you can see the raw React Components you need to build a styled pagination block. React users will need to apply their own logic if they use this basic example.

For non-React users, just use the rendered markup and use your own JS to trigger fetch actions.

<Canvas>
  <Story name="Basic Example">
    <PaginationWrap>
      <PaginationText>
        <strong>1</strong> of 4
      </PaginationText>
      <PaginationButton>
        <Icon icon="backSystem" />
      </PaginationButton>
      <PaginationButton>
        <Icon icon="nextSystem" className={elPaginationPrimary} />
      </PaginationButton>
    </PaginationWrap>
  </Story>
</Canvas>

<RenderHtmlMarkup component="Pagination" story="Basic Example" />

## React Example

For React users, we export a `Pagination` component that handles the pagination behaviour. Props are in the following defintion:

<ArgsTable of={Pagination} />

The callback can be any action and will return you the next current page on button click forward or back. The below example uses `useState`.

In addtion, the React component uses an input to allow quick switching between pages. You can use the markup as normal for non React usage however, you will need to write more JavaScript to make this behaviour work in your app.

<Canvas>
  <Story name="React Example">
    {() => {
      const [currentPage, setCurrentPage] = useState(1)
      return <Pagination callback={setCurrentPage} currentPage={currentPage} numberPages={4} />
    }}
  </Story>
</Canvas>

<RenderHtmlMarkup component="Pagination" story="React Example" />

## React Example with Start and End buttons

Extending the previous example, we provide two additional optional props `hasStartButton` and `hasEndButton` which allow the user to either re-set the pagination to `1` or to fast forward to the last available page. Useful for very long data sets.

<Canvas>
  <Story name="React Example With Start End Buttons">
    {() => {
      const [currentPage, setCurrentPage] = useState(1)
      return (
        <Pagination callback={setCurrentPage} currentPage={currentPage} hasStartButton hasEndButton numberPages={4} />
      )
    }}
  </Story>
</Canvas>

<RenderHtmlMarkup component="Pagination" story="React Example With Start End Buttons" />
