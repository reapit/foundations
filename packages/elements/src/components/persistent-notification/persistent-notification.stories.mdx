import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { useState } from 'react'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'
import { PersistentNotification } from './index'

<Meta title="PersistentNotification" component={PersistentNotification} />

# PersistentNotification

A notification component to render helpers inline.

<ArgsTable of={PersistentNotification} />

## Full React example using `useState` and the default CSS position: fixed

The element uses CSS position fixed by default, which means the component "floats" on top of all other content. This example can be seen in the top right corner of the screen. Only one PersistentNotification per page is supported.

<Canvas>
  <Story name="Full React example (fixed position)">
    {() => {
      const [isExpanded, setIsExpanded] = useState(false)
      return (
        <>
          <PersistentNotification isExpanded={isExpanded} onExpansionToggle={setIsExpanded} isFixed>
            Here is a persistent notification. Here is more content. Here is more content. Here is more content. Here is
            more content. Here is more content.
          </PersistentNotification>
        </>
      )
    }}
  </Story>
</Canvas>

## Inline examples

These stories do not have the `isFixed` property and instead have `isInline` meaning they are positioned relative and sit inline.

This makes it easier to preview these examples, but if the isFixed property is set they will pin to the top right of the screen as in the above example.

## Default usage Inline

<Canvas>
  <Story name="Default Usage Inline">
    <PersistentNotification isExpanded isInline>
      Here is a persistent notification
    </PersistentNotification>
  </Story>
</Canvas>

<RenderHtmlMarkup component="PersistentNotification" story="Default Usage Inline" />

## With a different icon

<Canvas>
  <Story name="With a different icon">
    <PersistentNotification isExpanded isInline icon="warningSolidSystem" intent="warning">
      Here's some infomation about the thing you should be warned about, so bad things don't happen.
    </PersistentNotification>
  </Story>
</Canvas>

<RenderHtmlMarkup component="PersistentNotification" story="With a different icon" />

## Inline helpers, full width with different intents

Typically when you are not displaying the notification with an `isFixed` prop / helper, you are showing an inline helper ie in the main body flow. In this instance, you should apply an `isInline` prop or the corresponding css class in the rendered markup, to give a softer tone to the notification.

When using the notifiction inline, you may also wish to add the `isFullWidth` prop / helper class to make the notification span the width of it's content.

Below you can see examples of inline helpers, full width, in each of the different intent shades.

<Canvas>
  <Story name="Inline notifcation, intent: primary">
    <PersistentNotification isExpanded intent="primary" isInline isFullWidth>
      Here's an inline full width notification with a primary intent.
    </PersistentNotification>
  </Story>
  <Story name="Inline notifcation, intent: neutral">
    <PersistentNotification isExpanded intent="neutral" isInline isFullWidth>
      Here's an inline full width notification with a neutral intent.
    </PersistentNotification>
  </Story>
  <Story name="Inline notifcation, intent: success">
    <PersistentNotification isExpanded intent="success" isInline isFullWidth>
      Here's an inline full width notification with a success intent.
    </PersistentNotification>
  </Story>
  <Story name="Inline notifcation, intent: pending">
    <PersistentNotification isExpanded intent="pending" isInline isFullWidth>
      Here's an inline full width notification with a pending intent.
    </PersistentNotification>
  </Story>
  <Story name="Inline notifcation, intent: warning">
    <PersistentNotification isExpanded intent="warning" isInline isFullWidth>
      Here's an inline full width notification with a warning intent.
    </PersistentNotification>
  </Story>
  <Story name="Inline notifcation, intent: danger">
    <PersistentNotification isExpanded intent="danger" isInline isFullWidth>
      Here's an inline full width notification with a danger intent.
    </PersistentNotification>
  </Story>
  <Story name="Inline notifcation, intent: default">
    <PersistentNotification isExpanded intent="default" isInline isFullWidth>
      Here's an inline full width notification with a default intent.
    </PersistentNotification>
  </Story>
</Canvas>

<RenderHtmlMarkup
  component="PersistentNotification"
  story={[
    'Inline notifcation, intent: primary',
    'Inline notifcation, intent: neutral',
    'Inline notifcation, intent: success',
    'Inline notifcation, intent: pending',
    'Inline notifcation, intent: warning',
    'Inline notifcation, intent: danger',
    'Inline notifcation, intent: default',
  ]}
/>

## Collapsed/Expanded state

Set the prop `isExpanded` to expand/collapse the component. In the collapsed state the whole component is moved to the right. In normal usage when the component is fixed to the right of the screen this means the content is out of view.
