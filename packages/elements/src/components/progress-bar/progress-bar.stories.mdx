import { useState } from 'react'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import {
  ProgressBarPercentage,
  ProgressBarSteps,
  ProgressBarContainer,
  ProgressBarInner,
  ProgressBarItem,
  ProgressBarLabel,
} from './progress-bar'
import {
  elProgressBarLabelRight,
  elProgressBarItemPurple,
  elProgressBarItemDarkBlue,
  elProgressBarItemLightBlue,
  elProgressBarItemLightestBlue,
  elProgressBarItemMediumBlue,
  elProgressBarItemYellow,
  elProgressBarLabelLeft,
} from './__styles__'

<Meta title="ProgressBar" />

# Progress Bar

Where progress or steps for a process need to be indicated to a user.

There are two flavors of `ProgressBar` - one showing percentage complete of an action, the other showing steps completed.

<ArgsTable of={ProgressBarPercentage} />

## Basic Example - ProgressBarPercentage

In the percentage progress bar, if not using the React component, you will need to render both the percentage completed within the label class and add a percentage width to the progress bar inner.

In this example we add the width as an inline style so we can control progress based on an asynchronous action with JavaScript. Depending on the speed of completion, of your task, you may also wish to adjust the transition duration (defaults to 0.5s), to make the progress smooth.

<Canvas>
  <Story name="Basic Example - ProgressBarPercentage">
    <ProgressBarContainer>
      <ProgressBarInner style={{ width: '50%', transitionDuration: '1s' }}>
        <ProgressBarItem className={elProgressBarItemPurple} />
        <ProgressBarItem className={elProgressBarItemDarkBlue} />
        <ProgressBarItem className={elProgressBarItemMediumBlue} />
        <ProgressBarItem className={elProgressBarItemLightBlue} />
        <ProgressBarItem className={elProgressBarItemYellow} />
      </ProgressBarInner>
      <ProgressBarLabel className={elProgressBarLabelRight}>50%</ProgressBarLabel>
    </ProgressBarContainer>
  </Story>
</Canvas>

## Basic Example - ProgressBarSteps

The progress bar steps example is very similar in terms of markup with the exception that the steps are rendered right and the percentage complete value should be determined by the number of steps completed against the total number.

<Canvas>
  <Story name="Basic Example - ProgressBarSteps">
    <ProgressBarContainer>
      <ProgressBarInner style={{ width: '50%', transitionDuration: '1s' }}>
        <ProgressBarItem className={elProgressBarItemPurple} />
        <ProgressBarItem className={elProgressBarItemDarkBlue} />
        <ProgressBarItem className={elProgressBarItemMediumBlue} />
        <ProgressBarItem className={elProgressBarItemLightBlue} />
        <ProgressBarItem className={elProgressBarItemYellow} />
      </ProgressBarInner>
      <ProgressBarLabel className={elProgressBarLabelLeft}>5/10 Completed</ProgressBarLabel>
    </ProgressBarContainer>
  </Story>
</Canvas>

## React Example - ProgressBarPercentage

In the React Example, we do the calculations of width and timing for you - simply specify a duration prop for the expected time in seconds of your event or action and we do the rest.

<Canvas>
  <Story name="React Example - ProgressBarPercentage">
    <ProgressBarPercentage duration={20} />
  </Story>
</Canvas>

## React Example - ProgressBarSteps

Similarly for steps in the React component, you just need to specify the total number of steps and the current step you have completed.

<ArgsTable of={ProgressBarSteps} />

<Canvas>
  <Story name="React Example - ProgressBarSteps">
    <ProgressBarSteps currentStep={7} numberSteps={7} />
  </Story>
</Canvas>
