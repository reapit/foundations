import { Story, Canvas, ArgsTable, Meta } from '@storybook/addon-docs'
import { Tabs } from './index'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'
import { useState } from 'react'
import { Subtitle } from '../typography'
import { InputGroup } from '../input-group'

<Meta title="Tabs" component={Tabs} />

## Multi Tabs - Tabs

The `Tabs` component uses an underlying radio button to manage toggling without JavaScript. As such, you can manage state using any Form library or by referencing the `onChange` input event.

For react users, the component does not render children, rather it accepts a list of options and maps through them on render.

As always, for non React users, you can just apply the classes in the rendered markup to your input and label elements.

Typically you will use this component as a tertiary in-page navigation.

Props available for the React version of the component;

<ArgsTable of={Tabs} />

Where `TabsOption` is defined as;

```tsx
export interface TabsOption {
  id: string
  value: string
  text: string
  isChecked: boolean
}
```

<Canvas>
  <Story name="Tabs - Default">
    <Tabs
      name="my-cool-tabs-default"
      options={[
        {
          id: 'tab-1',
          value: 'tab-1',
          text: 'Tab Content 1',
          isChecked: true,
        },
        {
          id: 'tab-2',
          value: 'tab-2',
          text: 'Tab Content 2',
          isChecked: false,
        },
        {
          id: 'tab-3',
          value: 'tab-3',
          text: 'Tab Content 3',
          isChecked: false,
        },
      ]}
    />
  </Story>
</Canvas>

<RenderHtmlMarkup component="Tabs" story="Tabs - Default" />

## Tabs - Full Width

Slight variation on the above where the Tabs spans the full width of it's container.

<Canvas>
  <Story name="Tabs - Full Width">
    <Tabs
      name="my-cool-tabs-full-width"
      isFullWidth
      options={[
        {
          id: 'tab-1-fw',
          value: 'tab-1-fw',
          text: 'Tab Content 1',
          isChecked: true,
        },
        {
          id: 'tab-2-fw',
          value: 'tab-2-fw',
          text: 'Tab Content 2',
          isChecked: false,
        },
        {
          id: 'tab-3-fw',
          value: 'tab-3-fw',
          text: 'Tab Content 3',
          isChecked: false,
        },
      ]}
    />
  </Story>
</Canvas>

<RenderHtmlMarkup component="Tabs" story="Tabs - Full Width" />

## Tabs - React Example uncontrolled

Simple example demonstrating how to transition content using tabs. In practice, you may want to dispatch to a router or similar.

The underlying radio buttons are uncontrolled by default so the `isChecked` is used to set the `defaultChecked` in this example. This is to allow the radio to behave nativele i.e. it will update the state using the `onChange` event but not vice versa.

<Canvas>
  <Story name="Tabs - React Example uncontrolled">
    {() => {
      const [tab, setTab] = useState('1')
      return (
        <>
          <Tabs
            name="my-cool-tabs-react"
            isFullWidth
            onChange={(e) => setTab(e.target.value)}
            options={[
              {
                id: 'tab-1-react',
                value: 1,
                text: 'Tab Content 1',
                isChecked: tab === '1',
              },
              {
                id: 'tab-2-react',
                value: 2,
                text: 'Tab Content 2',
                isChecked: tab === '2',
              },
              {
                id: 'tab-3-react',
                value: 3,
                text: 'Tab Content 3',
                isChecked: tab === '3',
              },
            ]}
          />
          {tab === '1' && <Subtitle hasGreyText>Tab 1 Content</Subtitle>}
          {tab === '2' && <Subtitle hasGreyText>Tab 2 Content</Subtitle>}
          {tab === '3' && <Subtitle hasGreyText>Tab 3 Content</Subtitle>}
          <InputGroup
            value={tab}
            label="The value of this input will change with the state, but updating the state of the input will not change the tab."
            type="number"
            min="1"
            max="3"
            onChange={(e) => {
              setTab(e.target.value)
            }}
          />
        </>
      )
    }}
  </Story>
</Canvas>

<RenderHtmlMarkup component="Tabs" story="Tabs - React Example uncontrolled" />

## Tabs - React Example controlled

Simple example demonstrating how to transition content using tabs. In practice, you may want to dispatch to a router or similar.

The underlying radio buttons are uncontrolled by default so the `isChecked` is used to set the `defaultChecked` in this example. This is to allow the radio to behave nativele i.e. it will update the state using the `onChange` event but not vice versa.

<Canvas>
  <Story name="Tabs - React Example controlled">
    {() => {
      const [tab, setTab] = useState('1')
      return (
        <>
          <Tabs
            name="my-cool-tabs-react-controlled"
            isFullWidth
            isControlled
            onChange={(e) => setTab(e.target.value)}
            options={[
              {
                id: 'tab-1-react-controlled',
                value: 1,
                text: 'Tab Content 1',
                isChecked: tab === '1',
              },
              {
                id: 'tab-2-react-controlled',
                value: 2,
                text: 'Tab Content 2',
                isChecked: tab === '2',
              },
              {
                id: 'tab-3-react-controlled',
                value: 3,
                text: 'Tab Content 3',
                isChecked: tab === '3',
              },
            ]}
          />
          {tab === '1' && <Subtitle hasGreyText>Tab 1 Content</Subtitle>}
          {tab === '2' && <Subtitle hasGreyText>Tab 2 Content</Subtitle>}
          {tab === '3' && <Subtitle hasGreyText>Tab 3 Content</Subtitle>}
          <InputGroup
            value={tab}
            label="The value of this input will change with the state and updating the input will change the tab"
            type="number"
            min="1"
            max="3"
            onChange={(e) => {
              setTab(e.target.value)
            }}
          />
        </>
      )
    }}
  </Story>
</Canvas>

<RenderHtmlMarkup component="Tabs" story="Tabs - React Example controlled" />
