import { Story, Canvas, ArgsTable, Meta } from '@storybook/addon-docs'
import { MultiSelect, MultiSelectChip, MultiSelectInput, elHasGreyChips } from './index'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'

<Meta title="MultiSelect" />

# Multi Select

A multi select component used similar to a select but for many options. Can also be used for navigation or toggling data.

## Basic Example

Like the toggle component, the `MultiSelectChip` is mask for a checkbox and for React users can be used as a drop in for this input type. You therefore manage state using any Form library or by referencing the `onChange` or `onClick` input events.

For non React users, you can just apply the classes in the rendered markup to your input and label elements.

Typically you will use this component when you want the user to select multiple options from a large data list.

<Canvas>
  <Story name="Basic Example">
    <MultiSelect>
      <MultiSelectChip id="item-1">Item One</MultiSelectChip>
      <MultiSelectChip id="item-2">Item Two</MultiSelectChip>
      <MultiSelectChip id="item-3">Item Three</MultiSelectChip>
      <MultiSelectChip id="item-4">Item Four</MultiSelectChip>
      <MultiSelectChip id="item-5">Item Five</MultiSelectChip>
      <MultiSelectChip id="item-6">Item Six</MultiSelectChip>
    </MultiSelect>
  </Story>
</Canvas>

<RenderHtmlMarkup component="MultiSelect" story="Basic Example" />

## Grey Chips

For placing on a white background, we offer a modifier to the chips that turn the background grey.

<Canvas>
  <Story name="Grey Chips">
    <MultiSelect>
      <MultiSelectChip className={elHasGreyChips} id="item-grey-1">
        Item One
      </MultiSelectChip>
      <MultiSelectChip className={elHasGreyChips} id="item-grey-2">
        Item Two
      </MultiSelectChip>
      <MultiSelectChip className={elHasGreyChips} id="item-grey-3">
        Item Three
      </MultiSelectChip>
      <MultiSelectChip className={elHasGreyChips} id="item-grey-4">
        Item Four
      </MultiSelectChip>
      <MultiSelectChip className={elHasGreyChips} id="item-grey-5">
        Item Five
      </MultiSelectChip>
      <MultiSelectChip className={elHasGreyChips} id="item-grey-6">
        Item Six
      </MultiSelectChip>
    </MultiSelect>
  </Story>
</Canvas>

<RenderHtmlMarkup component="MultiSelect" story="Grey Chips" />

## React Example

For React users, we supply a shorthand component `MultiSelectInput` which behaves like a normal input. As such you can listen to the `onChange` event as normal and will return the value of the selected chips.

The value property returned is a string of the selected values of the chips, where value is defined in the `MultiSelectOption` interface below.

To pre-select some options, you can pass in an array of values to be selected as a prop.

On selection of a chip, the chips are sorted so that selected items render in a row above the de-selected items. In the example, we have pre-selected item one by setting the `defaultValues` prop to illustrate this behaviour.

<ArgsTable of={MultiSelectInput} />

In the above table, `MultiSelectOption` is defined as:

```ts
export interface MultiSelectOption {
  value: string
  name: string
}
```

<Canvas>
  <Story name="React Example">
    <MultiSelectInput
      id="react-example"
      options={[
        { name: 'Item one', value: 'item-one' },
        { name: 'Item two', value: 'item-two' },
        { name: 'Item three', value: 'item-three' },
      ]}
      defaultValues={['item-one']}
    />
  </Story>
</Canvas>

<RenderHtmlMarkup component="MultiSelect" story="React Example" />
