import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { MediaStateProvider } from './'
import { MediaMobileExample, AllBreakPointExample } from './media.stories'

<Meta title="MediaStateProvider" component={MediaStateProvider} />

# MediaStateProvider

Add the provider to the root of your project and using the `useMediaQuery` hook, you can access the current screen resolution.

> React only

## Programmatic media queries

This example shows how the `useMediaQuery` hook when wrapped in the provider will return the value of one of the breakpoint variables below.

The underlying code in the `MediaMobileExample` component is shown below:

```tsx
export const MediaMobileExample = () => {
  const { isMobile } = useMediaQuery()

  return isMobile ? <h1>Is Mobile</h1> : <h1>Not Mobile</h1>
}
```

<Canvas>
  <Story name="MediaStateProvider usage">
    <MediaStateProvider>
      <MediaMobileExample />
    </MediaStateProvider>
  </Story>
</Canvas>

## Available break points

This example shows how the `useMediaQuery` will return the relevant code depending on which of the breakpoints is current.

> Note: all breakpoints viewed here are calculated from the iframe width

The underlying code in the `AllBreakPointExample` component is shown below:

```tsx
export const AllBreakPointExample = () => {
  const { isMobile, isTablet, isDesktop, isWideScreen, isSuperWideScreen, is4KScreen } = useMediaQuery()

  if (isMobile) {
    return <h1>Is Mobile</h1>
  }

  if (isTablet) {
    return <h1>Is Tablet</h1>
  }

  if (isDesktop) {
    return <h1>Is Tablet</h1>
  }

  if (isWideScreen) {
    return <h1>Is Tablet</h1>
  }

  if (isSuperWideScreen) {
    return <h1>Is Tablet</h1>
  }

  if (is4KScreen) {
    return <h1>Is Tablet</h1>
  }
}
```

<Canvas>
  <Story name="MediaStateProvider breakpoints">
    <MediaStateProvider>
      <AllBreakPointExample />
    </MediaStateProvider>
  </Story>
</Canvas>

| Variable            | breakpoint sum    |
| ------------------- | ----------------- |
| `isMobile`          | < 768             |
| `isTable`           | >= 768 && < 1024  |
| `isDesktop`         | >= 1024 && < 1440 |
| `isWideScreen`      | >= 1440 && < 1920 |
| `isSuperWideScreen` | >= 1920 && < 2560 |
| `is4KScreen`        | >= 2560           |
