import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import { InputGroup } from './index'
import { Input } from '../Input'
import { Icon } from '../Icon'
import { Label } from '../Label'
import { AfterInputText } from '../AfterInputText'

<Meta title="V3/Forms/InputGroup" component={InputGroup} />

# InputGroup

Underlying tag: `<div>`

InputGroup provides a wrapper and styling for the `Input`, `Icon`, `Label`, and `AfterInputText` components, so that they can work nicely together.

### Usage with HTML & CSS only

- The order of the child components matters, in order to make the focus state work (i.e. the different styling applied when you click into the component)
- The `<input>` component must come first in the DOM, before the `<label>`, and the `<span>` for the icon and AfterInputText, as is shown in the HTML docs

### Usage with React

- You can supply the child components individually (ensure the `Input` component is included as the first child). When using like this, any additional props on the `InputGroup` component are added to the underlying `div`.
- Or, there is also a shorthand for React where you can supply props. This only works if _no children_ are supplied

# Complete example, with Icon, Label, and AfterInputText

<Canvas>
  <Story name="Complete example">
    <InputGroup>
      <Input id="myId" type="text" />
      <Icon icon="username" />
      <Label htmlFor="myId">Enter your username</Label>
      <AfterInputText>Required</AfterInputText>
    </InputGroup>
  </Story>
</Canvas>

# With Icon only

<Canvas>
  <Story name="With Icon only">
    <InputGroup>
      <Input id="myId2" type="tel" placeholder="Enter your mobile number" />
      <Icon icon="phone" />
    </InputGroup>
  </Story>
</Canvas>

# With Label only

<Canvas>
  <Story name="With Label only">
    <InputGroup>
      <Input id="myId3" type="email" />
      <Label htmlFor="myId3">Email address</Label>
    </InputGroup>
  </Story>
</Canvas>

# With AfterInputText only

<Canvas>
  <Story name="With AfterInputText only">
    <InputGroup>
      <Input id="myId3" type="email" />
      <AfterInputText>Required</AfterInputText>
    </InputGroup>
  </Story>
</Canvas>

# Shorthand usage for React users

<ArgsTable of={InputGroup} />

#### Any additional props not listed here are added to the `Input` component that is rendered as part of `InputGroup`. This way you can easily supply `onChange`, `type`, etc props to the underlying `Input`

### React shorthand with `icon` and `label` props

<Canvas>
  <Story name="React shorthand">
    <InputGroup icon="home" label="Please enter an address" type="text" />
  </Story>
</Canvas>

### As above, with a custom ID

<Canvas>
  <Story name="React shorthand - custom ID">
    <InputGroup id="my-id" icon="home" label="Please enter an address" type="text" />
  </Story>
</Canvas>

### With `icon`, `label`, `afterInputText` and `intent` props

<Canvas>
  <Story name="React shorthand - all props">
    <InputGroup icon="asterisk" label="Email address" afterInputText="Required" intent="danger" type="text" />
  </Story>
</Canvas>
