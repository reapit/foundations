import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import { InputGroup } from './index'
import { Input } from '../Input'
import { Icon } from '../Icon'
import { Label } from '../Label'
import { AfterInputText } from '../AfterInputText'
import { RenderHtmlMarkup } from '../../helpers/v3/render-html-markup'

<Meta title="V3/Forms/InputGroup" component={InputGroup} />

# InputGroup

Underlying tag: `<div>`

InputGroup provides a wrapper and styling for the `Input`, `Icon`, `Label`, and `AfterInputText` components, so that they can work nicely together.

### Usage with HTML & CSS only

- The order of the child components matters, in order to make the focus state work (i.e. the different styling applied when you click into the component)
- The `<input>` component must come first in the DOM, before the `<label>`, and the `<span>` for the icon and AfterInputText, as is shown in the HTML docs

### Usage with React

- You can supply the child components individually (ensure the `Input` component is included as the first child). When using like this, any additional props on the `InputGroup` component are added to the underlying `div`.
- Or, there is also a shorthand for React where you can supply props. This only works if _no children_ are supplied

# Complete example, with Icon, Label, and AfterInputText

<Canvas>
  <Story name="Complete example">
    <InputGroup>
      <Input id="myId" type="text" />
      <Icon icon="username" />
      <Label htmlFor="myId">Enter your username</Label>
      <AfterInputText>Required</AfterInputText>
    </InputGroup>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/Forms/InputGroup" story="Complete example" />

# With Icon only

<Canvas>
  <Story name="With Icon only">
    <InputGroup>
      <Input id="myId2" type="tel" placeholder="Enter your mobile number" />
      <Icon icon="phone" />
    </InputGroup>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/Forms/InputGroup" story="With Icon only" />

# With Label only

<Canvas>
  <Story name="With Label only">
    <InputGroup>
      <Input id="myId3" type="email" />
      <Label htmlFor="myId3">Email address</Label>
    </InputGroup>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/Forms/InputGroup" story="With Label only" />

# With AfterInputText only

<Canvas>
  <Story name="With AfterInputText only">
    <InputGroup>
      <Input id="myId3" type="email" />
      <AfterInputText>Required</AfterInputText>
    </InputGroup>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/Forms/InputGroup" story="With AfterInputText only" />

# Shorthand usage for React users

<ArgsTable of={InputGroup} />

#### Any additional props not listed here are added to the `Input` component that is rendered as part of `InputGroup`. This way you can easily supply `onChange`, `type`, etc props to the underlying `Input`

### React shorthand with `icon` and `label` props

<Canvas>
  <Story name="React shorthand">
    <InputGroup icon="home" label="Please enter an address" type="text" />
  </Story>
</Canvas>

### As above, with a custom ID

<Canvas>
  <Story name="React shorthand - custom ID">
    <InputGroup id="my-id" icon="home" label="Please enter an address" type="text" />
  </Story>
</Canvas>

### With `icon`, `label`, `afterInputText` and `intent` props

<Canvas>
  <Story name="React shorthand - all props">
    <InputGroup icon="asterisk" label="Email address" afterInputText="Required" intent="danger" type="text" />
  </Story>
</Canvas>

# Different input types

## Checkbox

<Canvas>
  <Story name="Type: checkbox">
    <InputGroup type="checkbox" icon="phone" label="Status" afterInputText="Listed" />
  </Story>
  <Story name="Type: checkbox - with intent">
    <InputGroup type="checkbox" icon="info" intent="danger" label="Status" afterInputText="Listed" />
  </Story>
  <Story name="Type: checkbox - no icon">
    <InputGroup type="checkbox" label="Status" afterInputText="Listed" />
  </Story>
  <Story name="Type: checkbox - no label">
    <InputGroup type="checkbox" afterInputText="Listed" />
  </Story>
</Canvas>

<RenderHtmlMarkup
  component="V3/Forms/InputGroup"
  story={['Type: checkbox', 'Type: checkbox - with intent', 'Type: checkbox - no icon', 'Type: checkbox - no label']}
  label="HTML of the above"
/>

## Radio

<Canvas>
  <Story name="Type: radio">
    <Label className="el-mb2 el-flex">Preffered contact</Label>
    <InputGroup className="el-mb2" type="radio" name="phone" icon="phone" label="Mobile phone" />
    <InputGroup className="el-mb2" type="radio" name="phone" icon="home" label="Home phone" />
    <InputGroup className="el-mb2" type="radio" name="phone" icon="email" label="Email" />
  </Story>
  <Story name="Type: radio - with intent">
    <Label className="el-mb2 el-flex">Preffered contact</Label>
    <InputGroup className="el-mb2" type="radio" name="phone" icon="phone" label="Mobile phone" intent="danger" />
    <InputGroup className="el-mb2" type="radio" name="phone" icon="home" label="Home phone" intent="danger" />
    <InputGroup className="el-mb2" type="radio" name="phone" icon="email" label="Email" intent="danger" />
  </Story>
  <Story name="Type: radio - no icon">
    <Label className="el-mb2 el-flex">Preffered contact</Label>
    <InputGroup className="el-mb2" type="radio" name="phone" label="Mobile phone" />
    <InputGroup className="el-mb2" type="radio" name="phone" label="Home phone" />
    <InputGroup className="el-mb2" type="radio" name="phone" label="Email" />
  </Story>
</Canvas>

<RenderHtmlMarkup
  component="V3/Forms/InputGroup"
  story={['Type: radio', 'Type: radio - with intent', 'Type: radio - no icon']}
  label="HTML of the above"
/>

#### Use with radio input type and afterInputText

The `afterInputText` prop (and use of the `AfterInputText` component within `InputGroup` in general) _is_ supported with radio buttons, however with radio buttons the `Label` does most of the work.

`AfterInputText` can be used but won't add that much value, and it's reccomended to use just `Label` on it's own. See an example below:

<Canvas>
  <Story name="Type: radio - with afterInputText">
    <Label className="el-mb2 el-flex">Preffered contact</Label>
    <InputGroup className="el-mb2" type="radio" name="phone" label="Mobile phone" afterInputText="Test" />
    <InputGroup className="el-mb2" type="radio" name="phone" label="Home phone" afterInputText="Test" />
    <InputGroup className="el-mb2" type="radio" name="phone" label="Email" afterInputText="Test" />
  </Story>
</Canvas>
