import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import { Snack } from './index'
import { SnackProvider } from '../../contexts/snacks'
import { UseSnackHookStory } from './useSnackHook.stories'
import useSnack from '../../hooks/useSnack-v3'
import { RenderHtmlMarkup } from '../../helpers/v3/render-html-markup'

<Meta title="V3/Snack" component={Snack} />

# Snack

.

# React usage

A context and a hook is provided to use the Snack component out of the box

## Complete example with `SnackProvider` and `useSnack` hook

<Canvas>
  <Story name="useSnack hook">
    <SnackProvider>
      <UseSnackHookStory />
    </SnackProvider>
  </Story>
</Canvas>

You must wrap your whole application in the `SnackProvider` component. Thereafter you can use the `useSnack` hook in any component to trigger a hook.

## `useSnack` API

Exports the following methods

- `custom`: (snack: ISnack, timeout?: number) => void
- `success`: (text: string, timeout?: number) => void
- `info`: (text: string, timeout?: number) => void
- `error`: (text: string, timeout?: number) => void
- `warning`: (text: string, timeout?: number) => void

#### Description of arguments

- `snack`: See below for the properties of the `ISnack` interface
- `timeout`: Set to `0` to stop a Snack from disappearing on it's own. It would then have to be dismissed by the user instead.
- `text`: The text content that will be shown inside the snack

.

# UI Component (for use in HTML or other frameworks)

The Snack component can be used for UI purposes only, but won't have the functionality of the React implementation (i.e. the timeouts, appearing at the top of the screen, etc)

Underlying tag: `<div>`

<Canvas>
  <Story name="Default Usage">
    <Snack>Message goes here</Snack>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/Snack" story="Default Usage" />

<ArgsTable of={Snack} />

## With an icon

<Canvas>
  <Story name="With an icon">
    <Snack icon="info">Message goes here</Snack>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/Snack" story="With an icon" />

## Different intents

<Canvas>
  <Story name="Intent: primary">
    <Snack icon="info" intent="primary">
      Primary message goes here
    </Snack>
  </Story>
  <Story name="Intent: secondary">
    <Snack intent="secondary" icon="info">
      Secondary message goes here
    </Snack>
  </Story>
  <Story name="Intent: Critical">
    <Snack intent="critical" icon="warning">
      Critical message goes here
    </Snack>
  </Story>
  <Story name="Intent: success">
    <Snack intent="success" icon="thick">
      Success message goes here
    </Snack>
  </Story>
  <Story name="Intent: danger">
    <Snack intent="danger" icon="error">
      Danger message goes here
    </Snack>
  </Story>
</Canvas>

<RenderHtmlMarkup
  component="V3/Snack"
  story={['Intent: primary', 'Intent: secondary', 'Intent: Critical', 'Intent: success', 'Intent: danger']}
  label="Snacks with different intents"
/>

## Additional className

Set the `className` prop to add additional custom CSS classes

<Canvas>
  <Story name="Additional className">
    <Snack className="my-custom-className">Snack with additional className</Snack>
  </Story>
</Canvas>

## Other attributes

All other standard HTML attributes for `<div>` are supported and are passed through to the React component
