import { useState } from 'react'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import {
  ProgressBarPercentage,
  ProgressBarSteps,
  ProgressBarContainer,
  ProgressBarInner,
  ProgressBarItem,
} from './progress-bar'
import { RenderHtmlMarkup } from '../../helpers/v3/render-html-markup'
import {
  elProgressBarLabelRight,
  elProgressBarItemDarkBlue,
  elProgressBarItemLightBlue,
  elProgressBarItemLightestBlue,
  elProgressBarItemMediumBlue,
  elProgressBarItemOrange,
  elProgressBarLabelLeft
} from './__styles__'

<Meta title="V3/ProgressBar" />

# Progress Bar

There are two flavors of `ProgressBar` - one showing percentage complete of an action, the other showing steps completed.

## Basic Example - ProgressBarPercentage

In the percentage progress bar, if not using the React component, you will need to render both the percentage completed within the label class and add a percentage width to the progress bar inner.

In this example we add the width as an inline style so we can control progress based on an asynchronous action with JavaScript. Depending on the speed of completion, of your task, you may also wish to adjust the transition duration (defaults to 0.5s), to make the progress smooth.

<Canvas>
  <Story name="Basic Example - ProgressBarPercentage">
    <ProgressBarContainer>
      <ProgressBarInner style={{ width: '50%', transitionDuration: '1s' }}>
        <ProgressBarItem className={elProgressBarItemDarkBlue} />
        <ProgressBarItem className={elProgressBarItemMediumBlue} />
        <ProgressBarItem className={elProgressBarItemLightBlue} />
        <ProgressBarItem className={elProgressBarItemLightestBlue} />
        <ProgressBarItem className={elProgressBarItemOrange} />
      </ProgressBarInner>
      <ProgressBarLabel className={elProgressBarLabelRight}>50%</ProgressBarLabel>
    </ProgressBarContainer>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/ProgressBar" story="Basic Example - ProgressBarPercentage" />

## Basic Example - ProgressBarSteps

The progress bar steps example is very similar in terms of markup with the exception that the steps are rendered right and the percentage complete value should be determined by the number of steps completed against the total number.

<Canvas>
  <Story name="Basic Example - ProgressBarSteps">
    <ProgressBarContainer>
      <ProgressBarInner style={{ width: '50%', transitionDuration: '1s' }}>
        <ProgressBarItem className={elProgressBarItemDarkBlue} />
        <ProgressBarItem className={elProgressBarItemMediumBlue} />
        <ProgressBarItem className={elProgressBarItemLightBlue} />
        <ProgressBarItem className={elProgressBarItemLightestBlue} />
        <ProgressBarItem className={elProgressBarItemOrange} />
      </ProgressBarInner>
      <ProgressBarLabel className={elProgressBarLabelLeft}>
        5/10 Completed
      </ProgressBarLabel>
    </ProgressBarContainer>
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/ProgressBar" story="Basic Example - ProgressBarSteps" />

## React Example - ProgressBarPercentage

In the React Example, we do the calculations of width and timing for you - simply specify a duration prop for the expected time in seconds of your event or action and we do the rest.

<ArgsTable of={ProgressBarPercentage} />

<Canvas>
  <Story name="React Example - ProgressBarPercentage">
    <ProgressBarPercentage duration={20} />
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/ProgressBar" story="React Example - ProgressBarPercentage" />

## React Example - ProgressBarSteps

Similarly for steps in the React component, you just need to specify the total number of steps and the current step you have completed.

<ArgsTable of={ProgressBarSteps} />

<Canvas>
  <Story name="React Example - ProgressBarSteps">
    <ProgressBarSteps currentStep={7} numberSteps={7} />
  </Story>
</Canvas>

<RenderHtmlMarkup component="V3/ProgressBar" story="React Example - ProgressBarSteps" />
